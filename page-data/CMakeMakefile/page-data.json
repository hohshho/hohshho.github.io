{"componentChunkName":"component---src-templates-post-tsx","path":"/CMakeMakefile/","result":{"data":{"site":{"siteMetadata":{"title":"Just Keep Going","description":"Ian's Archive","siteUrl":"https://hohshho.github.io"}},"allMarkdownRemark":{"edges":[{"node":{"id":"57ffa947-3b58-5a17-9f9c-90f0a34537f7","html":"<p>흠… c로 작성된 코드를 빌드하는 과정에 대해 알아보기 위해 정리한다</p>\n<h1 id=\"c언어-빌드-과정-build-process\" style=\"position:relative;\"><a href=\"#c%EC%96%B8%EC%96%B4-%EB%B9%8C%EB%93%9C-%EA%B3%BC%EC%A0%95-build-process\" aria-label=\"c언어 빌드 과정 build process permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>C언어 빌드 과정 (Build Process)</h1>\n<h2 id=\"gcc란\" style=\"position:relative;\"><a href=\"#gcc%EB%9E%80\" aria-label=\"gcc란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GCC란?</h2>\n<blockquote>\n<p>GCC(GNU Compiler Collection)는 GNU 프로젝트의 일환으로 개발되어 널리 쓰이고 있는 컴파일러</p>\n</blockquote>\n<p>여기서 말하는 GNU는 GNU’s not UNIX의 재귀약자로, 리처드 스톨먼이 각종 자유 소프트웨어들이 돌아가고 번영할 수 있는 기반 생태계를 구축하기 위해 시작한 프로젝트</p>\n<p>GCC는 C만을 지원한 컴파일러였지만 후에 다른 언어들도 컴파일 가능해졌다.</p>\n<h2 id=\"컴파일러란\" style=\"position:relative;\"><a href=\"#%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC%EB%9E%80\" aria-label=\"컴파일러란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컴파일러란</h2>\n<blockquote>\n<p>어떤 프로그래밍 언어로 쓰여진 소스 파일을 다른 언어로 바꾸어주는 번역기</p>\n</blockquote>\n<p>컴파일(Compile) : 어떤 언어의 코드를 다른 언어로 바꿔주는 과정<br>\nex) 사람이 작성한 c언어 코드 -> 기계어</p>\n<p>먼저 c로 간단한 프로그램 작성 후 gcc로 빌드 해보자</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"72707326589977870000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`#include <stdio.h>\r\n\r\nint main() {\r\n    printf(&quot;hello world!&quot;);\r\n    return 0;\r\n}`, `72707326589977870000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"c\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">#include</span><span class=\"mtk4\"> </span><span class=\"mtk8\">&lt;stdio.h&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">int</span><span class=\"mtk1\"> </span><span class=\"mtk11\">main</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">printf</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;hello world!&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"74642016407597020000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`gcc hello.c -o hello`, `74642016407597020000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">gcc hello.c -o hello</span></span></span></code></pre>\n<p>hello 실행 파일이 생기고 명령어 실행 시 해당 파일이 실행된다</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"70222922737835835000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`./hello\r\n# hello world!`, `70222922737835835000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">./hello</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># hello world!</span></span></span></code></pre>\n<p>자세한 과정에 대해 알아보자</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 491px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec25c19884946d8da7e4e5c37aebb64a/ca2ce/cbuild.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95.70552147239263%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVR42pWUXWvTYBTH91G89hsIXoh4o5fCkIEIXm2iV17tCwiCt4qIXq0Kss2xOfciuLrZdS+O6XRds7w/aZqkaZIuTZq0SdP9TbMWtlW67oHDeS7OOTn/3zlPhtA5xx0fRk384LewkF/BAhVb/hsWqTS+xL5tlM6exB93M86eoe6l1QkoOQauvriJ6y/v4s67B7j1ZgQ3Xg9j5MMTXHl2DWPT40lc1Ir6F+x+seLbGJ4Yw73UI4zGyQ8/PsVI6jFGp8Zx++19PE+/6hRs9S94/nQ7VlUVtl3tK7NvwSAKwNkCiFOA0tCQ12lwRwKUugbRlVB01Q7zCxh2A7ymj53SLmYzc5hYTGEmM4vp1U9ILb3H5+15sK4AHF+yQzbuUHAIaIPBQYmKJ0uDrfBgjviTDuOCrZhhFEU9GHoKtgPqQQN+UEeEFmStCJpnwBI+8TTLoCjLUBQFcuzL5fIZvj2S/WYdlM2AcwTsSr+xwWwhS2/iV2EPjMNBqErnNvcChrXAQ86hwNcELP5cSmxyZQorf9IgYQFcm+FlptxeWK2mQ/N0mGEFoiVBMERIFRm0ykKpqPBqHjzfg+u6gzF0Gi7cRg0BQhBVAiOxIJoEWmQSpiWtBMuyoOt6Mpj+axP6yNkU8iaFNSqDdWYD33OryMR3yj4E75LB3vJphgfOIf6W9jGXnY8ZLmN552tih1UGxC9cjmFXctsasWjVVBPJnCyAV0QQWYJpmMnahGE42FB0z0jMCirgNB6CLkIoE4gGQdFU4Hs+qtVqD7//Sw497Fn7kAIJ62wW02szmExPIWfmIYYkXhtxMMmnF3vfopLEnEEhy20jQ2dxEA8pf3TyBAf6OZxm2P5rB80wSTLMMkhBgqzIybNTVKXvlP8BYjmV0jf/U+UAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ec25c19884946d8da7e4e5c37aebb64a/a81b5/cbuild.webp 163w,\n/static/ec25c19884946d8da7e4e5c37aebb64a/da3ef/cbuild.webp 325w,\n/static/ec25c19884946d8da7e4e5c37aebb64a/f7fc7/cbuild.webp 491w\"\n              sizes=\"(max-width: 491px) 100vw, 491px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ec25c19884946d8da7e4e5c37aebb64a/5e043/cbuild.png 163w,\n/static/ec25c19884946d8da7e4e5c37aebb64a/e5cc6/cbuild.png 325w,\n/static/ec25c19884946d8da7e4e5c37aebb64a/ca2ce/cbuild.png 491w\"\n            sizes=\"(max-width: 491px) 100vw, 491px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ec25c19884946d8da7e4e5c37aebb64a/ca2ce/cbuild.png\"\n            alt=\"cbuild\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>소스 코드를 실행 파일로 만들기 위해선 4단계를 거친다.</p>\n<ol>\n<li>전처리 단계</li>\n<li>컴파일 단계</li>\n<li>어셈블 단계</li>\n<li>링크 단계</li>\n</ol>\n<p><code>gcc hello.c</code> 명령어를 입력하면 실행 파일이 생성되지만, 각 단계의 파일들은 임시 파일로 생성되었다가 사라진다.</p>\n<p>궁금하면 아래 명령어 실행 시 모든 중간파일 확인 가능하다</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"70436414727211650000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`\\$ gcc -Wall -save-temps {파일 이름}.c –o {파일 이름}`, `70436414727211650000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ gcc -Wall -save-temps {파일 이름}.c –o {파일 이름}</span></span></span></code></pre>\n<p><code>-W</code>, <code>-Wall</code>은 컴파일 시 컴파일 되지 않을 정도의 오류라도 모두 출력하는 옵션</p>\n<h2 id=\"1-전처리-단계\" style=\"position:relative;\"><a href=\"#1-%EC%A0%84%EC%B2%98%EB%A6%AC-%EB%8B%A8%EA%B3%84\" aria-label=\"1 전처리 단계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 전처리 단계</h2>\n<p>전처리 된 파일은 <code>{파일 이름}.i</code>에 저장된다.</p>\n<p><code>#</code>으로 시작하고, 세미콜론 없이 개행문자로 종료되는 라인을 의미한다.</p>\n<table>\n<thead>\n<tr>\n<th>전처리 지시자</th>\n<th>기능</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>#include</td>\n<td>프로그램 외부 파일을 불러옴</td>\n</tr>\n<tr>\n<td>#define</td>\n<td>매크로 상수/함수 정의</td>\n</tr>\n<tr>\n<td>#undef</td>\n<td>정의한 매크로 취소</td>\n</tr>\n<tr>\n<td>#if ~ (#elif ~ #else ~) #endif</td>\n<td>조건부 컴파일</td>\n</tr>\n</tbody>\n</table>\n<p>전처리 단계에선</p>\n<ol>\n<li>\n<p>주석 제거</p>\n<ul>\n<li>주석을 제거해 실제 코드만을 대상으로 컴파일</li>\n</ul>\n</li>\n<li>\n<p>매크로 확장</p>\n<ul>\n<li>소스 코드에 정의된 매크로는 해당 매크로가 사용된 곳에 매크로의 내용을 대체하는 과정을 거침</li>\n<li>매크로는 <code>#define</code>지시문을 통해 정의되며, 컴파일러는 소스 코드를 처리할 때 해당 매크로를 그에 대응하는 내용으로 치환</li>\n</ul>\n</li>\n<li>\n<p>포함된 파일을 확장</p>\n<ul>\n<li>소스 파일에서 다른 헤더 파일을 <code>#include</code> 지시문을 사용해 포함</li>\n</ul>\n</li>\n<li>\n<p>조건부 컴파일</p>\n<ul>\n<li><code>#ifdef</code>같은 전처리기 지시문을 사용해 소스 코드의 일부를 컴파일하는지 여부 결정</li>\n</ul>\n</li>\n</ol>\n<p>4단계를 거쳐 <code>hello.i</code>파일이 생성된다.</p>\n<h2 id=\"2-컴파일-단계\" style=\"position:relative;\"><a href=\"#2-%EC%BB%B4%ED%8C%8C%EC%9D%BC-%EB%8B%A8%EA%B3%84\" aria-label=\"2 컴파일 단계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 컴파일 단계</h2>\n<p>전처리 된 <code>hello.i</code> 파일을 통해 <code>어셈블리어</code>로 된 <code>hello.s</code>파일을 생성한다.</p>\n<h2 id=\"3-어셈블-단계\" style=\"position:relative;\"><a href=\"#3-%EC%96%B4%EC%85%88%EB%B8%94-%EB%8B%A8%EA%B3%84\" aria-label=\"3 어셈블 단계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 어셈블 단계</h2>\n<p>어셈블리 파일 <code>hello.s</code>를 기계어로 된 오브젝트 파일 <code>hello.o</code>파일로 변환한다.</p>\n<p>즉, 0과1로 이루어진 2진수 코드로 변환 (바이너리 코드)</p>\n<h2 id=\"4-링크-단계\" style=\"position:relative;\"><a href=\"#4-%EB%A7%81%ED%81%AC-%EB%8B%A8%EA%B3%84\" aria-label=\"4 링크 단계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 링크 단계</h2>\n<p>작성한 프로그램이 사용하는 다른 프로그램이나 라이브러리를 가져와서 연결<br>\n-> <strong>실행 가능한 파일 생성</strong></p>\n<p>더 자세한 과정이 궁금하면 아래 포스팅을 참고하자</p>\n<p><a href=\"https://www.linkedin.com/pulse/c-build-process-details-abdelaziz-moustafa/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">C Build Process in details -\r\nAbdelaziz Moustafa</a></p>\n<h1 id=\"make란\" style=\"position:relative;\"><a href=\"#make%EB%9E%80\" aria-label=\"make란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Make란?</h1>\n<blockquote>\n<p>파일 관리 유틸리티</p>\n</blockquote>\n<ul>\n<li>반복적인 명령 자동화를 위한 것</li>\n<li>파일간의 종속관계를 파악해 <code>MakeFile(기술파일)</code>에 적힌대로 컴파일러에 명령해 SHELL 명령이 순차적으로 실행된다.</li>\n</ul>\n<p>즉, 반복적인 명령의 자동화로 인한 단숙 <code>반복 작업 및 재작성 최소화</code>가 되고,</p>\n<p>프로그램 종속 구조를 빠르게 파악할 수 있어 관리가 용이하다.<br>\n(또한 <code>gcc -o main.c main.c</code>같은 실수를 피할 수 있다… ㅋㅋ)</p>\n<h1 id=\"makefile이란\" style=\"position:relative;\"><a href=\"#makefile%EC%9D%B4%EB%9E%80\" aria-label=\"makefile이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Makefile이란?</h1>\n<blockquote>\n<p><code>Makefile</code>은 프로그램을 빌드하기 위해 <code>make</code>문법에 맞춰 작성하는 문서이다.</p>\n</blockquote>\n<p>Make파일의 구조는 다음과 같은 구조를 가진다.</p>\n<ul>\n<li>목적파일(Target) : 명령어가 수행되어 나온 결과를 저장</li>\n<li>의존성(Dependency) : 목적파일을 만들기 위해 필요한 재료</li>\n<li>명령어(Command) : 실행 되어야 할 명령어들</li>\n<li>매크로(Macro) : 코드를 단순화 시키기 위한 방법</li>\n</ul>\n<p>기본적으로 목표(target), 의존 관계(dependency), 명령(command)세개로 이루어진기본 규칙들이 계속 나열</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"53651697132830286000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`CC = gcc # 매크로 정의\r\n\r\ntarget1 : dependency1 dependency2 # 타겟절 : 의존성\r\n        command1                  # 명령어\r\n        command2                  # 명령어\r\n\r\ntarget2 : dependency3 dependency4 # 타겟절 : 의존성\r\n        command3                  # 명령어\r\n        command4                  # 명령어`, `53651697132830286000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"makefile\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">CC</span><span class=\"mtk1\"> = gcc </span><span class=\"mtk3\"># 매크로 정의</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">target1</span><span class=\"mtk1\"> : dependency1 dependency2 </span><span class=\"mtk3\"># 타겟절 : 의존성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        command1                  </span><span class=\"mtk3\"># 명령어</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        command2                  </span><span class=\"mtk3\"># 명령어</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">target2</span><span class=\"mtk1\"> : dependency3 dependency4 </span><span class=\"mtk3\"># 타겟절 : 의존성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        command3                  </span><span class=\"mtk3\"># 명령어</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        command4                  </span><span class=\"mtk3\"># 명령어</span></span></span></code></pre>\n<h2 id=\"makefile-규칙\" style=\"position:relative;\"><a href=\"#makefile-%EA%B7%9C%EC%B9%99\" aria-label=\"makefile 규칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Makefile 규칙</h2>\n<p>작성할 때 규칙은 다음과 같다</p>\n<ol>\n<li>명령의 시작은 반드시 TAB으로 시작</li>\n</ol>\n<ul>\n<li>make 규칙으로 명령은 TAB으로 시작</li>\n<li>TAB으로 시작하지 않은 명령 절을 만나면 make는 명령 절이 아니라 타겟절로 해석</li>\n</ul>\n<ol start=\"2\">\n<li>\n<p>비어있는 행은 무시</p>\n</li>\n<li>\n<p><code>#</code>을 만나면 개행 문자를 만날 때 까지 무시한다</p>\n</li>\n<li>\n<p>기술 행이 길어지면 <code>\\</code>을 사용해 이을 수 있다.</p>\n</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"65540487819927740000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`target1 : dependency1 dependency2 \\\r\n          dependency3 dependency4`, `65540487819927740000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"makefile\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">target1</span><span class=\"mtk1\"> : dependency1 dependency2 </span><span class=\"mtk6\">\\</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          dependency3 dependency4</span></span></span></code></pre>\n<ol start=\"5\">\n<li>\n<p><code>;</code>은 명령라인을 나눌 때 사용 가능하다</p>\n</li>\n<li>\n<p>종속 항목이 없는 타겟도 사용 가능하다</p>\n</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"94763456100471140000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`clean:\r\n  rm -rf *.o target1 target2`, `94763456100471140000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"makefile\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">clean</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  rm -rf *.o target1 target2</span></span></span></code></pre>\n<ul>\n<li>종속 항목이 없기 때문에 명령 절은 바로 수행</li>\n</ul>\n<ol start=\"7\">\n<li>레이블 사용 (명령 부분에는 어떤 명령이 와도 상관없다.)</li>\n</ol>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">target1 : dependency1 dependency2</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  cp -f file1 file2</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  gcc -o target1 dependency1 dependency2</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  gdb target1</span></span></code></pre>\n<ul>\n<li>어떤 명령이라도 알맞게 사용 가능</li>\n</ul>\n<ol start=\"8\">\n<li>매크로 사용</li>\n</ol>\n<p>매크로 사용은 <code>${...}</code>, <code>$(...)</code>, <code>$...</code> 모두 사용 가능</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"16594368180780972000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`OBJECTS = main.o read.o write.o\r\n\r\ntest : \\$(OBJECTS)\r\n    gcc -o test \\$(OBJECTS)\r\n\r\nmain.o : io.h main.c\r\n    gcc -c main.c\r\nread.o : io.h read.c\r\n    gcc -c read.c\r\nwrite.o: io.h write.c\r\n    gcc -c write.c`, `16594368180780972000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"makefile\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">OBJECTS</span><span class=\"mtk1\"> = main.o read.o write.o</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">test</span><span class=\"mtk1\"> : </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">OBJECTS</span><span class=\"mtk8\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    gcc -o test </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">OBJECTS</span><span class=\"mtk8\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">main.o</span><span class=\"mtk1\"> : io.h main.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    gcc -c main.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">read.o</span><span class=\"mtk1\"> : io.h read.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    gcc -c read.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">write.o</span><span class=\"mtk1\">: io.h write.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    gcc -c write.c</span></span></span></code></pre>\n<ol start=\"9\">\n<li>내장 규칙(Built-in Rule)</li>\n</ol>\n<p>Make는 자주 사용되는 빌드 규칙들은 내장을 해서 자동으로 처리<br>\n(ex - 소스 파일(<em>.c)을 컴파일해서 Object 파일(</em>.o)로 만들어 주는 규칙)</p>\n<ol start=\"10\">\n<li>\n<p>Makefile은 아래에서부터 위로 실행</p>\n</li>\n<li>\n<p>환경 변수</p>\n</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>변수</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CC</td>\n<td>컴파일러 지정</td>\n</tr>\n<tr>\n<td>INC</td>\n<td>include 되는 헤더 파일의 패스를 추가</td>\n</tr>\n<tr>\n<td>LIBS</td>\n<td>링크할 때 필요한 라이브러리를 추가</td>\n</tr>\n<tr>\n<td>CFLAGS</td>\n<td>컴파일에 필요한 각종 옵션을 추가</td>\n</tr>\n<tr>\n<td>OBJS</td>\n<td>목적 파일 이름</td>\n</tr>\n<tr>\n<td>SRCS</td>\n<td>소스 파일 이름</td>\n</tr>\n<tr>\n<td>TARGET</td>\n<td>링크 후에 생성될 실행 파일의 이름</td>\n</tr>\n<tr>\n<td>clean</td>\n<td>makefile실행 후 지울 파일 목록</td>\n</tr>\n</tbody>\n</table>\n<p>기본적인 makefile 규칙들이고 더 자세한 내용은 아래 글 참고</p>\n<p><a href=\"https://wiki.kldp.org/KoreanDoc//html/GNU-Make/GNU-Make-3.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">3. 매크로(Magro)와 확장자 규칙</a><br>\n<a href=\"https://wiki.kldp.org/KoreanDoc//html/GNU-Make/GNU-Make-4.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">4. Makefile를 작성할 때 알면 좋은 것들</a><br>\n<a href=\"https://wiki.kldp.org/KoreanDoc//html/GNU-Make/GNU-Make-5.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">5. make 중요 옵션 정리</a></p>\n<hr>\n<p>간단한 예시</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"41194864436419000000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`.SUFFIXES : .c .o     --+\r\nCFLAGS = -g             |\r\n                        |\r\nOBJS = main.o \\         |\r\nread.o \\                | 매크로 정의 부분\r\nwrite.o                 |\r\nSRCS = \\$(OBJS:.o=.c)    |\r\n                        |\r\nTARGET = test         --+\r\n\r\n\\$(TARGET): \\$(OBJS)                    --+\r\n                \\$(CC) -o \\$@ \\$(OBJS)             |\r\ndep :                                   |\r\n                gccmakedpend \\$(SRCS)            |\r\nnew :                                   | 명령어 정의 부분\r\n                touch \\$(SRCS) ; \\$(MAKE)         |\r\nclean :                                 |\r\n                \\$(RM) \\$(OBJS) \\$(TARGET) core  --+`, `41194864436419000000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"makefile\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">.SUFFIXES</span><span class=\"mtk1\"> : .c .o     --+</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">CFLAGS</span><span class=\"mtk1\"> = -g             |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">OBJS</span><span class=\"mtk1\"> = main.o \\         |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">read.o \\                | 매크로 정의 부분</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">write.o                 |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">SRCS</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">OBJS:.o=.c</span><span class=\"mtk8\">)</span><span class=\"mtk1\">    |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">TARGET</span><span class=\"mtk1\"> = test         --+</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">$(</span><span class=\"mtk12\">TARGET</span><span class=\"mtk8\">)</span><span class=\"mtk1\">: </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">OBJS</span><span class=\"mtk8\">)</span><span class=\"mtk1\">                    --+</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">CC</span><span class=\"mtk8\">)</span><span class=\"mtk1\"> -o </span><span class=\"mtk4\">$@</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">OBJS</span><span class=\"mtk8\">)</span><span class=\"mtk1\">             |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">dep</span><span class=\"mtk1\"> :                                   |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                gccmakedpend </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">SRCS</span><span class=\"mtk8\">)</span><span class=\"mtk1\">            |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">new</span><span class=\"mtk1\"> :                                   | 명령어 정의 부분</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                touch </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">SRCS</span><span class=\"mtk8\">)</span><span class=\"mtk1\"> ; </span><span class=\"mtk8\">$(</span><span class=\"mtk4\">MAKE</span><span class=\"mtk8\">)</span><span class=\"mtk1\">         |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">clean</span><span class=\"mtk1\"> :                                 |</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">RM</span><span class=\"mtk8\">)</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">OBJS</span><span class=\"mtk8\">)</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">TARGET</span><span class=\"mtk8\">)</span><span class=\"mtk1\"> core  --+</span></span></span></code></pre>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"42441727950155686000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`OBJS=main.o foo.o hello.o\r\nTARGET=app.out\r\n\r\nall: \\$(TARGET)\r\n\r\nclean:\r\n        rm -f *.o\r\n        rm -f \\$(TARGET)\r\n\r\n\\$(TARGET): \\$(OBJS)\r\n        \\$(CC) -o \\$@ \\$(OBJS)\r\n\r\nmain.o: foo.h hello.h main.c\r\nfoo.o: foo.h foo.c\r\nhello.o: hello.h hello.c`, `42441727950155686000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"makefile\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">OBJS</span><span class=\"mtk1\">=main.o foo.o hello.o</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">TARGET</span><span class=\"mtk1\">=app.out</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">all</span><span class=\"mtk1\">: </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">TARGET</span><span class=\"mtk8\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">clean</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        rm -f *.o</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        rm -f </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">TARGET</span><span class=\"mtk8\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">$(</span><span class=\"mtk12\">TARGET</span><span class=\"mtk8\">)</span><span class=\"mtk1\">: </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">OBJS</span><span class=\"mtk8\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">CC</span><span class=\"mtk8\">)</span><span class=\"mtk1\"> -o </span><span class=\"mtk4\">$@</span><span class=\"mtk1\"> </span><span class=\"mtk8\">$(</span><span class=\"mtk12\">OBJS</span><span class=\"mtk8\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">main.o</span><span class=\"mtk1\">: foo.h hello.h main.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">foo.o</span><span class=\"mtk1\">: foo.h foo.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">hello.o</span><span class=\"mtk1\">: hello.h hello.c</span></span></span></code></pre>\n<p>2번째 예시에서</p>\n<p>make명령어 입력 시 아래의 결과를 확인 할 수 있다.</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"95270859739568520000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`➜  test git:(main) ✗ make clean\r\nrm -f *.o\r\nrm -f app.out\r\n➜  test git:(main) ✗ make\r\ncc    -c -o main.o main.c\r\ncc    -c -o foo.o foo.c\r\ncc    -c -o hello.o hello.c\r\ncc -o app.out main.o foo.o hello.o\r\n➜  test git:(main) ✗ ls\r\nMakefile app.out  foo.c    foo.h    foo.o    hello.c  hello.h  hello.o  main.c   main.h   main.o\r\n➜  test git:(main) ✗ ./app.out\r\nmain, world!\r\n➜  test git:(main) ✗\r\n`, `95270859739568520000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">➜  </span><span class=\"mtk11\">test</span><span class=\"mtk1\"> git:(main) ✗ make clean</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">rm -f *.o</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">rm -f app.out</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">➜  </span><span class=\"mtk11\">test</span><span class=\"mtk1\"> git:(main) ✗ make</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">cc    -c -o main.o main.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">cc    -c -o foo.o foo.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">cc    -c -o hello.o hello.c</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">cc -o app.out main.o foo.o hello.o</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">➜  </span><span class=\"mtk11\">test</span><span class=\"mtk1\"> git:(main) ✗ ls</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Makefile app.out  foo.c    foo.h    foo.o    hello.c  hello.h  hello.o  main.c   main.h   main.o</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">➜  </span><span class=\"mtk11\">test</span><span class=\"mtk1\"> git:(main) ✗ ./app.out</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">main, world!</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">➜  </span><span class=\"mtk11\">test</span><span class=\"mtk1\"> git:(main) ✗</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<hr>\n<p>MakeFile을 생성해 make명령을 관리하면</p>\n<ul>\n<li>입력 파일 변경 시 결과 파일 자동 변경을 원할 때 배치 작업 관리</li>\n<li>gcc명령 없이 간편한 컴파일 가능</li>\n</ul>\n<p>더욱 자세한건 <a href=\"https://wiki.kldp.org/KoreanDoc//html/GNU-Make/GNU-Make.html#toc3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GNU Make 강좌</a>, <a href=\"https://www.gnu.org/software/make/manual/make.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GNU make documnet</a> 참고<br>\n(실제 예제, make 에러)</p>\n<h1 id=\"cmake란\" style=\"position:relative;\"><a href=\"#cmake%EB%9E%80\" aria-label=\"cmake란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CMake란?</h1>\n<blockquote>\n<p>빌드 파일을 생성해주는 프로그램</p>\n</blockquote>\n<p>프로젝트의 규모가 커질수록 <code>Makefile</code>로 유지/보수하는 작업이 힘들어진다.</p>\n<ul>\n<li>프로그램의 버전을 명시하는 이유로 빌드 시 전에 사용하는 헤더 파일들을 자동 생성하는 경우</li>\n<li>실행 파일 외에 공유 라이브러리들을 함께 생성 해 빌드 대상물이 여러개인 경우</li>\n<li>프로젝트에 포함 된 서브모듈(써드파티 프로그램)들이 다단계로 존재하는 경우</li>\n<li>빌드 전 프로그램에 사용되는 리소스 파일들을 묶어서 가상의 파일 시스템을 만들어야 하는 경우</li>\n<li>빌드 완료 된 실행 파일로 부터 임베디드 프로세서에 퓨징하기 위한 바이너리를 생성해야 하는 경우</li>\n</ul>\n<p><code>CMake</code>는 <code>Makefile</code>보다 추상화된 기술 문법으로 <code>Build step</code>을 기술하면, 이로부터 <code>Makefile</code>을 자동으로 생성해준다.<br>\n-> CMake를 사용하면 <code>소스코드 - 결과물 사이를 깔끔하게 추상화</code> 해준다.</p>\n<p><code>Build Step</code>만 잘 구성해 놓으면, 이후에는 소스 파일(*.c)을 처음 추가할 때만 <code>CMakeLists.txt</code> 파일을 열어서 등록<br>\n-> 빌드에서 제외하지 않는 한 스크립트 수정이 필요 없다.</p>\n<p><code>CMake</code>도 <code>Make</code>처럼 의존성 검사 후 <code>Incremental Build</code>를 수행하지만,</p>\n<p><strong>소스 파일 내부까지 들여다보고 분석해서 의존성 정보를 스스로 파악</strong></p>\n<p>헤더파일을 추가하면, 의존성 관계를 자동으로 추적해서 해더 파일까지 추적</p>\n<p>즉, <code>CMake</code>는 <code>Makefile</code>을 보다 쉽게 기술해주는 일종의 <code>Meta-Makefile</code></p>\n<p><code>CMake</code>로 프로젝트를 관리하더라도 최종 빌드는 Make와 마찬가지로 make명령으로 수행한다.</p>\n<hr>\n<h2 id=\"간단한-예제\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%98%88%EC%A0%9C\" aria-label=\"간단한 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>간단한 예제</h2>\n<p>mac환경에서 brew를 사용해 install한다</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"21322091382128484000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`brew install cmake`, `21322091382128484000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">brew install cmake</span></span></span></code></pre>\n<p>그 후엔 CMake빌드 스크립트인 CMakeLists.txt파일 작성</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"37996454732667400000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`ADD_EXECUTABLE( app.out main.c foo.c hello.c)`, `37996454732667400000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"txt\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">ADD_EXECUTABLE( app.out main.c foo.c hello.c)</span></span></code></pre>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"46412934409815180000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`cmake CMakeLists.txt`, `46412934409815180000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">cmake CMakeLists.txt</span></span></span></code></pre>\n<p>위 명령어를 실행하면</p>\n<ul>\n<li>개별 Object파일들 생성 ex) <code>make main.c.o</code></li>\n<li><code>make all</code>, <code>make clean</code>과 같은 매크로도 모두 정의</li>\n</ul>\n<p>cmake CMakeLists.txt 명령은 자동 생성된 Makefile을 삭제하지 않는 한 <strong>최초 한 번만 실행</strong>하면</p>\n<p>Makefile을 실행할 때 <strong>CMakeLists.txt파일의 변경 여부를 검사해서 필요한 경우 Makefile을 자동으로 재생성</strong>한다.</p>\n<h2 id=\"cmake-내부-동작\" style=\"position:relative;\"><a href=\"#cmake-%EB%82%B4%EB%B6%80-%EB%8F%99%EC%9E%91\" aria-label=\"cmake 내부 동작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CMake 내부 동작</h2>\n<ol>\n<li>최초 1회 <code>cmake CMakeLists.txt</code> 명령어 실행</li>\n<li>make명령으로 CMake로 생성한 Makefile 실행</li>\n<li>CMakeLists.txt 파일 변경 여부 검사 -> 변경된 경우 <code>Makefile</code> 다시 생성 후 실행</li>\n<li><code>Makefile</code>에 정의된 각 Target별로 빌드를 수행\n<ul>\n<li>내부 <code>Build Step</code>에 따라 cmake명령으로 각 Target을 빌드하는 데 필요한 <code>Sub-Makefile</code> 생성</li>\n<li>이 때 생기는 <code>Sub-Makefile</code>또한 <code>CMakeFiles</code>디렉토리 내부에 저장되고, 재실행 시 변경 여부 검사 -> 필요 시 재 생성</li>\n</ul>\n</li>\n</ol>\n<p>–</p>\n<p>Git으로 버전 관리한다면, .gitihnore파일에 다음 4줄을 추가한다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">/CMakeCache.txt</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">/cmake_install.cmake</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">/CMakeFiles/</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">/Makefile</span></span></code></pre>\n<h2 id=\"cmake-변수-및-명령어\" style=\"position:relative;\"><a href=\"#cmake-%EB%B3%80%EC%88%98-%EB%B0%8F-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"cmake 변수 및 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CMake 변수 및 명령어</h2>\n<!-- TODO: 추후 정리 -->\n<p><a href=\"https://www.tuwlab.com/27260\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[CMake 튜토리얼] 2. CMakeLists.txt 주요 명령과 변수 정리</a> 참고하자</p>\n<!-- **변수 정의 명령어**\r\n\r\n```txt\r\nSET ( <변수명> <값> )\r\n```\r\n\r\n**목록(List) 변수 정의 명령어**\r\n\r\n```txt\r\nSET ( <목록_변수명> <항목> <항목> <항목> ... )\r\n```\r\n\r\n**변수 참조 방법**\r\n\r\n```txt\r\n$변수명\r\n${<변수명>}\r\n```\r\n\r\n**주석**\r\n\r\n```CMakeLists\r\n# 한줄 주석\r\n\r\n#[[\r\n  주석 처리 문구\r\n]]\r\n```\r\n\r\n**예약 변수**\r\n\r\n- 예약된 변수들은 `SET()` 명령으로 값 변경 가능\r\n- 대다수의 명령들이 이 내장 변수들을 적절하게 조작하는 함수들\r\n- `CMake`에서 제공하는 명령들이 이 예약 변수를 모두 커버하지는 않기 때문에 일부 예약 변수는 `SET()`명령으로 직접 지정 필요\r\n- 명령으로 설정한 변수들이 올바르게 설정 되었는지 확인하는 등 빌드 스크립트 디버깅 목적으로 참조하는 경우 존재\r\n- **즉, `CMake`의 빌드 스크립트를 쉽게 작성하려면 예약 변수를 잘 이해하는 것이 중요**\r\n\r\n### 프로젝트 관련\r\n\r\n**필요 CMake 최소 버전 명어 명령어**\r\n\r\n```txt\r\n# x.y.z.w 형식 요구 Major version인 x는 반드시 명시\r\nCMAKE_MINIMUM_REQUIRED ( VERSION <버전> )\r\n```\r\n\r\n**프로젝트 이름 설정 명령어**\r\n\r\n```txt\r\nPROJECT ( <프로젝트명> ) # 가급적 공백 포함x\r\n```\r\n\r\n**프로젝트 이름 변수**\r\n\r\n```txt\r\nMESSAGE ( ${CMAKE_PROJECT_NAME} ) #${CMAKE_PROJECT_NAME}\r\n```\r\n\r\n**빌드 형상 변수**\r\n\r\n```txt\r\nset(CMAKE_BUILD_TYPE Release)\r\n# Debug, Release, RelWithDebInfo, MinSizeRel\r\n# 정의 시 Makefile작성 할 때 서로 다른 빌드 옵션(플래그 삽입)\r\n```\r\n\r\n**메세지 출력 명령어**\r\n\r\n```txt\r\nMESSAGE ( [<Type>] <메시지> )\r\n# Debug, Release, RelWithDebInfo, MinSizeRel\r\n#[[\r\nSTATUS : 상태 메시지 출력 (메시지 앞에 '--'가 추가되서 출력됨)\r\nWARNING : 경고 메시지를 출력하고, 계속 진행\r\nAUTHOR_WARNING : 프로젝트 개발자용 경고 메시지를 출력하고, 계속 진행\r\nSEND_ERROR : 오류 메시지를 출력하고 계속 진행하지만, Makefile 생성은 하지 않음\r\nFATAL_ERROR : 오류 메시지를 출력하고, 작업을 즉시 중단\r\n\r\n유의할 점은 Makefile생성 시점에 메세지 출력 -> 실제 빌드 시 출력x\r\n빌드 중간에 메시지 출력 원할 경우 -> ADD_CUSTOM_COMMAND() 명령의 COMMAND 옵션에 echo문을 추가\r\n]]\r\n```\r\n\r\n**Verbose Makefile 작성 여부 변수**\r\n\r\n```txt\r\nSET ( CMAKE_VERBOSE_MAKEFILE true )\r\n# PROJECT() 명령 만나면 false로 초기화 -> 반드시 뒤에 위치\r\n```\r\n\r\n### 빌드대상(Target) 관련\r\n\r\n**빌드 대상 바이너리 추가 명령어**\r\n\r\n```txt\r\nADD_EXECUTABLE ( <실행_파일명> <소스_파일> <소스_파일> ... )\r\n```\r\n\r\n**빌드 대상 라이브러리 추가 명령어**\r\n\r\n```txt\r\nADD_LIBRARY ( <라이브러리_이름> [STATIC|SHARED|MODULE] <소스_파일> <소스_파일> ... )\r\n```\r\n\r\n**사용자 정의 Target 추가 명령어**\r\n\r\n```txt\r\n\r\nADD_CUSTOM_TARGET (\r\n                <이름> [ALL]\r\n                [COMMENT <출력_메시지>]\r\n                [DEPENDS <의존_대상_목록>]\r\n                [WORKING_DIRECTORY <작업_디렉토리>]\r\n                COMMAND <명령>\r\n                [COMMAND <명령>]\r\n                [VERBATIM]\r\n                ...\r\n)\r\n```\r\n\r\n- 통상적인 빌드 절차로 생성할 수 없는 Target 추가\r\n- make 정의 시 많이 사용\r\n- 정의한 Target은 출력 파일 생성하지 않아도 ok\r\n- 매 빌드마다 COMMAND 루틴 실행\r\n- 의존성에 따라 실행 여부를 선택하려면 `ADD_CUSTOM_COMMAND()` 사용\r\n\r\n### 전역 빌드 설정 관련 명령어\r\n\r\n### 특정 Target 한정 빌드 설정 관련 명령어\r\n\r\n### 빌드 절차(Build step) 관련 명령어 -->\n<hr>\n<p>여기까지가 대략적으로 이해해야 할 명렁어들이고 더 찾아볼 일이 생기면 <a href=\"https://cmake.org/cmake/help/latest/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CMake 문서</a>가서 읽어보자</p>\n<h2 id=\"cmakeliststxt-기본-패턴\" style=\"position:relative;\"><a href=\"#cmakeliststxt-%EA%B8%B0%EB%B3%B8-%ED%8C%A8%ED%84%B4\" aria-label=\"cmakeliststxt 기본 패턴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CMakeLists.txt 기본 패턴</h2>\n<ul>\n<li>CMake 빌드 스크립트를 작성할 때도 Makefile을 비롯한 여타 스크립트와 마찬가지로 상단에는 설정 변수를 정의 하단에서는 이 설정에 따라 빌드 절차를 결정하도록 구성</li>\n<li>이렇게 하면 빌드 환경이나 구성이 바뀌어서 빌드 스크립트를 수정해야 할 필요가 있을 때, 필요한 부분을 금방 찾아서 고치기 가능</li>\n</ul>\n<p>예시</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"33180990973233082000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`# 요구 CMake 최소 버전\r\nCMAKE_MINIMUM_REQUIRED ( VERSION 2.8 )\r\n\r\n# 프로젝트 이름 및 버전\r\nPROJECT ( &quot;andromeda&quot; )\r\nSET ( PROJECT_VERSION_MAJOR 0 )\r\nSET ( PROJECT_VERSION_MINOR 1 )\r\n\r\n# 빌드 형상(Configuration) 및 주절주절 Makefile 생성 여부\r\nSET ( CMAKE_BUILD_TYPE Debug )\r\nSET ( CMAKE_VERBOSE_MAKEFILE true )\r\n\r\n# 빌드 대상 바이너리 파일명 및 소스 파일 목록\r\nSET ( OUTPUT_ELF\r\n        &quot;\\${CMAKE_PROJECT_NAME}-\\${PROJECT_VERSION_MAJOR}.\\${PROJECT_VERSION_MINOR}.out&quot;\r\n        )\r\nSET ( SRC_FILES\r\n        bar.c\r\n        foo.c\r\n        main.c\r\n        )\r\n\r\n# 공통 컴파일러\r\nSET ( CMAKE_C_COMPILER &quot;gcc&quot; )\r\n\r\n# 공통 헤더 파일 Include 디렉토리 (-I)\r\nINCLUDE_DIRECTORIES ( include driver/include )\r\n\r\n# 공통 컴파일 옵션, 링크 옵션\r\nADD_COMPILE_OPTIONS ( -g -Wall )\r\nSET ( CMAKE_EXE_LINKER_FLAGS &quot;-static -Wl,--gc-sections&quot; )\r\n\r\n# 공통 링크 라이브러리 (-l)\r\nLINK_LIBRARIES( uart andromeda )\r\n\r\n# 공통 링크 라이브러리 디렉토리 (-L)\r\nLINK_DIRECTORIES ( /usr/lib )\r\n\r\n# &quot;Debug&quot; 형상 한정 컴파일 옵션, 링크 옵션\r\nSET ( CMAKE_C_FLAGS_DEBUG &quot;-DDEBUG -DC_FLAGS&quot; )\r\nSET ( CMAKE_EXE_LINKER_FLAGS_DEBUG &quot;-DDEBUG -DLINKER_FLAGS&quot; )\r\n\r\n# &quot;Release&quot; 형상 한정 컴파일 옵션, 링크 옵션\r\nSET ( CMAKE_C_FLAGS_RELEASE &quot;-DRELEASE -DC_FLAGS&quot; )\r\nSET ( CMAKE_EXE_LINKER_FLAGS_RELEASE &quot;-DRELEASE -DLINKER_FLAGS&quot; )\r\n\r\n# 출력 디렉토리\r\nSET ( CMAKE_RUNTIME_OUTPUT_DIRECTORY \\${CMAKE_BUILD_TYPE} )\r\nSET ( CMAKE_LIBRARY_OUTPUT_DIRECTORY \\${CMAKE_BUILD_TYPE}/lib )\r\nSET ( CMAKE_ARCHIVE_OUTPUT_DIRECTORY \\${CMAKE_BUILD_TYPE}/lib )\r\n\r\n# 빌드 대상 바이너리 추가\r\nADD_EXECUTABLE( \\${OUTPUT_ELF} \\${SRC_FILES} )`, `33180990973233082000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"txt\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"># 요구 CMake 최소 버전</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">CMAKE_MINIMUM_REQUIRED ( VERSION 2.8 )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 프로젝트 이름 및 버전</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">PROJECT ( &quot;andromeda&quot; )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( PROJECT_VERSION_MAJOR 0 )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( PROJECT_VERSION_MINOR 1 )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 빌드 형상(Configuration) 및 주절주절 Makefile 생성 여부</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_BUILD_TYPE Debug )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_VERBOSE_MAKEFILE true )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 빌드 대상 바이너리 파일명 및 소스 파일 목록</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( OUTPUT_ELF</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &quot;${CMAKE_PROJECT_NAME}-${PROJECT_VERSION_MAJOR}.${PROJECT_VERSION_MINOR}.out&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( SRC_FILES</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        bar.c</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        foo.c</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        main.c</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 공통 컴파일러</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_C_COMPILER &quot;gcc&quot; )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 공통 헤더 파일 Include 디렉토리 (-I)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">INCLUDE_DIRECTORIES ( include driver/include )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 공통 컴파일 옵션, 링크 옵션</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">ADD_COMPILE_OPTIONS ( -g -Wall )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_EXE_LINKER_FLAGS &quot;-static -Wl,--gc-sections&quot; )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 공통 링크 라이브러리 (-l)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">LINK_LIBRARIES( uart andromeda )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 공통 링크 라이브러리 디렉토리 (-L)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">LINK_DIRECTORIES ( /usr/lib )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># &quot;Debug&quot; 형상 한정 컴파일 옵션, 링크 옵션</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_C_FLAGS_DEBUG &quot;-DDEBUG -DC_FLAGS&quot; )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_EXE_LINKER_FLAGS_DEBUG &quot;-DDEBUG -DLINKER_FLAGS&quot; )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># &quot;Release&quot; 형상 한정 컴파일 옵션, 링크 옵션</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_C_FLAGS_RELEASE &quot;-DRELEASE -DC_FLAGS&quot; )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_EXE_LINKER_FLAGS_RELEASE &quot;-DRELEASE -DLINKER_FLAGS&quot; )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 출력 디렉토리</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BUILD_TYPE} )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BUILD_TYPE}/lib )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SET ( CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BUILD_TYPE}/lib )</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 빌드 대상 바이너리 추가</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">ADD_EXECUTABLE( ${OUTPUT_ELF} ${SRC_FILES} )</span></span></code></pre>\n<p>빌드 파일 생성할 때는 <code>build</code>라는 폴더를 하나 만들어서 <code>cmake ..</code>를 실행한다.</p>\n<hr>\n<p>좋은 자료가 있어서 링크 남김 (나중에 필요하면 또보자)</p>\n<p><a href=\"https://www.tuwlab.com/ece/27234\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[CMake 튜토리얼] 1. CMake 소개와 예제, 내부 동작 원리</a><br>\n<a href=\"https://gist.github.com/luncliff/6e2d4eb7ca29a0afd5b592f72b80cb5c\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CMake할 때 쪼오오오금 도움 되는 문서 - luncliff</a><br>\n<a href=\"https://github.com/jacking75/examples_CMake\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">examples_CMake - jacking75 github</a></p>\n<!-- # Ninja란?\r\n\r\n빌드 관련된 자료들을 찾아보다가 `Ninja` ~~~ [공식 document](https://ninja-build.org/manual.html)를 보면 속도~~~~\r\n\r\n[Google Chrome build System 기사](https://www.theregister.com/2011/02/08/google_ninja_build_system_open_sourced/) -->\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<!-- https://diverjence.tistory.com/280 -->\n<p><a href=\"https://www.geeksforgeeks.org/compiling-a-c-program-behind-the-scenes/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Compiling a C Program: Behind the Scenes - geeksforgeeks</a><br>\n<a href=\"https://bowbowbow.tistory.com/12#make-%EC%99%80-makefile\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">make와 Makefile - bowbowbow</a><br>\n<a href=\"https://wiki.kldp.org/KoreanDoc//html/GNU-Make/GNU-Make.html#toc4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GNU Make강좌 - 임대영</a><br>\n<a href=\"https://80000coding.oopy.io/b553047b-42f6-4066-9f30-f4aef0b0503d\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">make Makefile개념 및 사용법 정리</a><br>\n<a href=\"https://www.tuwlab.com/ece/27234\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CMake 튜토리얼 1. CMake소개와 예제, 내부 동작 원리</a><br>\n<a href=\"https://gist.github.com/luncliff/6e2d4eb7ca29a0afd5b592f72b80cb5c\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CMake할 때 쪼오오오금 도움 되는 문서 - luncliff</a>\r\n<a href=\"https://github.com/jacking75/examples_CMake\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">examples_CMake - jacking75 github</a><br>\n<a href=\"https://makepluscode.tistory.com/235\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ninja 빌드 시스템의 소개와 hello 예제 - makepluscode</a><br>\n<a href=\"https://routitz.blogspot.com/2015/02/cc.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">리눅스상 C/C++ 빌드툴 정리.</a><br>\n<a href=\"https://ninja-build.org/manual.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ninja document</a><br>\n<a href=\"https://ko.wikipedia.org/wiki/GN_(%EB%B9%8C%EB%93%9C_%EC%8B%9C%EC%8A%A4%ED%85%9C)\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GN(빌드시스템) - 위키백과</a><br>\n<a href=\"https://ko.wikipedia.org/wiki/%EB%8B%8C%EC%9E%90_(%EB%B9%8C%EB%93%9C_%EC%8B%9C%EC%8A%A4%ED%85%9C)\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">닌자 (빌드 시스템) - 위키백과</a><br>\n<a href=\"https://modoocode.com/332\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">모두의 코드</a><br>\n<a href=\"https://github.com/jacking75/examples_CMake/blob/master/find_package_And_pkg_check_modules.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">find_package 와 pkg_check_modules에 의한 라이브러리 탐색</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk6 { color: #D7BA7D; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#c%EC%96%B8%EC%96%B4-%EB%B9%8C%EB%93%9C-%EA%B3%BC%EC%A0%95-build-process\">C언어 빌드 과정 (Build Process)</a></p>\n<ul>\n<li><a href=\"#gcc%EB%9E%80\">GCC란?</a></li>\n<li><a href=\"#%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC%EB%9E%80\">컴파일러란</a></li>\n<li><a href=\"#1-%EC%A0%84%EC%B2%98%EB%A6%AC-%EB%8B%A8%EA%B3%84\">1. 전처리 단계</a></li>\n<li><a href=\"#2-%EC%BB%B4%ED%8C%8C%EC%9D%BC-%EB%8B%A8%EA%B3%84\">2. 컴파일 단계</a></li>\n<li><a href=\"#3-%EC%96%B4%EC%85%88%EB%B8%94-%EB%8B%A8%EA%B3%84\">3. 어셈블 단계</a></li>\n<li><a href=\"#4-%EB%A7%81%ED%81%AC-%EB%8B%A8%EA%B3%84\">4. 링크 단계</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#make%EB%9E%80\">Make란?</a></p>\n</li>\n<li>\n<p><a href=\"#makefile%EC%9D%B4%EB%9E%80\">Makefile이란?</a></p>\n<ul>\n<li><a href=\"#makefile-%EA%B7%9C%EC%B9%99\">Makefile 규칙</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#cmake%EB%9E%80\">CMake란?</a></p>\n<ul>\n<li><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%98%88%EC%A0%9C\">간단한 예제</a></li>\n<li><a href=\"#cmake-%EB%82%B4%EB%B6%80-%EB%8F%99%EC%9E%91\">CMake 내부 동작</a></li>\n<li><a href=\"#cmake-%EB%B3%80%EC%88%98-%EB%B0%8F-%EB%AA%85%EB%A0%B9%EC%96%B4\">CMake 변수 및 명령어</a></li>\n<li><a href=\"#cmakeliststxt-%EA%B8%B0%EB%B3%B8-%ED%8C%A8%ED%84%B4\">CMakeLists.txt 기본 패턴</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#reference\">Reference</a></p>\n</li>\n</ul>","frontmatter":{"title":"CMake, Makefile에 대해 알아보자","summary":["CMake와 Makefile에 대해 알아보자"],"date":"2024.03.17.","update":"2024.03.17.","category":["C"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1UlEQVR42mNgwAHq6/8z/f//nxHEzis/I5dVfVQeIgMUq69nYiANQAzKrT/BFxC/uyIgYfd7MI7fU51WfoYfWQ1RwL5+P0ts1v7Y4JQ9t2u6rv1fvv7+v+Ub7v+r77n+PzBpz93YvIPx9auusBE0KDR0FTOIjs05MC0u79z/Rasf/P3z5+9foNf//fv3HwT+rt/x7E9U9un/rqEbZ4Pd+R+PS2EGhqcd3lHVcRlkwO93H378nzr/2v/pC6//f/Hq2/8V62/9tvbZ9N/Ca90eol3oF7dr+/INT0EG/pkGNMg3bvd/n5gd/x0C1v83cFz+x8p7039Lz1W7STBw99YVGyEGdk0591/ZaNp/VeNp/608V/43dl7xx9pn838Lj1W7iDYwIvPwjtLmcyADfz578el/VvHm/zmlW/7ff/j+/8Zt935ZeKz7b+W9kXgXuoWsmq5uNu9/Y+fhP6BwBEUGFP+eNuf0H3Wzuf+NnRbNIiH55LJrmkxMUtSfcDc4bv3/3inH//RNPf4nNGHjf1md/geqRpNS5e3rOaCKCRtYD80J/vHzBaQ0u2tktPvey2r3fZRW725wC10lhKyG+MRtX88C1AbWZO87W8XOe54qzIsQOexeBQDuzQszq/64TgAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/49568f48a4ccc711af33723e1189b51b/9f12c/thumbnail.png","srcSet":"/static/49568f48a4ccc711af33723e1189b51b/c8ea0/thumbnail.png 135w,\n/static/49568f48a4ccc711af33723e1189b51b/83ac6/thumbnail.png 270w,\n/static/49568f48a4ccc711af33723e1189b51b/9f12c/thumbnail.png 540w","sizes":"(min-width: 540px) 540px, 100vw"},"sources":[{"srcSet":"/static/49568f48a4ccc711af33723e1189b51b/24d7c/thumbnail.webp 135w,\n/static/49568f48a4ccc711af33723e1189b51b/62c43/thumbnail.webp 270w,\n/static/49568f48a4ccc711af33723e1189b51b/99422/thumbnail.webp 540w","type":"image/webp","sizes":"(min-width: 540px) 540px, 100vw"}]},"width":540,"height":320}},"publicURL":"/static/49568f48a4ccc711af33723e1189b51b/thumbnail.png"}}}}]}},"pageContext":{"slug":"/CMakeMakefile/","series":[],"lastmod":"2024.03.17.","prev":{"fields":{"slug":"/SpringStudy_4/"},"frontmatter":{"title":"스프링 MVC 2 강의 정리 - 김영한","date":"2024.01.12.","update":"2024.01.13.","category":["Spring"],"tags":["Spring"],"summary":["스프링 MVC 2 강의 정리한다"]}},"next":{"fields":{"slug":"/CICDPipeline/"},"frontmatter":{"title":"AWS환경에서 Jenkins을 활용한 Pipeline구축","date":"2024.03.20.","update":"2024.03.20.","category":["CI/CD"],"tags":["CI/CD"],"summary":["C언어를 사용해서 간단한 웹서버를 만들고 AWS환경에서 Jenkins을 활용한 Pipeline구축"]}}}},"staticQueryHashes":["427104293"],"slicesMap":{}}