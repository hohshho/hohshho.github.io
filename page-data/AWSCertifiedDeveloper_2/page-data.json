{"componentChunkName":"component---src-templates-post-tsx","path":"/AWSCertifiedDeveloper_2/","result":{"data":{"site":{"siteMetadata":{"title":"Just Keep Going","description":"Ian's Archive","siteUrl":"https://hohshho.github.io"}},"allMarkdownRemark":{"edges":[{"node":{"id":"43104602-01c2-5247-a48a-66095f45f02c","html":"<h1 id=\"7-vpc\" style=\"position:relative;\"><a href=\"#7-vpc\" aria-label=\"7 vpc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. VPC</h1>\n<p>VPC : 리소스(지역 리소스)를 배포하기 위한 사설 네트워크</p>\n<ul>\n<li>EC2, RDS, ELB 등을 탑재하고 ENI(Elastic Network Interface)에 사설 IP혹은 공인 IP를 부여해 사용</li>\n<li>서브넷 사용 시 VPC내에서 네트워크 분할 가능</li>\n<li>라우팅 테이블 설정 추가해 공용 서브넷 인터넷 접근 o, 사설 서브넷 인터넷 접근x</li>\n<li><strong>NAT Gateways</strong>를 사용하면 프라이빗 서브넷의 인스턴스가 프라이빗 상태를 유지하며 인터넷 액세스 가능<br>\n-> 작동 방식 : NAT Instance를 공용 서브넷에 배포하고 사설 서브넷에서 게이트 웨이로 라우팅</li>\n</ul>\n<p>NACL : 공용 서브넷을 서브넷 수준에서 방어(default : All allow)<br>\n-> 그 후, 보안 그룹 적용</p>\n<p><strong>VPC Flow Logs</strong></p>\n<blockquote>\n<p>인터페이스로 들어가는 모든 IP 트래픽에 대한 정보 캡처</p>\n</blockquote>\n<ul>\n<li>접근이 거부되거나 트래픽이 잠기거나 VPC 내 허용된 트래픽을 디버깅 할 때 사용</li>\n<li>ex) Elastic Load Balancers, ElasticCache, RDS, Aurora, etc</li>\n<li>VPC Flow Log는 S3, CloudWatch Logs 및 Kinesis Data Firehose로 이동 가능</li>\n</ul>\n<p><strong>VPC Peering</strong></p>\n<blockquote>\n<p>2개의 VPC를 비공개로 연결</p>\n</blockquote>\n<ul>\n<li>동일한 네트워크에 있는 것처럼 작동</li>\n<li>CIDR(IP 주소 범위)이 겹치지 않아야 한다.</li>\n<li>통신하는 각 VPC에 설정해야 한다</li>\n<li>연결 생성 요금 X, 연결을 통한 전송 요금 O</li>\n</ul>\n<p><strong>VPC Endpoints</strong></p>\n<blockquote>\n<p>VPC 내 Resource들이 VPC 외부 서비스 <strong>(S3, Dynamo DB, Cloudwatch)</strong> 등에 접근할 때 Internet Gateway, NAT Gateway 등의 <strong>외부 인터넷전송 서비스를 타지 않고 내부 네트워크를 통해 접근</strong>할 수 있도록 지원하는 서비스</p>\n</blockquote>\n<p>즉, AWS 여러 서비스와 VPC를 연결하는 중간 매개체로 VPC 바깥으로 트래픽이 나가지 않고 AWS의 여러 서비스 사용</p>\n<ul>\n<li>보안 강화, 비용 절감, 권한 제어, VPC 종속</li>\n</ul>\n<p><strong>온프레미스 데이터 센터와 AWS를 연결 할 경우</strong></p>\n<ul>\n<li>Site-to-Site VPN을 사용해 공개 인터넷으로 연결\n<ul>\n<li>링크가 즉시 설정됨</li>\n<li>적은 대역폭에 추천</li>\n</ul>\n</li>\n<li>Direct Connect(DX)를 사용해 AWS에 비공개로 연결\n<ul>\n<li>전송 데이터양에 따라서 비용이 달라지지 않음</li>\n<li>시간당 비용지불</li>\n<li>웨어하우스와 동일한 AWS 리전에 설치하는게 경제적임</li>\n<li>여러 DX 위치에서 DX연결 구성시 높은 복원력과 내결함성 획득</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"8-s3\" style=\"position:relative;\"><a href=\"#8-s3\" aria-label=\"8 s3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. S3</h1>\n<blockquote>\n<p>백업이나 스토리지 용도로 사용 (파일 저장, 디스크 저장)</p>\n</blockquote>\n<ul>\n<li>파일을 <strong>버킷</strong>에 저장하는데 최상위 디렉토리 개념이라고 보면 된다.</li>\n<li>퍼블릭 액세스 차단 기능을 사용해 비공개로 만들 수 있음</li>\n<li>x-amz-server-side-encryption 헤더를 통해 암호화 보장</li>\n<li>실수로 인한 객체 삭제 방지를 위해 MFA Delete를 사용(루트 계정만 가능)</li>\n</ul>\n<p><strong>버킷</strong></p>\n<ul>\n<li>버킷은 계정에 생성되고 <strong>전역적으로 고유한 이름</strong>을 가진다.</li>\n<li><strong>리전 단위로 정의</strong></li>\n</ul>\n<p><strong>객체</strong></p>\n<ul>\n<li>객체는 파일을 말한다.</li>\n<li>객체에는 키 존재 -> 파일의 전체 경로\nex) s3://my-bucket/my_folder1/another_folder/my_file.txt<br>\n-> 키는 접두사(s3://my-bucket/my_folder1/another_folder/) + 개체 이름(my_file.txt)</li>\n<li>버킷 내에는 디렉토리 개념이 없음 (슬래시가 포함된 매우 긴 이름의 키)</li>\n<li>개체 값은 최대 5TB (5GB가 넘으면 5GB 짜리 1000개로 나눠 올려야 함)</li>\n<li>메타 데이터를 가질 수 있는데 Key-Value 형태</li>\n</ul>\n<p><strong>정책</strong></p>\n<ul>\n<li>Bucket Policies : S3 콘솔의 버킷 전체 규칙 (교차 계정 허용)</li>\n<li>Object Access Control List : 보다 세분화 (비활성화 가능)</li>\n<li>Bucket Access Control List : 보다 세분화 (비활성화 가능)</li>\n</ul>\n<p>정책은 json 파일로 명시</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"23749871032307925000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"customToasterText\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`{\n  &quot;Version&quot;: &quot;2012-10-17&quot;,\n  &quot;Statement&quot;: [\n    {\n      &quot;Sid&quot;: &quot;AddPerm&quot;,\n      &quot;Effect&quot;: &quot;Allow&quot;,\n      &quot;Principal&quot;: &quot;*&quot;,\n      &quot;Action&quot;: [&quot;s3:GetObject&quot;],\n      &quot;Resource&quot;: [&quot;&quot;]\n    }\n  ]\n}`, `23749871032307925000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                copyButtonText<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;Version&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;2012-10-17&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;Statement&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;Sid&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;AddPerm&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;Effect&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;Allow&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;Principal&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;*&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;Action&quot;</span><span class=\"mtk1\">: [</span><span class=\"mtk8\">&quot;s3:GetObject&quot;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;Resource&quot;</span><span class=\"mtk1\">: [</span><span class=\"mtk8\">&quot;&quot;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li>Resource 속성 : 적용되는 버킷, 객체 정의</li>\n<li>Effect 속성 : Allow / Deny</li>\n<li>Action : 허용하거나 거부할 대상 API (위에선 GetObject)</li>\n<li>Principal : 적용 할 사용자나 계정 명시</li>\n</ul>\n<p>추가로 <strong>기업의 데이터 유출을 막기위해 Bucket을 공개하지 않는 설정 가능</strong></p>\n<ul>\n<li>S3를 퍼블릭으로 공개하면 정적 웹사이트를 호스팅하고 인터넷에서 액세스 가능</li>\n<li>S3에서 파일의 버전 지정 가능 (버킷 수준에서 활성화)\n<ul>\n<li>활성화 이전엔 모든 파일의 버전 null</li>\n<li>버전 관리를 중단해도 이전 버전 삭제x</li>\n</ul>\n</li>\n</ul>\n<p><strong>Replication</strong></p>\n<ul>\n<li>원본 및 대상 버킷에서 <strong>버전 관리를 활성화</strong> 해야 한다</li>\n<li>적절한 IAM 권한 부여해야 한다.</li>\n<li>복제는 비동기식으로 백그라운드 에서 진행</li>\n<li>CRR(Corss-Region Replication) : Compliance, 저 지연 엑세스, 계정간 복제</li>\n<li>SRR(Same-Region Replication) : 로그 집계, 프로덕션과 테스트 간의 실시간 복제</li>\n<li>기존에 있던 객체나 복제가 실패한 객체를 복제할 땐 <strong>S3 Batch Replication</strong> 기능 사용</li>\n</ul>\n<h2 id=\"81-s3-storage-classes\" style=\"position:relative;\"><a href=\"#81-s3-storage-classes\" aria-label=\"81 s3 storage classes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.1 S3 Storage Classes</h2>\n<p>객체 생성 시 객체 클래스 선택 가능</p>\n<p>내구성 : 그냥 파일 손실이 매우매우 적다는 뜻<br>\n가용성 : 스토리지 클래스에 따라 다른데 S3 Standard경우 연간 53분 정도 사용 불가</p>\n<ul>\n<li>\n<p>1.Standard : 자주 엑세스 하는 데이터, 짧은 대기 시간 및 높은 처리</p>\n<ul>\n<li>ex) 빅데이터 분석, 모바일 및 게임 App</li>\n</ul>\n</li>\n<li>\n<p>2.S3 Infrequent Access : 덜 사용 하지만 필요할 때 접근이 빠르다.</p>\n<ul>\n<li>비용은 적지만 데이터 조회 시 비용 발생</li>\n<li>ex) 주로 백업 용도</li>\n</ul>\n</li>\n<li>\n<p>3.S3 One Zone-Infrequent Access : 온프레미스 데이터나 재 생성할 수 있는 데이터의 백업</p>\n</li>\n<li>\n<p>4.Glacier Storage Class : 저렴한 객체 스토리지, 아카이브나 백업</p>\n<ul>\n<li>스토리지 당 비용 발생, 검색 건당 비용</li>\n<li>Glacier Instant Retrieval : 밀리 초 단위 검색, 최소 스토리지 90일, 분기당 한번 액세스</li>\n<li>Glacier Flexible Retrieval : 신속(1<del>5분), 표준(3</del>5시간), 대량(5~12시간), 무료, 최소 보관 90일</li>\n<li>Glacier Deep Archive : 장기 저장용, 최소 보관기간 180일</li>\n</ul>\n</li>\n<li>\n<p>5.S3 Intelligent-Tiering : 액세스 패턴에 따라 객체를 액세스 계층 간 이동 가능</p>\n<ul>\n<li>월별 객체 모니터링 비용과 자동 이동 비용 발생</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"82-s3-life-cyle-rule\" style=\"position:relative;\"><a href=\"#82-s3-life-cyle-rule\" aria-label=\"82 s3 life cyle rule permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.2 S3 Life Cyle Rule</h2>\n<ul>\n<li>Transition Actions(전환 작업) : 객체가 다른 스토리지 클래스로 전환되도록 구성</li>\n<li>Expiration Actions(만료 작업) : 일정 시간이 지나면 객체가 만료(삭제) 되도록 구성\n<ul>\n<li>ex) 엑세스 로그파일 365일 이후 삭제, 파일의 이전 버전 삭제</li>\n</ul>\n</li>\n<li>특정 접두사에 규칙 생성</li>\n</ul>\n<p>Amazon S3 Analytics 사용!</p>\n<ul>\n<li>객체를 올바른 스토리지 클래스로 전환 할 시기 결정에 도움</li>\n<li>보고서는 매일 업데이트</li>\n</ul>\n<h2 id=\"83-s3-event-alert\" style=\"position:relative;\"><a href=\"#83-s3-event-alert\" aria-label=\"83 s3 event alert permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.3 S3 Event alert</h2>\n<ul>\n<li>원하는 만큼 S3 이벤트 생성 가능</li>\n<li>객체명 필터링 가능</li>\n<li>SNS, SQS, Lambda Function, Amazon EventBridge으로 전송 가능</li>\n</ul>\n<h2 id=\"84-s3-성능\" style=\"position:relative;\"><a href=\"#84-s3-%EC%84%B1%EB%8A%A5\" aria-label=\"84 s3 성능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.4 S3 성능</h2>\n<p>S3는 기본적으로 높은 성능, 대기 시간은 100-200ms으로 자동 확장</p>\n<p><strong>upload 향상 방법</strong></p>\n<ul>\n<li>Multi-Part Upload : 용량이 큰 파일 저장 시 Multi-Part Upload사용, 병렬 처리 (100MB이상이면 권장, 5GB이상 필수)</li>\n<li>S3 Transfer Acceleration : 다른 지역 S3로 데이터 전달 시 AWS 엣지 로케이션으로 파일 전송하여 전송속도 높인다.</li>\n</ul>\n<p><strong>download 향상 방법</strong></p>\n<p>-> S3 Byte-Range Fetches</p>\n<ul>\n<li>특정 바이트 범위 요청하여 병렬화</li>\n<li>장애 발생 시 복원력 향상</li>\n<li>다운로드 발생 시 복원력 향상</li>\n<li>일부 데이터만 활용해 검색하는데 사용</li>\n</ul>\n<p><strong>S3 Select</strong></p>\n<p>S3 Select로 CSV 형식으로 S3에 저장된 데이터셋의 일부를 검색해 필요한 부분만 추출 가능</p>\n<p><strong>Meta data, S3 Object Tags</strong></p>\n<ul>\n<li>객체를 만들고 업로드 할 때 메타 데이터나 태그 할당 가능</li>\n<li>모든 메타데이터와 모든 태그를 DynamoDB에 넣으면 검색 가능</li>\n<li>검색 결과는 Amazon S3객체로 추출</li>\n</ul>\n<h2 id=\"85-security\" style=\"position:relative;\"><a href=\"#85-security\" aria-label=\"85 security permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.5 Security</h2>\n<p>4가지 방법으로 객체 암호화 가능</p>\n<ol>\n<li>SSE (서버 측 암호화, defualt)\n<ul>\n<li>SSE-S3 : Amazon S3 관리 키 사용</li>\n<li>SSE-KMS : AWS의 KMS 키사용 (KMS 서비스 API를 호출하기 때문에 부하가 추가된다.)</li>\n<li>SSE-C : 고객 제공 키 사용</li>\n</ul>\n</li>\n</ol>\n<p>x-zma-server-side-encryption헤더에 AES256, aws:kms 추가, SSE-C의 경우 사용자 키 추가</p>\n<ol start=\"2\">\n<li>CSE (클라이언트 측 암호화)</li>\n</ol>\n<p><strong>S3 CORS</strong></p>\n<blockquote>\n<p>클라이언트가 S3버킷에서 교차 출처 요청을 하는 경우 활성화해야 한다.</p>\n</blockquote>\n<h2 id=\"86-s3-access-log\" style=\"position:relative;\"><a href=\"#86-s3-access-log\" aria-label=\"86 s3 access log permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.6 S3 Access Log</h2>\n<ul>\n<li>S3버킷에 대한 모든 엑세스가 기록된다.</li>\n<li>로깅 버킷을 모니터링 하면 무한루프 돌아서 기하 급수적으로 커진다. (주의)</li>\n<li>Athena를 사용해 분석</li>\n</ul>\n<hr>\n<ul>\n<li>사용자 or VPC별로 엑세스 가능한 엑세스 포인트 정의 가능</li>\n<li>AWS Lambda 함수를 사용해 애플리케이션에서 개체를 검색하고 반환 전 람다함수 사용 가능<br>\n-> ex) XML to JSON, 이미지 크기 조정 및 워터마킹</li>\n<li>S3 삭제 시 주의하기 위해 <strong>MFA 삭제 활성화 기능을 사용</strong>해 삭제 시 절차 추가 가능</li>\n</ul>\n<h1 id=\"9-aws-cli-sdk-iam-역할-및-정책\" style=\"position:relative;\"><a href=\"#9-aws-cli-sdk-iam-%EC%97%AD%ED%95%A0-%EB%B0%8F-%EC%A0%95%EC%B1%85\" aria-label=\"9 aws cli sdk iam 역할 및 정책 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. AWS CLI, SDK, IAM 역할 및 정책</h1>\n<ul>\n<li>AWS EC2 내부에서 CLI 사용할 때 메타 데이터를 통해 IAM역할에 맞는 임시 보안 인증을 얻을 수 있다</li>\n<li>EC2 인스턴스에서 IAM 역할 이름은 알 수 있지만 정책은 확인 불가</li>\n<li>MFA를 CLI에서 사용하려면 임시 세션을 생성해야 하는데 STS GetSessionToken API 호출 시 생성</li>\n<li>AWS는 AWS API를 연속으로 호출하는 횟수를 제한<br>\n-> 지수 백오프 전략 : 제한 시간을 1, 2, 4, 8초 식으로 늘려서 많은 서버 응답이 가능하게 함\n<ul>\n<li>자체 SDK 실행하는 경우</li>\n<li>자체 사용자 정의 HTTP 정의 사용하는 경우</li>\n<li><strong>5xx 서버 오류 발생 시</strong> / <strong>4xx 클라이언트 오류 시엔 지수 백오프 전략 사용 x</strong></li>\n</ul>\n</li>\n<li>AWS CREDENTIALS는 코드에 절대 위치 x</li>\n<li>AWS API로 호출 시 Authorization 헤더에 서명 or 쿼리 스트링에 넣고 전달해야 한다.(SigV4)\n<ul>\n<li>SDK, CLI로 요청할 땐 기본적으로 요청 서명해준다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"10-cloudfront\" style=\"position:relative;\"><a href=\"#10-cloudfront\" aria-label=\"10 cloudfront permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10. CloudFront</h1>\n<blockquote>\n<p>짧은 지연 시간과 빠른 전송 속도로 데이터, 동영상, 애플리케이션 및 API를 전세계 고객에게 안전하게 전송하는 고속 콘텐츠 전송 네트워크(CDN) 서비스, DDos공격에 대비하기 위해 Shield와 방화벽 사용</p>\n</blockquote>\n<p>CDN이 나오면 CloudFront를 생각하자</p>\n<p>Tip!!</p>\n<p>추가로 Cloudflare는 제약이 크지만 무료임 + 엔터프라이즈급에서는 돈내지만 훨씬 쌈 / but 복잡해짐</p>\n<ul>\n<li>이런 식으로 활용하면 유저의 IP는 X-Forwarded-for헤더에서 추출함</li>\n<li>이 작업을 위해 nginx access logging 커스텀 설정 필요</li>\n</ul>\n<p><strong>CDN이란?</strong></p>\n<blockquote>\n<p>객체의 복사본이 전 세계 여러 위치에 보관되어 있기 때문에 향상된 안전성과 가용성을 제공</p>\n</blockquote>\n<ul>\n<li>인터넷 서비스 제공자(ISP,Internet Service Provider)에 직접 연결되어 데이터를 전송하므로, 콘텐츠 병목을 피할 수 있는 장점</li>\n<li>웹 페이지, 이미지, 동영상 등의 컨텐츠를 본래 서버에서 받아와 캐싱</li>\n<li>해당 컨텐츠에 대한 요청이 들어오면 캐싱해 둔 컨텐츠를 제공</li>\n<li>컨텐츠를 제공하는 서버와 실제 요청 지점 간의 지리적 거리가 매우 먼 경우 or 통신 환경이 안좋은 경우<br>\n-> 요청지점의 CDN을 통해 빠르게 컨텐츠 제공 가능</li>\n<li>서버의 요청이 필요 없기 때문에 서버의 부하를 낮추는 효과</li>\n<li>웹사이트 이미지, 비디오, 미디어 파일 또는 소프트웨어 다운로드 같은 정적 컨텐츠 배포에 적합</li>\n</ul>\n<p><strong>엣지 로케이션</strong></p>\n<ul>\n<li>컨텐츠가 캐싱되고 유저에게 제공되는 지점</li>\n<li>AWS가 CDN 을 제공하기 위해서 만든 서비스인 CloudFront의 캐시 서버 (데이터 센터의 전 세계 네트워크)</li>\n<li><strong>CloudFront 서비스는 엣지 로케이션을 통해 콘텐츠를 제공</strong></li>\n<li>CloudFront를 통해 서비스하는 콘텐츠를 사용자가 요청하면 지연 시간이 가장 낮은 엣지 로케이션으로 라우팅되므로 콘텐츠 전송 성능이 뛰어나다.</li>\n<li>객체의 복사본이 전 세계 여러 위치에 보관되어 있기 때문에 향상된 안전성과 가용성을 제공</li>\n<li>콘텐츠가 이미 지연 시간이 가장 낮은 엣지 로케이션에 있는 경우 CloudFront가 콘텐츠를 즉시 제공</li>\n</ul>\n<p><strong>Cloud Front동작 방식</strong></p>\n<blockquote>\n<p>콘텐츠가 엣지 로케이션에 있으면 바로 전달, 없으면 최종 버전에 대한 소스로 지정된 오리진에서 검색</p>\n</blockquote>\n<blockquote>\n<p>CloudFront는 AWS 백본 네트워크를 통해 콘텐츠를 가장 효과적으로 서비스할 수 있는 엣지로 각 사용자 요청을 라우팅하여 콘텐츠 배포 속도를 높인다.</p>\n</blockquote>\n<hr>\n<p>한줄 정리하면 AWS 백본 네트워크를 사용하여 사용자의 요청이 통과해야 하는 네트워크 홉(hop) 수를 획기적으로 줄이고 성능 향상, 낮은 지연 시간 및 높은 데이터 전송 속도를 제공</p>\n<p>tip!!</p>\n<ul>\n<li>CloudFront Key Pairs는 Root계정만 생성 가능하다.</li>\n</ul>\n<h2 id=\"101-캐시-요청-정책\" style=\"position:relative;\"><a href=\"#101-%EC%BA%90%EC%8B%9C-%EC%9A%94%EC%B2%AD-%EC%A0%95%EC%B1%85\" aria-label=\"101 캐시 요청 정책 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.1 캐시 요청 정책</h2>\n<p>캐시의 각 객체는 캐시 키로 식별 - <strong>호스트 이름 + URL 리소스</strong> 부분</p>\n<ol>\n<li>\n<p>캐시 기반</p>\n<ul>\n<li>CloudFront가 어떻게 캐싱할 지 설정</li>\n<li>사용자, 디바이스, 언어, 사용자 위치 등을 캐시에 추가가능 <strong>HTTP 헤더, 쿠키, 쿼리 문자열</strong></li>\n<li>3가지 옵션 / Node, Whitelist, Include All-Except</li>\n<li>TTl 정책 설정</li>\n</ul>\n</li>\n<li>\n<p>오리진 요청 정책</p>\n<ul>\n<li>오리진 요청에는 포함하되, 캐시 키에는 포함x</li>\n<li>캐시 정책이 아닌 자원을 요청하기 위해 필요한 부분 (HTTP 헤더, 쿠키, 쿼리 문자열)</li>\n<li>사용자 지정 HTTP 헤더 또는 CloudFront HTTP 헤더를 오리진에 추가</li>\n</ul>\n</li>\n<li>\n<p>응답 헤더 정책</p>\n<ul>\n<li>CloudFront가 응답과 함께 실어보낼 HTTP Header</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"102-캐시-무효화\" style=\"position:relative;\"><a href=\"#102-%EC%BA%90%EC%8B%9C-%EB%AC%B4%ED%9A%A8%ED%99%94\" aria-label=\"102 캐시 무효화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.2 캐시 무효화</h3>\n<blockquote>\n<p>CloudFront는 Backend Server의 변경사항에 대해 감지할 수 없다 -> 무효화 기능을 통해 수정된 파일이 캐시에 바로 반영되게 설정 가능</p>\n</blockquote>\n<ul>\n<li>추가 비용 필요</li>\n<li>프로젝트가 처음에 수정이 많을 경우 TTl 짧게, 안정화 되면 TTL을 늘려 캐싱을 길게 한다</li>\n</ul>\n<h2 id=\"103-캐시-동작\" style=\"position:relative;\"><a href=\"#103-%EC%BA%90%EC%8B%9C-%EB%8F%99%EC%9E%91\" aria-label=\"103 캐시 동작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.3 캐시 동작</h2>\n<ul>\n<li>주어진 URL 경로에 대해 다른 설정 구성</li>\n<li>기본 캐시 동작은 마지막에 항상 처리되며 정적 배포와 동적 배포를 분리하여 캐시 적중률을 극대화 가능<br>\n-> 정적 콘텐츠는 헤더, 세션 캐싱 규칙 없애고 - S3<br>\n-> 동적 콘텐츠는 올바른 헤더 및 쿠키 기반으로 캐시 - HTTP</li>\n</ul>\n<h2 id=\"104-cloud-front-alb-or-ec2\" style=\"position:relative;\"><a href=\"#104-cloud-front-alb-or-ec2\" aria-label=\"104 cloud front alb or ec2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.4 Cloud Front ALB or EC2</h2>\n<p>유저 요청은 크게 2가지 방법으로 요청된다 (ALB 사용 여부)</p>\n<ol>\n<li>user &#x3C;-> Edge Location &#x3C;- Allow public IP or Edge Locations -> EC2(public)</li>\n<li>user &#x3C;-> EDge Location &#x3C;- Allow public IP or Edge Locations -> ALB &#x3C;- Allow SecurityGroup of Load Balancer -> EC2(Private)</li>\n</ol>\n<h2 id=\"105-cloud-front---real-time-logs\" style=\"position:relative;\"><a href=\"#105-cloud-front---real-time-logs\" aria-label=\"105 cloud front   real time logs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.5 Cloud Front - Real Time Logs</h2>\n<blockquote>\n<p>실시간 로그를 활성화 한 경우 CloudFront가 수신한 모든 요청은 Kinesis 데이터 스트림에 실시간으로 전송 가능</p>\n</blockquote>\n<ul>\n<li>Kinesis Data Firehose 사용해 레코드를 배치 처리해서 S3, OpenSearch등 원하는 대상으로 전송 가능</li>\n<li>Kinesis 데이터 스트림에서 엑세스 할 필드나 캐시 동작 (경로 패턴) 지정 가능</li>\n</ul>\n<h2 id=\"106-security\" style=\"position:relative;\"><a href=\"#106-security\" aria-label=\"106 security permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.6 Security</h2>\n<p>어떤 유료 공유 콘텐츠 액세스를 제공할 때 액세스 권한이 있는지 확인하려고 한다면</p>\n<p><strong>URL이나 Cookie</strong>에 서명하는 방법 사용</p>\n<ul>\n<li>URL이나 쿠키를 생성하면 정책을 연결해서 URL이나 쿠키의 만료 시점을 지정</li>\n<li>이 때 클라이언트 IP를 알면 활용</li>\n<li>음악, 영화같은 콘텐츠는 몇 분 정도로 짧지만, 오래 액세스 할 콘텐츠라면 길게 유지</li>\n</ul>\n<ol>\n<li>Signed URL\n<blockquote>\n<p>어플리케이션에서 CloudFront의 컨텐츠에 접근 할 수 있는 URL을 제공하여 컨텐츠 제공을 제어하는 방법이다.</p>\n</blockquote>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0fc358cb884710a4e90cac09dd2a634d/d68dd/security1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.94478527607362%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABoElEQVR42o2SPWsVURCG7y+z839oaWOjPyCgiKAIV8XGLhcUrMRCkShc0MoqFsGExJAPxNX7kd09e77nzCO7KyQQCwfe4gxznneGmQlA0zmms48cnC6IIrTOY3zAxkjt/PC2IQ65xnoWdcu1O8+4evMuV25s8Pnrtx5DKYWJaKY6W/L0xZzj7z/AelLbkY1Fmo60bkidQ0IkxzQouMDD2RtuP55xa7rJzuHpCFRlUrTggkG9B1UQ6a1GpQythWUNxoIL4Dz4SO47bltSilyMAWhdSzYdyuVQ1X/n+45EBmkR0PIXSMF6Q+nseeVlKv8bk4JimhWxqkjrNSXGwbFEPxQcbb1lb/M5GgNZC1kyKcfBt5p/4HjrHatPL0m78/ORnWspdUOuazQE1HlKa1ApHL5+xd6TB2Rn8CUSUr/xjgzsTO/z5d4G+9Pr2PePRqAJhjo0WHHDB5c9TjxWPLFkjg722d3exgWPSQabLC45smZ+r5Ys12ccn5zws6pGoBRhVKb0o15QSonlasWvxQIfAoIMIFGhn6y/u15ZBJFxKX8AaaqsuG50rzUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0fc358cb884710a4e90cac09dd2a634d/a81b5/security1.webp 163w,\n/static/0fc358cb884710a4e90cac09dd2a634d/da3ef/security1.webp 325w,\n/static/0fc358cb884710a4e90cac09dd2a634d/309d5/security1.webp 650w,\n/static/0fc358cb884710a4e90cac09dd2a634d/78344/security1.webp 975w,\n/static/0fc358cb884710a4e90cac09dd2a634d/bdb72/security1.webp 1300w,\n/static/0fc358cb884710a4e90cac09dd2a634d/62655/security1.webp 2094w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0fc358cb884710a4e90cac09dd2a634d/5e043/security1.png 163w,\n/static/0fc358cb884710a4e90cac09dd2a634d/e5cc6/security1.png 325w,\n/static/0fc358cb884710a4e90cac09dd2a634d/663f3/security1.png 650w,\n/static/0fc358cb884710a4e90cac09dd2a634d/d880f/security1.png 975w,\n/static/0fc358cb884710a4e90cac09dd2a634d/4c573/security1.png 1300w,\n/static/0fc358cb884710a4e90cac09dd2a634d/d68dd/security1.png 2094w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0fc358cb884710a4e90cac09dd2a634d/663f3/security1.png\"\n            alt=\"security1\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>URL에는 시작시간, 종료시간, IP, 파일명, URL의 유효기간 등의 정보를 담을 수 있음</li>\n<li>이 URL 접근 이외의 접근을 막고 허용된 유저에게만 URL을 전달하여 컨텐츠 제공을 제어 가능</li>\n<li>단 하나의 파일 또는 컨텐츠에 대한 허용만 가능</li>\n<li>S3 Signed URL과 비슷한 방식</li>\n</ul>\n<ol start=\"2\">\n<li>Signed Cookie\n<blockquote>\n<p>Signed URL은 하나의 컨텐츠만 제공 제어를 한다고 하면, Signed Cookie는 다수의 컨텐츠의 제공방식을 제어하고 싶을 때 사용된다.</p>\n</blockquote>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/44adcdacaf72561e2ce24f8cff84ed69/d9f65/security2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.50920245398773%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9UlEQVR42p2Sy2oVQRCG8xq+hBsfwBdwKbgSxJVrQdBdwJVbF2IkeNsoKLgwG0UjgopJSKISEzRKzO3EMydz6e7p6Z7pyyczycnBS0Qs+HuKpvqb6r96DCDGbuV7WvBqfpXS1AQijff4EHA+UDuP288bF5Da8HTmPVOvF3j0cpaVta0Wwli7+OCp0UzPLXHy/A221nawaYHIBVooVC5IkxSVFiihEEKx/GWDo6cvcOzMJY6cOMf45IMRsPENxlUMBhmLS6s4Y/fablVZMDW0e9oQ27x2KKW59Xia21MvuPbwCW8+fBoBXXBUtSbLcsosxTtH7Ew4XM45vGs6Becghl+ATdVtNEIQvWcYMYROjMw+iPbHvvXZe8L+md+ATqkR4D+iA1pnUbXClYpmsIsXAi8kQVfsLs6TL8x1xSH4boCNdzhf8/X+XXbmZijXFsmeTUD0jIUYOpisJcoISiM76bpEyozZK+O8G7+ISXbom13SckBfD8hkwtuzp/gweZ3k+U16l4+DN3sdHvjVdhHjnojEGFm+d4fliatYWeAJXVHc93JjfR0hJXme8Xnl4+jKh4W1Nb1+n2+bmxRSHhg/BFpju4FYa8mL4u/AtrDX6zFIEnRZIoqCqqr+bSh/ivadJUnC9vY2WZahtcYY81PNsNP2O8x/ABaQkuhMNaPTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/44adcdacaf72561e2ce24f8cff84ed69/a81b5/security2.webp 163w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/da3ef/security2.webp 325w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/309d5/security2.webp 650w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/78344/security2.webp 975w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/bdb72/security2.webp 1300w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/fca01/security2.webp 2044w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/44adcdacaf72561e2ce24f8cff84ed69/5e043/security2.png 163w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/e5cc6/security2.png 325w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/663f3/security2.png 650w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/d880f/security2.png 975w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/4c573/security2.png 1300w,\n/static/44adcdacaf72561e2ce24f8cff84ed69/d9f65/security2.png 2044w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/44adcdacaf72561e2ce24f8cff84ed69/663f3/security2.png\"\n            alt=\"security2\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>Signed URL과 마찬가지로 여러 제약사항 설정 가능</li>\n<li>다수의 파일 및 스트리밍 접근 허용 가능</li>\n<li>사용사례 : 정기 구독 프리미엄 유저만 볼 수 있는 강의 동영상 등</li>\n</ul>\n<ol start=\"3\">\n<li>Origin Access Identity (OAI)\n<blockquote>\n<p>S3의 컨텐츠를 CloudFront를 사용해서만 볼 수 있도록 제한하는 방법이다.</p>\n</blockquote>\n</li>\n</ol>\n<p>즉, S3의 정적인 컨텐츠 URL로 바로 접근하는게 아니라 CDN을 통해서 접근하는 것이다.</p>\n<p>왜냐하면 S3로 직접 접속을 하면 캐싱을 못해 속도 측면에서 마이너스가 될수 있고, 국가별 라우팅, 인증 등이 CloudFront에 구현 되어있다면 유저가 직접 S3로 접속하면 안되기 때문이다.</p>\n<ul>\n<li>S3는 CloudFront와 잘 맞는다 → 정적인 컨텐츠를 호스팅 하기 때문</li>\n<li>CloudFront만 권한을 가지고 S3에 접근하고 나머지 접근권한은 막음<br>\n-> CloudFront는 유저와 S3사이에서 중개하는 역할</li>\n<li>S3 Bucket Policy로 CloudFront의 접근을 허용해야 사용 가능</li>\n<li>Cloud Front를 사용해 데이터를 S3버킷에 전송하여 파일 업로드 하는 것을 <strong>인그레스</strong>라고 한다.</li>\n</ul>\n<ol start=\"4\">\n<li>Field Level Encryption</li>\n</ol>\n<ul>\n<li>민감한 정보 보호 시,<strong>사용자와 가까운 엣지에서 암호화</strong> (CloudFront부터 Origin 사이 통신 암호화)</li>\n<li>클라우드 프론트로 보내는 POST요청의 경우 암호화를 원하는 필드를 <strong>최대 10개</strong>까지 지정 가능</li>\n<li>Edge Location에서 <strong>공용키를 사용해 원하는 필드들을 암호화</strong> 하고 Web Server에서 비밀키를 활용해 해독</li>\n</ul>\n<p>Tip!!</p>\n<ul>\n<li>암호화 하려는 POST필드 세트 지정(최대 10개 필드)</li>\n<li>공개 키를 지정하여 암호화</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/04b625e76925165bf0da3f8ed9ee40db/4d2c8/Disaster.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.447852760736193%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABN0lEQVR42k2Ry04cMRBF+8vzCyE/QNaJssgya3ZZshkYEAQ0g3o8Y2yXX/2Ybh9koyAWpbJuHdXjugNY10LIkXEe23td13ctZnyIzPO5YpRSiDmRx+GDq1rOA07eua4Ky7LwsHEc9wOvRqOOR5wPyEkxmQPLsjYGCk93wv4xYcVyUAoRj7aah/6+cd12u8U54fuXf1z9sHXfVqjT7Kvm1L+07W5v73DxxK+vO35/Ux/ceVkQEXrVY52js1YzjQMvj4I5JGL0WGOIKTJGYfaGtRScc4zTwGGXUPtMygljLCllYo4o1+O9p/vvYculIHFCwtgiGE3WfatXaz6Hr5aI4H3EeWF3fK6O0IXrC8LmEr/9SXz6w6T+MpsbZr8jtw+Y21m1yXk5N3uMdaSU8CG0xtY6tDYMw8gbEHXKLTtEQjMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/04b625e76925165bf0da3f8ed9ee40db/a81b5/Disaster.webp 163w,\n/static/04b625e76925165bf0da3f8ed9ee40db/da3ef/Disaster.webp 325w,\n/static/04b625e76925165bf0da3f8ed9ee40db/309d5/Disaster.webp 650w,\n/static/04b625e76925165bf0da3f8ed9ee40db/78344/Disaster.webp 975w,\n/static/04b625e76925165bf0da3f8ed9ee40db/5599d/Disaster.webp 1015w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/04b625e76925165bf0da3f8ed9ee40db/5e043/Disaster.png 163w,\n/static/04b625e76925165bf0da3f8ed9ee40db/e5cc6/Disaster.png 325w,\n/static/04b625e76925165bf0da3f8ed9ee40db/663f3/Disaster.png 650w,\n/static/04b625e76925165bf0da3f8ed9ee40db/d880f/Disaster.png 975w,\n/static/04b625e76925165bf0da3f8ed9ee40db/4d2c8/Disaster.png 1015w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/04b625e76925165bf0da3f8ed9ee40db/663f3/Disaster.png\"\n            alt=\"Disaster\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>CloudFront와 S3, EC2간의 지역 단위 재해에 대한 복구가 가능한 아키텍처 구현 가능</li>\n</ul>\n<h2 id=\"106-cloud-front-tip\" style=\"position:relative;\"><a href=\"#106-cloud-front-tip\" aria-label=\"106 cloud front tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.6 Cloud Front Tip!!</h2>\n<ul>\n<li>특정 지역의 컨텐츠 접근을 제한 가능</li>\n<li>비용 절감을 위해 엣지 위치 수를 줄일 수 있다.</li>\n</ul>\n<h1 id=\"11-ecs-ecr-rargate---aws-docker\" style=\"position:relative;\"><a href=\"#11-ecs-ecr-rargate---aws-docker\" aria-label=\"11 ecs ecr rargate   aws docker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11. ECS, ECR, Rargate - AWS Docker</h1>\n<ul>\n<li>ECS(Elastic Container Service) : 도커 관리를 위한 아마존 전용 플랫폼</li>\n<li>EKS(Elastic Kubernetes Service) : 쿠버네티스 관리를 위한 아마존 전용 플랫폼</li>\n<li>Fargate : 아마존 자체 컨테이너 플랫폼</li>\n<li>ECR : 컨테이너 이미지 저장</li>\n</ul>\n<hr>\n<h2 id=\"111-ecs\" style=\"position:relative;\"><a href=\"#111-ecs\" aria-label=\"111 ecs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.1 ECS</h2>\n<p>ECS의 유형으론 크게 2가지가 있다.</p>\n<p>첫번째론 <strong>EC2 Launch Type</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b62fba4bf12082552bd38bd7df1e61ff/0c082/ecsEcsCluster.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.41104294478527%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAADFUlEQVR42nWUS2/cVBTH+z34IqzY8nWQugEWSCChiiWbLsquEEWqBKG0SiFpNyFtlQa1Ig8x5NGZTDMP2+Px277vH7p3QiaJ2msd2/fc45//555j3wJwosAVZzjd4azBWQ3OXjd7fe5jFmYuzY9b/jTf+J7p1x9hp69xgJUds2hKNBmRTMfE0zFJNCGajIMvnk6wWuKMwl1crWzBuQWwPNhi9ugOtorCW/yCEJKmbemEQGqDNAYhFcLPpeTmcFosgU6rRSrvGT6V2d6fzPa2SEZnnPQHvBsOmUynN4ByCbRK4Iz+IDD9Z4fZwXNEXRDFMePxiLKq/o94n0IZgM656zA/txZjLeIiTeePiyK5DykMwIuUtTYordHGBJD3Sqnoug5jTPCHwlmH1vpSoc9ymbLsyHfWEMM92nKOqtKQQjfcp9h9iCxntFmEEzWmyUOsfHdIU87RdYbtKqyol21ju5qTLz4mfXovqJXxW5zqmP1xl7fffortSmydoosYNRty+tUnZNurWNWGuc4jTJ1dAYoGGfcD5Eo1UPMxuslJe6+I97YwSmDbAp1NLhs5hBqNaa4B2yDZGo2qy/CgB5pyFnzn22sMn66g2nqh1qfo+7KcY2QH1txQ2NWgJflZj9PH90h7u2HRFHHYgslfG4xePEK1VVCI6ijOTzh5eJfk8GWIbYs0lOdCoQcKqsmAweYK8+M3C2CZYLVivPM7589/WwJDbJ/Bxn3So9chtslSX+TlHvofQ5OMSHbXKQaHl0CjNcmbZyS7T5BdE4B+r+toyHT7F/L+QWidNr8CdLJFtyV+mzePK0qx+KOoIg7gfqbYHjSLPq1zdFuhHKz3SgofazVNPl8CkS1tXfLieM79rQGb+xGNULh6xnje8fOrET9uDdg/r0EUlEXBk79jfnh2ytrumEZIRDHHXgJVS1Xk3Hnc5/bqv3z+4IikFNDN2DnNuL3a47OVHj+9nIIqyLKM79b7fPngiG9+PaGoO0SRLoHG92EWofxXUqYLq+ahyv5eVwvzPl0kqCLBdTl0Wbj6ta7MQ5X/A/Y2WjCK+4d7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b62fba4bf12082552bd38bd7df1e61ff/a81b5/ecsEcsCluster.webp 163w,\n/static/b62fba4bf12082552bd38bd7df1e61ff/da3ef/ecsEcsCluster.webp 325w,\n/static/b62fba4bf12082552bd38bd7df1e61ff/309d5/ecsEcsCluster.webp 650w,\n/static/b62fba4bf12082552bd38bd7df1e61ff/ee2ad/ecsEcsCluster.webp 804w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b62fba4bf12082552bd38bd7df1e61ff/5e043/ecsEcsCluster.png 163w,\n/static/b62fba4bf12082552bd38bd7df1e61ff/e5cc6/ecsEcsCluster.png 325w,\n/static/b62fba4bf12082552bd38bd7df1e61ff/663f3/ecsEcsCluster.png 650w,\n/static/b62fba4bf12082552bd38bd7df1e61ff/0c082/ecsEcsCluster.png 804w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b62fba4bf12082552bd38bd7df1e61ff/663f3/ecsEcsCluster.png\"\n            alt=\"ecsEcsCluster\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>ECS클러스터는 여러 요소로 이루어지는데 EC2를 시작 유형으로 사용할 땐 EC2인스턴스가 그 요소에 해당</li>\n<li>EC2활용 시 인프라를 직접 프로비저닝 및 관리</li>\n</ul>\n<p>두번쨰는 <strong>EC2 Fargate Launch Type</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 463px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7c802a04b6bab27ab01b216c50f99dcd/11b02/fargate.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.77300613496932%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADbElEQVR42oWUS28cRRSF/aNYsoMNP4BFdmwQPwARsSA8FIt1RESwFBSxQbFErBDAskcIYhmCIPiBHdvY8Xgeycx4ZjzT06/q7np0faiq/YwtcaVSV6nOPXXq3Fs9Ff34IXLpBlYJSq2wWpKLBBFH5GlMlsT+ezLPkggRhahceGypCkolq7nMmWrdfJ3RV29CqTiJ0XhMs92m0+nS6Xbp9Hoc9vu0X7z060azSSqEx1prT/OsVkxl7R1kf9/tcBbn5xWQ0mC0RimFMcaPsjQXsJ7QGsWr4U49ObkUEfHqImJtkXGnybOdHeoHdf7d3SWYTC6orAi1vKTovEorc7LGOll9DZMlDI9GdDsdur0eWutLN7lS4atRGoOU8n9xlwiNKVHOJ6396c4v93VkIsvQRp/unwzn5ZWE1mgykXjz3bDlMbAs0bKgyIQvnMNVCaWfizTxGOuGKphKt5fZv/4aYvcJ+biHGjaRgwZGRDQ+fYPBd9OoeEzebyAP677nBg+maU6/hRy2yQYt5KCJGncxaciUqK/QmXmPoruLVTkmnWDSAJPF9L55n8nvs16tO8AkY68k+OUe/fs3TnEmCSjd1xE64BV94wmcJw4YP/2J+O95ShH7FtHx6MquqAjTiffCeVkeP6cTwrIQFeHKgh9lnniFOhx61VZVz803vj1H6KJobzNemCHdXKoqnoaVQhGRrNZIVhe8HS5RR0OPSTd+ZTx/h7yx4dc6mZwRymGLaGWRvFltVleWlEVKsvmYZHOpUmhLdHTkMdnBOpM/HiIPG5cJi84e6W/3yff+OiYMvQ0mmZA8eYD483t0ElxQmG0vky1/S9HaOkfoEgGVpRy0usST4Jgw9r8mrGE06NPr9V3n+lej4yOfMwkCtuodCpH49XGVQ5SxlBbmm5agcH1qfTEykbFzBLNblrvrlp0RiNypHnn8MINay2IsaGPRjpA8ZhhL7i21+fpxmzs/t6j3U1ApRZ5z84ch78wc8O7dBh/NHZLmGvKAf9oxnz/a58tag9u1BoFQ2CxyhBHdScEnc8/57GGdD2b32HgRgUqQec7Hcz3evrXLtdvPuT77EuEIszFr7ZjpR3Vu1Vp8UWudEbpqKlfRIsG6KsrEr50fKgkIw4gojAjDmDiMUWnor6yzCCtjbO76NUaL0HfGf2uE6pmfbBYgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7c802a04b6bab27ab01b216c50f99dcd/a81b5/fargate.webp 163w,\n/static/7c802a04b6bab27ab01b216c50f99dcd/da3ef/fargate.webp 325w,\n/static/7c802a04b6bab27ab01b216c50f99dcd/fb1d9/fargate.webp 463w\"\n              sizes=\"(max-width: 463px) 100vw, 463px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7c802a04b6bab27ab01b216c50f99dcd/5e043/fargate.png 163w,\n/static/7c802a04b6bab27ab01b216c50f99dcd/e5cc6/fargate.png 325w,\n/static/7c802a04b6bab27ab01b216c50f99dcd/11b02/fargate.png 463w\"\n            sizes=\"(max-width: 463px) 100vw, 463px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7c802a04b6bab27ab01b216c50f99dcd/11b02/fargate.png\"\n            alt=\"fargate\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>이 유형의 경우는 관리할 EC2 인스턴스가 없다. (서버리스)</p>\n<p>Fargate 유형에서 ECS 클러스터를 사용하는 경우 ECS 태스크만 정의하고 나면 AWS에서 CPU와 RAM 요구사항을 토대로 ECS 태스크를 실행한다.</p>\n<p>확장하려면 태스크 수만 늘리면 된다.</p>\n<ul>\n<li>Cloud Watch로 ECS CPU사용량 확인이 가능하다</li>\n<li>보안 그룹은 ECS에 별로 중요하지 않음, 대부분 IAM 관련</li>\n</ul>\n<h3 id=\"1111-ecs-tasks-for-iam-role\" style=\"position:relative;\"><a href=\"#1111-ecs-tasks-for-iam-role\" aria-label=\"1111 ecs tasks for iam role permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.1.1 ECS Tasks for IAM Role</h3>\n<p>ECS 클러스터를 EC2 기반으로 생성할 땐 정확한 IAM이 설정되지 않으면 인스턴스 개수가 0<br>\n-> 임의의 호스트 포트를 활성화해 동일한 유형의 여러 건테이너를 동일한 EC2컨테이너 인스턴스에서 시작할 수 있게 설정</p>\n<p>위의 2가지 유형으로 작업을 살펴보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/04f24a304ec161d969831b1b58c4ecf1/a6a70/ecsProfile.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.50306748466258%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAADEUlEQVR42n2U7Y8TVRSH+Zs0mBDDBwkK4a0RzW7USEIMIXzji4oEDWii1qigEflGYhY2sI2pMUh0JbpvdrtlWVEh2WXLtmW625m203beZ+7cmcfMbDEpWznJyUwyd577O/ec393GExHFg5lE8pDJt35K4jQjtsa2xy8iDPH9gDgKIZIQS2Lfxbr3DytjExRezFA4NEoh8xrFw0cpjh5j4eAo7qP65qZR9ARQBDiez4+3FcZnKlwv1Bj/vczY90Uezi9RvTqBkr9J9VqOeydeYPXcESq5G/idTr+MeBAoZYhh+xz+osizp6fZ8f4M28/M8FJ2gWrTQkqRrnM7TR5k99P+4R0soNvt4Hne1pJlmAA93vxmkf3ZIiPnS7z8eZHMZ/OU6zqeaSCExGwolM9sR79+AseTOLaFEGIrMBRBCjxycZFXvlzgrUuLvPFViUy2sAm0DMIwwmzUWTm1G238bTqWmyp0XXcIMBQpMFH1zHtT7PhglufOzrPn/J9UWjYyDNJ1jqZzd+9JGmcv0zZ7VCsVTNMc0mUhsF2fr39a4VzuPh9eWeLUhVu8e/oK93+ZZn1mDnW+RG1yijvHsqiXfyYkpt1qDx8bPwjS0Uln0bZwSrMsf/Qxfzy/m7kDI/y26yC/7tzLXOZ1vCgkGjqFAwrDtFuNZgu9XqNzZxKjtoZeUWg/XENdWcWoKrSrVdY2HlBRV9F1Ha3ZJOwLGQAGQqRlm5aNa3axy7eRrpG6REiJ7XubjokidLOdZuAHaUOiKBoOfLxT6HnoS3/x96cXmNq5J3XH3L5Xmd51gIWRo8i+JYmfUnIC9H0f23Wxmw1a03nqtyZZHZugPJFn+WqOWi7P3e/yfHKxyvgNg1C4WJZFEARDgEGQArVWm562jrU8i3S6fRfJ1JZJaJrD8ZMlst/WcJwezWZz+BwmwOQMk/NQ1QaqUmVdeYTveoRC4DpOcgMQSUmvl5xd+PQuB4FIO+04DoZp0jUM2rqOY9upQhFuBcRx/F/+f8maxvrGBpqm0lBVFEXB97yB0Uj+j+OhAvkXm8HWiJekplAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/04f24a304ec161d969831b1b58c4ecf1/a81b5/ecsProfile.webp 163w,\n/static/04f24a304ec161d969831b1b58c4ecf1/da3ef/ecsProfile.webp 325w,\n/static/04f24a304ec161d969831b1b58c4ecf1/309d5/ecsProfile.webp 650w,\n/static/04f24a304ec161d969831b1b58c4ecf1/3a833/ecsProfile.webp 730w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/04f24a304ec161d969831b1b58c4ecf1/5e043/ecsProfile.png 163w,\n/static/04f24a304ec161d969831b1b58c4ecf1/e5cc6/ecsProfile.png 325w,\n/static/04f24a304ec161d969831b1b58c4ecf1/663f3/ecsProfile.png 650w,\n/static/04f24a304ec161d969831b1b58c4ecf1/a6a70/ecsProfile.png 730w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/04f24a304ec161d969831b1b58c4ecf1/663f3/ecsProfile.png\"\n            alt=\"ecsProfile\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><strong>1. launch type - EC2 Instance Profile (only EC2)</strong></p>\n<p>json형식으로 인스턴스의 프로파일을 생성하고 ec2에 붙여야 한다.</p>\n<p>그럼 위 그림과 같은 동작을 수행한다</p>\n<ul>\n<li>Profile을 사용해 ECS 서비스에 인스턴스 복원 API 호출</li>\n<li>CloudWatch Logs에 컨테이너 로그를 전송하는 API 호출</li>\n<li>ECR에서 도커 이미지를 가져오는 API 호출</li>\n<li>시크릿 매니저 또는 SSM Parameter Store에서 민감한 데이터 참조하거나 S3에서 로드</li>\n</ul>\n<p><strong>2. EC2 Task Role</strong></p>\n<ul>\n<li>태스크 별로 다른 역할을 수행하게 지정하고 필요한 권한 부여</li>\n</ul>\n<h3 id=\"1112-load-balancer\" style=\"position:relative;\"><a href=\"#1112-load-balancer\" aria-label=\"1112 load balancer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.1.2 Load Balancer</h3>\n<p>ECS Cluster를 접근하기 전에 ALB를 사용해 EC2 type, Fargate type으로 로드밸런싱이 가능하다<br>\n(EC2 경우 모든 포트 오픈, Fargate경우 80, 443만 오픈 - task가 해당 포트들로 열림)</p>\n<p>ALB는 대부분의 사용 사례에서 활용하고</p>\n<p>Network Load Balancer는 높은 성능을 요구하거나 AWS Private link를 사용할 때만 권장한다.</p>\n<h3 id=\"1113-ecs-data-volumn\" style=\"position:relative;\"><a href=\"#1113-ecs-data-volumn\" aria-label=\"1113 ecs data volumn permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.1.3 ECS Data Volumn</h3>\n<p><strong>EFS 파일 시스템을 ECS에 마운트 (S3는 파일 시스템으로 마운트 불가)</strong></p>\n<p>EFS는 네트워크 파일 시스템이기 때문에 EC2와 Fargate와 모두 호환 가능하고</p>\n<p>ECS 태스크에 파일 시스템을 바로 마운트 가능</p>\n<p>최상의 조합은 Fargate(serverless) + EFS(serverless)</p>\n<h3 id=\"1114-ecs-rolling-update\" style=\"position:relative;\"><a href=\"#1114-ecs-rolling-update\" aria-label=\"1114 ecs rolling update permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.1.4 ECS Rolling Update</h3>\n<ul>\n<li>AutoScaling을 활용해 사용량에 따라 스케일 조정이 가능</li>\n<li>ECS Rolling UPdates 방식을 사용하는데 <strong>한 번에 얼마나 많은 태스크를 시작하고 중단하는지 제어 가능</strong></li>\n</ul>\n<h3 id=\"1115-ecs-solution-architecture\" style=\"position:relative;\"><a href=\"#1115-ecs-solution-architecture\" aria-label=\"1115 ecs solution architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.1.5 ECS Solution Architecture</h3>\n<p>ECS 아키텍처 3가지 확인하고 넘어가자</p>\n<ol>\n<li>\n<p>Event Bridge\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/82da3b7fa748a4c5c8c00f73b110c873/24c26/ecsArcitecture1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.46625766871166%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVR42m2STW7UQBCFfR/EHbgDe27Big1cgSMgwSrLsEdCQiGAQEFESlDETBjieGaY8X//VfWH3LbDIFHSk6rs7tevql4WY2TAELUTTlYlIoIXRaIy/BKN/4ESJsz5cDYbiEY6qGzg7XJ/98CyuuZsfYaq4sSNCA7jDaKBWcwAScSRrCxLBlhnE0nrWn7uFyn/US44XX0geKFpWrquwztHZ1uCOA5D46g8y/OcEAI+eFRhW+/5XlxgvKPtWrz3RI00Vui9psu9H5T6lE/N/CWc25tb73uD6fpUl01F1TVY6+k/vSH+voR2hV2f4c1uuhP/JTyUPZA3psdpSPUws850lFdfsMePCEcPkNcPCS/u0Xw7YtD7+WvNk+dbFoUm+uyALb1lzn9hX53QFzuK3YZifYvPL1ANqEZCEDprEoY4/bjl8bMrlrmkOmO2jYzz2b98x/b+U/SyoCfgnCVIxBiHseMibHD4MOZNW7NZ36Sl6mybw+lurnNu35+DV5yOG63amm21Z1eXmGBobI0Xfzcm1QPbmOoGYyzWWpzzVH1H5UwydhDFByGITCYWfHLEVE9n0nfRtJg//VoDiqqfZWcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/82da3b7fa748a4c5c8c00f73b110c873/a81b5/ecsArcitecture1.webp 163w,\n/static/82da3b7fa748a4c5c8c00f73b110c873/da3ef/ecsArcitecture1.webp 325w,\n/static/82da3b7fa748a4c5c8c00f73b110c873/309d5/ecsArcitecture1.webp 650w,\n/static/82da3b7fa748a4c5c8c00f73b110c873/9d7ec/ecsArcitecture1.webp 921w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/82da3b7fa748a4c5c8c00f73b110c873/5e043/ecsArcitecture1.png 163w,\n/static/82da3b7fa748a4c5c8c00f73b110c873/e5cc6/ecsArcitecture1.png 325w,\n/static/82da3b7fa748a4c5c8c00f73b110c873/663f3/ecsArcitecture1.png 650w,\n/static/82da3b7fa748a4c5c8c00f73b110c873/24c26/ecsArcitecture1.png 921w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/82da3b7fa748a4c5c8c00f73b110c873/663f3/ecsArcitecture1.png\"\n            alt=\"ecsArcitecture1\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</li>\n<li>\n<p>Event Bridge Schdule\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4fd38bbe7ed5f6f629700935f4e6cd3/d3e70/ecsArcitecture2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.558282208588956%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVR42pVSu07EMBC8v+DvqPgDSj6DkoqWHhAFEr+Q5igQD6UBJSK5cxw/dtceZDugC8pxYi1rLXs9ntnxCgcixogQQs5lXfK+WCGdhQjEZTBPBGLGVmv0mw28s3De50d+6qZRAA+wS2Cp2DQjyEneZ5bMdJFhNATUHYJx+fIumIiAiaAtQ9+cQW6PIfcnoL4ufCbpliwcuwJoHh7RHp3CXFfYioUQg5mhk8S+x2As9GsFt76CrC9B1QW8amEcQSkFYcFz+4S37mUCrBt8nN8h1N03tRlLlgDWPcLEIHWOsuTSw5SbzwbGjQVQmRHvqlvypMgOAZ4Fgx4xDArkXW7FzJQd54sp2eW41xjvCaOxefIE9vvrzFz+61/9N74ApGG/WWMJzAsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d4fd38bbe7ed5f6f629700935f4e6cd3/a81b5/ecsArcitecture2.webp 163w,\n/static/d4fd38bbe7ed5f6f629700935f4e6cd3/da3ef/ecsArcitecture2.webp 325w,\n/static/d4fd38bbe7ed5f6f629700935f4e6cd3/309d5/ecsArcitecture2.webp 650w,\n/static/d4fd38bbe7ed5f6f629700935f4e6cd3/b5541/ecsArcitecture2.webp 897w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d4fd38bbe7ed5f6f629700935f4e6cd3/5e043/ecsArcitecture2.png 163w,\n/static/d4fd38bbe7ed5f6f629700935f4e6cd3/e5cc6/ecsArcitecture2.png 325w,\n/static/d4fd38bbe7ed5f6f629700935f4e6cd3/663f3/ecsArcitecture2.png 650w,\n/static/d4fd38bbe7ed5f6f629700935f4e6cd3/d3e70/ecsArcitecture2.png 897w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d4fd38bbe7ed5f6f629700935f4e6cd3/663f3/ecsArcitecture2.png\"\n            alt=\"ecsArcitecture2\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</li>\n<li>\n<p>SQS Queue\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/35bfc3ed9bfb56987f9c8b148cbf8d56/a6c2c/ecsArcitecture3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.171779141104295%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHUlEQVR42o2SW0pDMRCGuzO354trcB+iT74Iom+CLVoVoaX29LTnknsmnyTSU1tscWBCMsl8TOafEf+wlFJe/txvfWujI4QhKVsUwRiD6TY4H7BGY/oG5yMxRrz3iMgJ4D6dCJh6hn66KdW4+QT1fFviklKB7QHzQWuNkAi9wUwX2GWDMpoYAlESqmtYf45Lkl5/0c5eSaeAfd+TQ+10zvvlNdX9mFYrvHO4KOjNEjW5Q7wt7wqowBLiwvEvW2tZVVXpy9DDBLataV4eEO+GPscC/SlI0gHwt1KHsdx4FyLOeTbK44KUu4zwHzXm4oq06o+LcgjPKmd1O6VZVCsWy4q6XhdRuscp87Nz0lv1X5V3o5REig8ibOeQ3Rx+A22swU5ZpK3eAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/35bfc3ed9bfb56987f9c8b148cbf8d56/a81b5/ecsArcitecture3.webp 163w,\n/static/35bfc3ed9bfb56987f9c8b148cbf8d56/da3ef/ecsArcitecture3.webp 325w,\n/static/35bfc3ed9bfb56987f9c8b148cbf8d56/309d5/ecsArcitecture3.webp 650w,\n/static/35bfc3ed9bfb56987f9c8b148cbf8d56/810ab/ecsArcitecture3.webp 822w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/35bfc3ed9bfb56987f9c8b148cbf8d56/5e043/ecsArcitecture3.png 163w,\n/static/35bfc3ed9bfb56987f9c8b148cbf8d56/e5cc6/ecsArcitecture3.png 325w,\n/static/35bfc3ed9bfb56987f9c8b148cbf8d56/663f3/ecsArcitecture3.png 650w,\n/static/35bfc3ed9bfb56987f9c8b148cbf8d56/a6c2c/ecsArcitecture3.png 822w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/35bfc3ed9bfb56987f9c8b148cbf8d56/663f3/ecsArcitecture3.png\"\n            alt=\"ecsArcitecture3\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</li>\n</ol>\n<h3 id=\"1116-ecs-task-definitions\" style=\"position:relative;\"><a href=\"#1116-ecs-task-definitions\" aria-label=\"1116 ecs task definitions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.1.6 ECS Task Definitions</h3>\n<p>EC2 태스크를 생성하면 사용 가능한 메모리와 CPU, Port를 확인할 수 있어야 한다</p>\n<p>이를 위해 태스크 배치 전략과 테스크 제한 기능이 존재</p>\n<p>태스크 정의 확인 -> 테스크 배치 제한 확인 -> 전략에 적합한 인스턴스 식별<br>\n-> 인스턴스 선택</p>\n<p><strong>배치 선택</strong></p>\n<ol>\n<li>Binpack : 가장 많이 채워져 있는 cpu혹은 메모리에 배치 시도 -> 사용 인스턴스 수 최소화 가능</li>\n<li>Random : 그냥 랜덤 배치</li>\n<li>Spread(분산) : 태스크 분산 해 고가용성 극대화</li>\n</ol>\n<p><strong>배치 제한</strong></p>\n<ol>\n<li>distinctInstance : 태스크가 각각 다른 컨테이너 인스턴스에 배치<br>\n-> 동일 인스턴스 상 두개 태스크 배치 불가능</li>\n<li>memberOf : 사용자 커스텀 제한 (<strong>클러스터 쿼리</strong> 언어 사용해 정의)</li>\n</ol>\n<p>Tip!</p>\n<ul>\n<li>생성 관련 - EC2 Profile, 실행 관련 - EC2 Task</li>\n<li>다양한 AWS 서비스와 상호작용 할 때 작업 역할 생성하고 ECS 작업 정의에 연결</li>\n</ul>\n<h2 id=\"112-ecr\" style=\"position:relative;\"><a href=\"#112-ecr\" aria-label=\"112 ecr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.2 ECR</h2>\n<blockquote>\n<p>AWS 도커 이미지 저장 및 관리</p>\n</blockquote>\n<p>비공개 / 공개 설정 가능</p>\n<h2 id=\"113-aws-copliot\" style=\"position:relative;\"><a href=\"#113-aws-copliot\" aria-label=\"113 aws copliot permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.3 AWS Copliot</h2>\n<p>컨테이너화 된 프로덕션-레디 App을 빌드 및 릴리즈하고 동작시키는데 사용하는 <strong>명령줄 인터페이스 도구</strong></p>\n<ul>\n<li>ECS, VPC, ELB, ECR 등과 같은 복잡한 인프라를 준비해준다.</li>\n<li>CodePipeline과 통합해 명령어 하나만으로 컨테이너 자동 배포 가능</li>\n<li>App 문제 해결, 로그 확인, 건강 상태 검사도 수행 가능</li>\n<li>CLI나 YAML 파일을 이용해 MSA 아키텍처 형성 -> Copilot CLI를 이용해 APP 컨테이너 화 배포</li>\n</ul>\n<h2 id=\"114-eks\" style=\"position:relative;\"><a href=\"#114-eks\" aria-label=\"114 eks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11.4 EKS</h2>\n<p>ECS랑 동일한 기능 제공</p>\n<p>Volume설정 할 떄 Container Storage Interface, CSI 호환 드라이버 활용 해야함</p>\n<p>EFS 사용 동일</p>\n<h1 id=\"12-aws-elastic-beanstalk\" style=\"position:relative;\"><a href=\"#12-aws-elastic-beanstalk\" aria-label=\"12 aws elastic beanstalk permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12. AWS Elastic Beanstalk</h1>\n<blockquote>\n<p>AWS 클라우드에서 애플리케이션을 신속하게 배포하고 관리</p>\n</blockquote>\n<p>Go, Java, .NET, Node.js, PHP, Python 및 Ruby, Docker</p>\n<ul>\n<li>Elastic Beanstalk의 환경 이름은 자유롭게 지정 가능</li>\n<li>zip으로 패키징</li>\n<li>웹 어플리케이션이나 작업자 환경의 구축에 이용됨.</li>\n</ul>\n<h2 id=\"121-option\" style=\"position:relative;\"><a href=\"#121-option\" aria-label=\"121 option permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12.1 Option</h2>\n<ul>\n<li>한번에 모두 배포 : 가장 빠르지만 잠시동안 트래픽을 처리하는데 인스턴스 사용 불가 (추가비용x)</li>\n<li>롤링 : 한번에 몇개 인스턴스 업데이트 후 정상이면 다음 인스턴스로 이동 (적은 추가비용)</li>\n<li>추가 배치가 있는 롤링 : 롤링과 비슷하지만 새 인스턴스 가동하여 배치 (이전 app 계속 사용 가능)</li>\n<li>불변 : 새 인스턴스 가동하고, 이 인스턴스에 버전 배포 / 모든 것이 정상일 때 인스턴스 교체 (높은 비용) / 빠르게 롤백 가능</li>\n<li>청록색 : 새로운 환경 만들고 준비가 되면 전환 (새 환경 테스트 -> 롤백 or 적용 - URL 스왑)</li>\n<li>트래픽 분할 : 카나리아 테스트, 소량의 트래픽을 새 배포로 보낸다.</li>\n</ul>\n<p>tip!!</p>\n<ul>\n<li>EC2 burst balance가 모두 소진되는 경우<br>\n=> 불변, 트래픽 분할 (전체 변경 한꺼번에 하는 경우)</li>\n</ul>\n<h2 id=\"122-life-cycle\" style=\"position:relative;\"><a href=\"#122-life-cycle\" aria-label=\"122 life cycle permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12.2 Life Cycle</h2>\n<ul>\n<li>최대 1000개의 App 저장 가능</li>\n<li>이전 버전 삭제 시간이나 공간 기반으로 라이프 사이클 설정 가능</li>\n<li>삭제 원하지 않으면 S3 저장 옵션</li>\n</ul>\n<h2 id=\"123-eb-extension\" style=\"position:relative;\"><a href=\"#123-eb-extension\" aria-label=\"123 eb extension permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12.3 EB Extension</h2>\n<ul>\n<li>Elastic Beanstack extension을 사용해 UI에서 설정한 모든 매개변수를 파일을 사용해 코드로 구성할 수 있다.</li>\n<li>.ebextensions/ 라는 디렉토리가 반듯이 있어야 하고 YAML, JSON 형식<br>\n-> 확장자는 반드시 .config로 끝나야 한다</li>\n</ul>\n<h2 id=\"124-eb-cloning\" style=\"position:relative;\"><a href=\"#124-eb-cloning\" aria-label=\"124 eb cloning permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12.4 EB Cloning</h2>\n<ul>\n<li>환경을 동일하게 복제 가능하지만 변경 할 수 있는 옵션이 제한되어 있다.</li>\n<li>테스트 버전 배포에 유용</li>\n</ul>\n<h2 id=\"125-eb-migration-수행\" style=\"position:relative;\"><a href=\"#125-eb-migration-%EC%88%98%ED%96%89\" aria-label=\"125 eb migration 수행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12.5 EB Migration 수행</h2>\n<ol>\n<li>LoadBalancer 변경<br>\n-> 환경 복사하고 CNAME 교체나 Route53이용 해 DNS 업데이트</li>\n<li>Decouple RDS</li>\n</ol>\n<p><a href=\"https://gomguk.tistory.com/185\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[AWS SAA-C03] AWS Elastic Beanstalk 정리</a></p>\n<p>참고</p>\n<p>Tip!!</p>\n<ul>\n<li>EB는 CloudFormation을 사용하는데 CloudFormation은 Elastic Cache, DynamoDB S3 버킷 배포 가능</li>\n</ul>\n<h1 id=\"13-aws-cicd\" style=\"position:relative;\"><a href=\"#13-aws-cicd\" aria-label=\"13 aws cicd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13. AWS CI/CD</h1>\n<h2 id=\"131-code-commit\" style=\"position:relative;\"><a href=\"#131-code-commit\" aria-label=\"131 code commit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13.1 Code Commit</h2>\n<p>vs Github</p>\n<ul>\n<li>default로 git사용</li>\n<li>KMS를 통해 암호화 된다.</li>\n</ul>\n<p>인증</p>\n<ul>\n<li>SSH Key로 접근</li>\n<li>표준 로그인 방식</li>\n<li>IAM로 접근</li>\n</ul>\n<p>tip!</p>\n<p>AWS SNS / Lambda를 통합 설정을 하면 커밋마다 코드 분석을 자동으로 트리거 해</p>\n<p>개발자가 비밀 자격 증명을 커밋하지 못하도록 한다.</p>\n<h2 id=\"132-code-pipeline\" style=\"position:relative;\"><a href=\"#132-code-pipeline\" aria-label=\"132 code pipeline permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13.2 Code Pipeline</h2>\n<p>Visual workflow 도구</p>\n<p>CodeCommit(Source) -> AWS Code Build(build) -> AWS Code Deploy(Deploy)</p>\n<ul>\n<li>작동이나 단계 실행 상태 변화 등 확인하기 위해선 CloudWatch Events 이용<br>\n-> 실패한 파이프라인 혹은 취소된 단계에 대한 이벤트 생성 및 메일 알림 가능</li>\n<li>특정 작업 실행이 안되면 IAM 권한 확인</li>\n<li>인프라에서 살펴봐야 하는 경우 AWS API 감시 서비스인 <strong>Cloud Trail</strong> 사용</li>\n</ul>\n<p>webhook : 이방법 사용하면 HTTP 엔드 포인트 노출되고 해당 엔드포인트는 종류와 상관 없이 스크립트 트리거 가능<br>\nPolling : github을 주기적으로 확인<br>\nEvents : 이벤트 트리거 (CodeCommit - EventBridge, Github - CodeStar Source Connection)</p>\n<p>pipeline에서 수동 승인작업을 추가할 수 있는데 2개 권한 필요!!<br>\n-> <strong>GetPipeLine, PutApprovalResult</strong></p>\n<h2 id=\"133-code-build\" style=\"position:relative;\"><a href=\"#133-code-build\" aria-label=\"133 code build permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13.3 Code Build</h2>\n<blockquote>\n<p>AWS가 제공하는 Build Tool, 지정된 위치에서 소스코드를 가져와 Build &#x26; Test 수행</p>\n</blockquote>\n<p>빌드 명령 파일 <code>buildspec.yml</code> - root에 위치해야 함</p>\n<ul>\n<li>Cloud Watch Metrics는 빌드 통계 확인에 쓰임</li>\n<li>Cloud Watch Events는 실패한 빌드 찾아 알려줌</li>\n<li>Cloud Watch Alarams는 오류가 너무 많을 때 쓰임</li>\n</ul>\n<p>AWS CodeBuild는 NAT Gateway를 사용하여 Private Subnet에서 작동하는데</p>\n<p>vpc내부에서 실행도 가능<br>\n(통합 테스트, 데이터 쿼리, 내부 로드 밸런서와의 통신 등)</p>\n<p>CodeBuild 컨테이너는 실행이 끝나면 삭제된다. (실행 중에도 SSH 연결 불가)</p>\n<h2 id=\"134-code-deploy\" style=\"position:relative;\"><a href=\"#134-code-deploy\" aria-label=\"134 code deploy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13.4 Code Deploy</h2>\n<ul>\n<li>EC2 인스턴스와 온프레미스 서버로 배포하기 위해선 <strong>Code Deploy Agent</strong>를 실행해야한다</li>\n<li><code>appspec.yml</code>은 Code Deploy가 App을 배포할 때 사용</li>\n<li>시험에 나오는 배포 할 때 문제 EC2 인스턴스나 서버 시간이 잘못되서 에러가 나기도 함</li>\n</ul>\n<p><strong>과정</strong></p>\n<ol>\n<li>개발자 S3, Github에 push</li>\n<li>Code Deploy 실행</li>\n<li>CodeDeploy Agent가 Code Deploy polling</li>\n<li>Download code + appspec.yml</li>\n</ol>\n<p><strong>종류</strong></p>\n<ol>\n<li>In-place : 반 배포, 반 배포 / 한번에 한번 / 한번에</li>\n<li>blue-green deployment : 전체 복사해서 배포 후 전환</li>\n</ol>\n<p><strong>Redeploy &#x26; Rollbacks</strong></p>\n<p>Rollback : 이전에 배포된 애플리케이션 리비전 재배포</p>\n<p>2가지</p>\n<ol>\n<li>자동 : 배포 실패 or Cloud Watch알람이 트리거 되서 배포에 실패했다고 알려주는 경우</li>\n<li>수동</li>\n</ol>\n<p>Rollback을 하면 CodeDeploy는 마지막으로 감지한 성공한 리비전을</p>\n<p>새로 배포하는데 이전으로 돌아가지 않는다.</p>\n<p>새로운 배포를 할 때 가장 나중에 성공한 배포 사용 (새로운 버전)</p>\n<h2 id=\"135-code-star\" style=\"position:relative;\"><a href=\"#135-code-star\" aria-label=\"135 code star permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13.5 Code Star</h2>\n<blockquote>\n<p>CI/CD관련 모든 솔루션을 통합하는 솔루션</p>\n</blockquote>\n<ul>\n<li>문제 트래킹 도구가 있고, 이 도구를 문제 추적에 사용하면 JIRA 또는 Github와 통합되어 사용하기 편리</li>\n<li>Cloud9을 사용하면 코딩을 통합할 수 있다.</li>\n<li>통합 view는 아님</li>\n</ul>\n<h2 id=\"136-code-artifact\" style=\"position:relative;\"><a href=\"#136-code-artifact\" aria-label=\"136 code artifact permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13.6 Code Artifact</h2>\n<blockquote>\n<p>종속성 관리 도구</p>\n</blockquote>\n<ul>\n<li>Maven, Gradle, npm, Yarn, pip, Nuget 등과 통합되어 있음</li>\n<li>Public Artifact Repositores에 직접 붙지 않고, Proxy처리 되어 붙는다는 의미</li>\n<li>자체 Artifact도 가져올 수 있다.</li>\n<li>Code Artifact는 변경사항이 있을 때 이벤트를 EventBridge로 전송 가능</li>\n<li>Code Artifact를 액세스 하도록 권한을 부여하려면 리소스 정책을 사용해야 하는데 이 때 리포지토리 액세스 권한을 모든 패키지 권한 부여하거나, 아무 권한도 부여하지 않아야 한다.</li>\n<li>외부 연결 된 저장소는 하나이고, 업스트림 형태, 최대 10개의 업스트림 레포지토리 가질 수 있다.</li>\n</ul>\n<h2 id=\"137-code-curu\" style=\"position:relative;\"><a href=\"#137-code-curu\" aria-label=\"137 code curu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13.7 Code Curu</h2>\n<blockquote>\n<p>자동화된 코드 검토 및 App 성능 권장 사항을 위한 ML 기반 서비스</p>\n</blockquote>\n<p>2가지 기능 제공</p>\n<ul>\n<li>CodeGuru 검토자 : 정적 코드 분석을 위한 자동화 된 코드 검토</li>\n<li>CodeGuru 프로파일러 : 런타임 동안 App 성능에 대한 가시성/권장 사항</li>\n</ul>\n<h2 id=\"138-aws-cloud-9\" style=\"position:relative;\"><a href=\"#138-aws-cloud-9\" aria-label=\"138 aws cloud 9 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13.8 AWS Cloud 9</h2>\n<blockquote>\n<p>클라우드 기반 IDE</p>\n</blockquote>\n<h1 id=\"14-aws-cloudformation\" style=\"position:relative;\"><a href=\"#14-aws-cloudformation\" aria-label=\"14 aws cloudformation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>14. AWS CloudFormation</h1>\n<blockquote>\n<p>CloudFormation은 AWS의 인프라 구조를 JSON와 YMSL로 작성하여 프로비저닝하기 위해 공통 언어를 제공하는 서비스 (코드형 인프라)<br>\nex) Auto Scaling Group, Load Balancer, DB 등</p>\n</blockquote>\n<ul>\n<li>생성한 모든 스택에는 식별자가 있어 손쉽게 스택 비용 추적 가능</li>\n<li>CloudFormation 템플릿으로 리소스 비용을 추산 가능</li>\n<li>Application 스택은 Beanstalk로 확인했는데 Beanstalk에서 CloudFormation 템플릿을 생성해 사용한 것</li>\n<li>AWS리소스 전부 리소스가 될 수 있다. (EC2, LoadBalancer 등)</li>\n<li>CloudFormation에서 내보낸 출력 값은 <strong>단일 지역내에서 고유한 이름을 가져야 함</strong></li>\n</ul>\n<p>배포 방법</p>\n<ul>\n<li>수동 : 템플릿 수정, CloudFormation designer, console에 매개변수 입력)</li>\n<li>자동 : YAML 파일에서 템플릿 수정 후 명령 줄 인터페이스</li>\n</ul>\n<h2 id=\"141-template\" style=\"position:relative;\"><a href=\"#141-template\" aria-label=\"141 template permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>14.1 Template</h2>\n<ul>\n<li>템플릿으로부터 AWS 리소스를 자동 구축하기 위한 일련의 셋 사양</li>\n<li>AWS 리소스를 항상 일정한 설정으로 프로비저닝</li>\n<li>템플릿을 통해 테스트 환경 등의 환경을 만들기에 용이</li>\n</ul>\n<ol>\n<li>\n<p>Resources로는 EC2 등의 스택 리소스와 그 프로퍼티(속성)을 지정한다.</p>\n</li>\n<li>\n<p>Parameters(매개변수)로는 실행시에 템플릿에 전달한 값을 지정한다.</p>\n</li>\n<li>\n<p>Description 섹션에는 그 템플릿에 관련된 커맨트를 지정한다.</p>\n</li>\n</ol>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">// JSON</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">{</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;AWSTemplateFormatVersion&quot; : &quot;version date&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Description&quot; : &quot;JSON string&quot;,</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Metadata&quot; : {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    template metadata</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  },</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Parameters&quot; : {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    set of parameters</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  },</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Rules&quot; : {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    set of rules</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  },</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Mappings&quot; : {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    set of mappings</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  },</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Conditions&quot; : {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    set of conditions</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  },</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Transform&quot; : {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    set of transforms</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  },</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Resources&quot; : {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    set of resources</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  },</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &quot;Outputs&quot; : {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    set of outputs</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  }</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span></code></pre>\n<h2 id=\"142-outputs\" style=\"position:relative;\"><a href=\"#142-outputs\" aria-label=\"142 outputs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>14.2 Outputs</h2>\n<ul>\n<li>CloudFormation 템플릿을 연결할 수 있다.</li>\n<li>AWS 콘솔에서 출력을 볼 수도 있고, CLI를 사용해 출력값을 빠르게 검색도 가능</li>\n<li>ex - 출력을 내보내기 해 resource에 대한 정보를 얻을 수 있고, 이를 <strong>다른 템플릿에서 재사용도 가능</strong><br>\n(이전에 유지되던 상태로 )</li>\n</ul>\n<h2 id=\"143-rollback\" style=\"position:relative;\"><a href=\"#143-rollback\" aria-label=\"143 rollback permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>14.3 Rollback</h2>\n<ul>\n<li>스택 생성에 실패하면, 스택을 업로드 하는데 모든 항목이 롤백 -> 모두 삭제</li>\n<li>Rollback을 중지할 수 있음 -> 생성된 항목에 관해 좀 더 자세히 파악</li>\n</ul>\n<h2 id=\"144-change-set-중첩-스택-stackset\" style=\"position:relative;\"><a href=\"#144-change-set-%EC%A4%91%EC%B2%A9-%EC%8A%A4%ED%83%9D-stackset\" aria-label=\"144 change set 중첩 스택 stackset permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>14.4 Change Set, 중첩 스택, StackSet</h2>\n<p>ChangeSet</p>\n<ul>\n<li>템플릿 내용 변경을 실시하는 구조</li>\n<li>업데이트 성공 여부는 알 수 없지만 어떤 일이 생기는지는 확인 가능</li>\n<li>change set을 사용하면 스택의 변경안이 실행중의 리소스에 미칠 가능성이 있는 영향을 확인 가능<br>\n(변경에 의해 중요한 리소스가 삭제되거나 변경되는 경우)</li>\n</ul>\n<p>Cross stack</p>\n<ul>\n<li>스택의 수명주기가 다른 경우 유용</li>\n<li>내보내기 값을 여러 스택에 전달하는 경우</li>\n</ul>\n<p>Stack Set</p>\n<ul>\n<li>스택 셋을 이용하면 CloudFormation 템플릿 안에 있는 리소스 설정을 여러 리전이나 리소스에 적절히 사용 가능</li>\n<li>한번 설정해두면 추가 어카운트나 리전에 대해서도 간단히 전개</li>\n</ul>\n<p>Tip!!</p>\n<ul>\n<li>실제 리소스와 CloudFormation 템플릿의 내용 사이에 괴리가 있는 것을 “드리프트”라고 부른다.</li>\n<li>CloudFormation 스택 업데이트 중에 모든 리소스에서 모든 업데이트 작업이 허용</li>\n<li>JSON 문서, 의도하지 않은 업데이트로 부터 리소스 보호</li>\n<li>허용 할 리소스에 대해 명시적인 ALLOW 설정</li>\n</ul>\n<h1 id=\"15-aws-mornitoring\" style=\"position:relative;\"><a href=\"#15-aws-mornitoring\" aria-label=\"15 aws mornitoring permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>15. AWS Mornitoring</h1>\n<h2 id=\"151-aws-cloud-watch\" style=\"position:relative;\"><a href=\"#151-aws-cloud-watch\" aria-label=\"151 aws cloud watch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>15.1 AWS Cloud Watch</h2>\n<p>주요 구성 요소</p>\n<ul>\n<li>메트릭 : 주요 메트릭 수집 및 추적</li>\n<li>로그 : 로그 파일 수집, 모니터링, 분석 및 저장</li>\n<li>이벤트 : AWS에서 특정 이벤트가 발생할 떄 알림 전송</li>\n<li>알람 : 메트릭 / 이벤트에 실시간으로 반응</li>\n</ul>\n<p>지표 수집</p>\n<ul>\n<li>CloudWatch Agent를 EC2나 On-Premise에 설치하여 시스템 지표와 로그 파일을 수집 가능<br>\n(다양한 저장 장소 사용, Custom 가능)</li>\n<li>Agent는 Windows와 Linux 지원</li>\n<li>모니터링을 시작한 시점부터 최대 2주 동안 모든 Amazon EC2 인스턴스의 메트릭 데이터 사용</li>\n<li>EC2 인스턴스 모니터링이 비활성화되고 2주가 경과하면 인스턴스의 메트릭 데이터를 사용 불가</li>\n<li>2주가 경과한 후에도 메트릭 데이터를 보관하려면 명령줄에 mon-get-stats 명령을 호출한 후 결과를 Amazon S3 또는 Amazon SimpleDB에 저장</li>\n<li>Metric은 기본 1분(1, 5, 10, 30초) 단위로 사용</li>\n<li>푸시를 2주전으로 하던 2시간 앞으로 하던 오류 발생x -> aws시간과 ec2인스턴스 시간 잘 확인해야 함</li>\n</ul>\n<p>특징</p>\n<ul>\n<li>case 인스턴스가 예기치 않게 정기적으로 정지 : cloudwatch로 경보 설정 및 인스턴스 재부팅(임시방편)</li>\n<li>클라우드워치 경보 작업으로 인스턴스를 자동 중지, 종료, 재부팅, 복구 경보 설정이 가능</li>\n<li>인스턴스를 모니터링하고 자동으로 재부팅하는 경보설정 가능 (바로 되는데 굳이 Lambda 쓸 필요없음)</li>\n<li>AWS 클라우드 리소스와 실행하는 어플리케이션 모니터링 경보를 사용하여 SNS를 통해 이메일 전송 가능</li>\n<li>CloudWatch Synthetics은 API, URL, 웹사이트 등 모니터링 하는 구성 가능한 스크립트\n<ul>\n<li>고객이 영향 받기 전에 프로그래밍 방식으로 수행하는 작업 재현</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"152-eventbridge\" style=\"position:relative;\"><a href=\"#152-eventbridge\" aria-label=\"152 eventbridge permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>15.2 EventBridge</h2>\n<blockquote>\n<p>EventBridge는 다양한 소스의 데이터와 애플리케이션을 연결하는데 사용할수있는 서버리스 이벤트버스 서비스</p>\n</blockquote>\n<ul>\n<li>일정 : cron 작업</li>\n<li>이벤트 패턴 : 서비스가 무언가를 할 떄 반응하는 이벤트 규칙</li>\n<li>Lambda 함수 트리거, SQS/SNS 메세지 전송</li>\n</ul>\n<p>특징</p>\n<ul>\n<li>이벤트를 수신하고 이벤트를 대상으로 라우팅하는 규칙을 적용함</li>\n<li>이벤트 브릿지로 람다를 호출할려면 정책추가 action에 Invokelambdafunction과 principal에 Events.amazonaws.com을 입력</li>\n<li>리소스 기반 정책을 사용해 다른 aws 계정에서 이벤트 버스에 액세스 가능</li>\n<li>이벤트 버스로 보낸 이벤트(전체/필터) 보관 가능 (무기한 또는 기간 설정)</li>\n<li>보관된 이벤트 재생 가능</li>\n</ul>\n<h2 id=\"153-x-ray\" style=\"position:relative;\"><a href=\"#153-x-ray\" aria-label=\"153 x ray permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>15.3 X-Ray</h2>\n<blockquote>\n<p>애플리케이션 성능 및 오류 문제 해결, 마이크로 서비스의 분산 추적, 실시간 오류 확인</p>\n</blockquote>\n<ul>\n<li>API Gateway는 모든 API Gateway 엔드 포인트 타입(지역, 엣지 최적화, 프라이빗)의 AWS X-Ray 트레이스를 지원</li>\n</ul>\n<h3 id=\"1531-distro-for-open-telemetry\" style=\"position:relative;\"><a href=\"#1531-distro-for-open-telemetry\" aria-label=\"1531 distro for open telemetry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>15.3.1 Distro for Open Telemetry</h3>\n<blockquote>\n<p>어플리케이션에서 분산된 트레이스 및 지표 수집 방법</p>\n</blockquote>\n<p>개별 앱에서 요청 -> 지표를 x-ray, cloudwatch 및 <strong>오픈텔레메트리에서 지원하는 모든 파트너 모니터링 솔루션으로 전송 가능</strong></p>\n<h2 id=\"154-cloudtail\" style=\"position:relative;\"><a href=\"#154-cloudtail\" aria-label=\"154 cloudtail permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>15.4 CloudTail</h2>\n<blockquote>\n<p>API 호출에 대한 내부 모니터링, 사용자의 AWS 리소스 변경 감사</p>\n</blockquote>\n<ul>\n<li>로그를 Cloud Watch Logs 또는 S3에 저장 가능</li>\n<li>이벤트는 90일 동안 저장</li>\n</ul>\n<h2 id=\"cloud-watch-vs-x-ray-vs-cloud-tail\" style=\"position:relative;\"><a href=\"#cloud-watch-vs-x-ray-vs-cloud-tail\" aria-label=\"cloud watch vs x ray vs cloud tail permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cloud Watch vs X-Ray vs Cloud Tail</h2>\n<p>CloudTail : AWS API 호출 감사, 승인되지 않은 호출 또는 변경의 근번 원인 탐지에 유용</p>\n<p>CloudWatch : 모니터링을 위한 시간 경과에 따른 지표, 로그 저장을 위한 CloudWatch Logs</p>\n<p>X-ray : 자동 추적 분석 및 중앙 서비스 맵 시각화, 분산 시스템 오류 요청 추적</p>\n<h1 id=\"16-aws-messaging\" style=\"position:relative;\"><a href=\"#16-aws-messaging\" aria-label=\"16 aws messaging permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>16. AWS Messaging</h1>\n<h2 id=\"161-sqs\" style=\"position:relative;\"><a href=\"#161-sqs\" aria-label=\"161 sqs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>16.1 SQS</h2>\n<blockquote>\n<p>분산형 어플리케이션에 대해 사용되는 메세지큐 서비스로, 풀링 모델을 통해 메시지를 변환하고 컨포넌트의 송수신을 분리하기 위해 사용</p>\n</blockquote>\n<ul>\n<li>FIFO 설정 해 순서대로 메시지 처리하도록 할 수 있다. (FIFO는 순서 보증 못함)</li>\n<li>Push방식이 아니라 풀링 방식</li>\n<li><strong>병렬 처리 등의 분산 처리</strong>시 이용하는 것으로 이벤트에 연동한 메시지 통지는 SNS 이용</li>\n<li>동적 처리 요구를 저장하고 비동기처리를 통해 확실한 처리 실행</li>\n<li>EC2인스턴스에 분산 처리하는 것으로 <strong>복수의 워크 프로세스를 병렬 실행</strong></li>\n<li>메시지의 중복배제 ID를 이용하여 중복 메시지 발생을 사전에 방지\n<ul>\n<li>더 좋은 방법은 SQS 자체의 기능보다 Step Function을 작성해 메시지 중복을 예방</li>\n</ul>\n</li>\n<li>리소스의 수평방향의 스케일링에 도움 -> <strong>부하 분산, 처리 프로세스 최적화</strong></li>\n<li>SNS로부터 메시지를 SQS에서 중단시켜 풀링 처리를 실시해도, EC2 인스턴스간에 처리 우선 순위는 변경x</li>\n<li>SQS큐에 저장할 수 있는 메시지 수는 무제한</li>\n<li>4일이 넘은 메시지는 자동 삭제</li>\n<li>초당 최대 3000개 처리 가능</li>\n<li>Auto Scaling 그룹으로 스케일링 가능</li>\n<li>큐의 우선도에 따른 AutoScaling을 구성하는 메트릭스 설정은 존재x</li>\n<li>메세지 손실이 없음, 알림을 보낼 수 없음</li>\n<li>기존 sqs -> fifo sqs로 마이그레이션할때 기존꺼 삭제후 새로만들어야 함</li>\n<li>가시성 떄문에 메시지가 2번 처리 할 떄 주의해야 함, 가시성 시간을 늘려 다른 인스턴스가 message를 더 오랫동안 가져가지못해 한번만 처리하게 가능 (완전한 솔루션은 아닌거 같긴함)</li>\n<li>대기열 제한 시간 초과값은 초 단위이며, <strong>기본값 30초</strong></li>\n<li>대기열 생성 후에는 유형 생성 후에는 변경 불가</li>\n</ul>\n<h2 id=\"162-sns\" style=\"position:relative;\"><a href=\"#162-sns\" aria-label=\"162 sns permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>16.2 SNS</h2>\n<blockquote>\n<p>분산 시스템 및 서버리스 어플리케이션을 분리할 수 있는(decoupling) 고사용성, 완전 관리형 pub/sub 메시지 서비스</p>\n</blockquote>\n<ul>\n<li>Topic당 최대 구독자는 12,500,000명</li>\n<li>Topic은 100,000개로 제한</li>\n<li>이를 통해 MSA 분리 가능하게 한다</li>\n<li>한번에 송수신 되는 대용량 메시지를 처리 불가능한 경우가 있고, 데이터 간 송수신 순서를 보장하지 못한다.</li>\n<li>이벤트 트리거로 이용 가능</li>\n</ul>\n<h2 id=\"163-kinesis\" style=\"position:relative;\"><a href=\"#163-kinesis\" aria-label=\"163 kinesis permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>16.3 Kinesis</h2>\n<blockquote>\n<p>스트리밍 데이터를 리얼타임으로 분석</p>\n</blockquote>\n<p>2가지 모델 존재</p>\n<ul>\n<li>standard : 소비자가 pull data, 샤드 당 1초에 2MB</li>\n<li>Enhaned-fan out : 소비자에 push, 2MB이상</li>\n</ul>\n<p>특징</p>\n<ul>\n<li>빅데이터에서 적극 활용</li>\n<li>데이터 보존은 1 ~ 365일</li>\n<li>처리량을 프로 비저닝해야함 (필요에 따라 샤드 추가, 제거)</li>\n<li><strong>Auto Scailing 불가</strong></li>\n</ul>\n<p><strong>Kinesis Data Stream</strong></p>\n<blockquote>\n<p>일련의 데이터 레코드를 가진 샤드(Shard; 데이터 베이스 샤드는 데이터베이스나 웹 검색 엔진의 수평분할) 세트로 각 테이블 레코드에 Kinesis Data Stream을 통해 분할된 시퀀즈 번호가 있으므로, 메시지가 분실되지 않고, 중복되지 않게 도착 그리고 같은 순서대로 전송</p>\n</blockquote>\n<ul>\n<li>Kinesis를 이용하면 데이터의 누락이 없으며 내구성이 있고 데이터 순으로 스트리밍</li>\n<li>센서 데이터를 처리하기 위해 Amazon Kinesis이용 가능 (iot)</li>\n<li>Amazon Kinesis Data Streams와 Lamabda를 연계시켜 데이터 처리를 서버리스 실현 가능<br>\n-> Amazon Kinesis Data Streams가 스트리밍 데이터 처리 -> Lambda함수가 데이터 변환처리 -> Amazon Kinesis Data Firehose가 S3에 데이터를 저장</li>\n<li>데이터 분석과 키네시스 데이터 스트림은 모두 실시간 수집 및 분석을 위한것이다. 데이터 손실 가능</li>\n</ul>\n<p><strong>Kinesis Data Firehose</strong></p>\n<blockquote>\n<p>안정적으로 로드하는 방법, 데이터 처리량에 맞게 자동으로 스케일됨, 압축하여 보내서 스토리지 양을 최소화</p>\n</blockquote>\n<p>거의 실시간으로 데이터를 처리, 또한 웨어하우스인 redshift로 데이터를 전송하여 데이터가 손실되지 않도록 함</p>\n<p>동작 과정은</p>\n<p>Kinesis Data Firehose를 이용해 S3에 로그를 축적 -> 변환처리(Lambda)<br>\n-> Athena를 이용하여 로그 분석 / s3 or Redshift 버킷에 저장 (ebs 로드 불가)</p>\n<p>Kinesis Data Firehose 배달 스트림 설정 태그부터, AWS Lambda 함수를 선택</p>\n<p>선택한 함수는 Kinesis Data Firehose에서 자동적으로 모든 입력 데이터 레코드에 적용</p>\n<p><strong>Amazon Athena</strong></p>\n<blockquote>\n<p>인터렉티브한 쿼리 서비스로, Amazon S3내의 데이터를 표준 SQL을 사용해서 간단히 분석</p>\n</blockquote>\n<ul>\n<li>\n<p>Amazon S3에 있는 데이터를 지정해서 스키마를 정의하고 표준적인 SQL을 사용하여 쿼리의 실행을 시작</p>\n</li>\n<li>\n<p>대부분의 경우 몇 초 이내에 결과가 나온다.</p>\n</li>\n<li>\n<p>case 분석이 완료되면 consumer에게 알림을 보낼 때 SNS사용하는 방법이 좋다</p>\n</li>\n<li>\n<p>case 생산자 소비자간의 데이터 잔달 속도 지연 : 더 좋은 퍼포먼스는 팬아웃 사용</p>\n</li>\n</ul>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#7-vpc\">7. VPC</a></p>\n</li>\n<li>\n<p><a href=\"#8-s3\">8. S3</a></p>\n<ul>\n<li><a href=\"#81-s3-storage-classes\">8.1 S3 Storage Classes</a></li>\n<li><a href=\"#82-s3-life-cyle-rule\">8.2 S3 Life Cyle Rule</a></li>\n<li><a href=\"#83-s3-event-alert\">8.3 S3 Event alert</a></li>\n<li><a href=\"#84-s3-%EC%84%B1%EB%8A%A5\">8.4 S3 성능</a></li>\n<li><a href=\"#85-security\">8.5 Security</a></li>\n<li><a href=\"#86-s3-access-log\">8.6 S3 Access Log</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#9-aws-cli-sdk-iam-%EC%97%AD%ED%95%A0-%EB%B0%8F-%EC%A0%95%EC%B1%85\">9. AWS CLI, SDK, IAM 역할 및 정책</a></p>\n</li>\n<li>\n<p><a href=\"#10-cloudfront\">10. CloudFront</a></p>\n<ul>\n<li>\n<p><a href=\"#101-%EC%BA%90%EC%8B%9C-%EC%9A%94%EC%B2%AD-%EC%A0%95%EC%B1%85\">10.1 캐시 요청 정책</a></p>\n<ul>\n<li><a href=\"#102-%EC%BA%90%EC%8B%9C-%EB%AC%B4%ED%9A%A8%ED%99%94\">10.2 캐시 무효화</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#103-%EC%BA%90%EC%8B%9C-%EB%8F%99%EC%9E%91\">10.3 캐시 동작</a></p>\n</li>\n<li>\n<p><a href=\"#104-cloud-front-alb-or-ec2\">10.4 Cloud Front ALB or EC2</a></p>\n</li>\n<li>\n<p><a href=\"#105-cloud-front---real-time-logs\">10.5 Cloud Front - Real Time Logs</a></p>\n</li>\n<li>\n<p><a href=\"#106-security\">10.6 Security</a></p>\n</li>\n<li>\n<p><a href=\"#106-cloud-front-tip\">10.6 Cloud Front Tip!!</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#11-ecs-ecr-rargate---aws-docker\">11. ECS, ECR, Rargate - AWS Docker</a></p>\n<ul>\n<li>\n<p><a href=\"#111-ecs\">11.1 ECS</a></p>\n<ul>\n<li><a href=\"#1111-ecs-tasks-for-iam-role\">11.1.1 ECS Tasks for IAM Role</a></li>\n<li><a href=\"#1112-load-balancer\">11.1.2 Load Balancer</a></li>\n<li><a href=\"#1113-ecs-data-volumn\">11.1.3 ECS Data Volumn</a></li>\n<li><a href=\"#1114-ecs-rolling-update\">11.1.4 ECS Rolling Update</a></li>\n<li><a href=\"#1115-ecs-solution-architecture\">11.1.5 ECS Solution Architecture</a></li>\n<li><a href=\"#1116-ecs-task-definitions\">11.1.6 ECS Task Definitions</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#112-ecr\">11.2 ECR</a></p>\n</li>\n<li>\n<p><a href=\"#113-aws-copliot\">11.3 AWS Copliot</a></p>\n</li>\n<li>\n<p><a href=\"#114-eks\">11.4 EKS</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#12-aws-elastic-beanstalk\">12. AWS Elastic Beanstalk</a></p>\n<ul>\n<li><a href=\"#121-option\">12.1 Option</a></li>\n<li><a href=\"#122-life-cycle\">12.2 Life Cycle</a></li>\n<li><a href=\"#123-eb-extension\">12.3 EB Extension</a></li>\n<li><a href=\"#124-eb-cloning\">12.4 EB Cloning</a></li>\n<li><a href=\"#125-eb-migration-%EC%88%98%ED%96%89\">12.5 EB Migration 수행</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#13-aws-cicd\">13. AWS CI/CD</a></p>\n<ul>\n<li><a href=\"#131-code-commit\">13.1 Code Commit</a></li>\n<li><a href=\"#132-code-pipeline\">13.2 Code Pipeline</a></li>\n<li><a href=\"#133-code-build\">13.3 Code Build</a></li>\n<li><a href=\"#134-code-deploy\">13.4 Code Deploy</a></li>\n<li><a href=\"#135-code-star\">13.5 Code Star</a></li>\n<li><a href=\"#136-code-artifact\">13.6 Code Artifact</a></li>\n<li><a href=\"#137-code-curu\">13.7 Code Curu</a></li>\n<li><a href=\"#138-aws-cloud-9\">13.8 AWS Cloud 9</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#14-aws-cloudformation\">14. AWS CloudFormation</a></p>\n<ul>\n<li><a href=\"#141-template\">14.1 Template</a></li>\n<li><a href=\"#142-outputs\">14.2 Outputs</a></li>\n<li><a href=\"#143-rollback\">14.3 Rollback</a></li>\n<li><a href=\"#144-change-set-%EC%A4%91%EC%B2%A9-%EC%8A%A4%ED%83%9D-stackset\">14.4 Change Set, 중첩 스택, StackSet</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#15-aws-mornitoring\">15. AWS Mornitoring</a></p>\n<ul>\n<li>\n<p><a href=\"#151-aws-cloud-watch\">15.1 AWS Cloud Watch</a></p>\n</li>\n<li>\n<p><a href=\"#152-eventbridge\">15.2 EventBridge</a></p>\n</li>\n<li>\n<p><a href=\"#153-x-ray\">15.3 X-Ray</a></p>\n<ul>\n<li><a href=\"#1531-distro-for-open-telemetry\">15.3.1 Distro for Open Telemetry</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#154-cloudtail\">15.4 CloudTail</a></p>\n</li>\n<li>\n<p><a href=\"#cloud-watch-vs-x-ray-vs-cloud-tail\">Cloud Watch vs X-Ray vs Cloud Tail</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#16-aws-messaging\">16. AWS Messaging</a></p>\n<ul>\n<li><a href=\"#161-sqs\">16.1 SQS</a></li>\n<li><a href=\"#162-sns\">16.2 SNS</a></li>\n<li><a href=\"#163-kinesis\">16.3 Kinesis</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#reference\">Reference</a></p>\n</li>\n</ul>","frontmatter":{"title":"AWS CertifiedDeveloper - Associate 대비 정리 2","summary":["AWS CertifiedDeveloper Associcate 학습 정리"],"date":"2023.08.10.","category":["Cloud"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAABf0lEQVR42r2TS0/CQBCA+/8TTqgXJSIJygEsjxgSIwIRBUOx8UWLAVrAVhQoUKDUtrtr6tBClIDG4GYOm5n55rEzS5E/HGqzMMIYYfxrGGOCHWzxvgbGeOZpWqja7FXE7rthQYhVMGDg1O6OdsNFOlVOXjz5Iky12QOH5TDoJ1Oj1lLandH2UUGQ+mAajvSd0LUy1BbzU25ChGzdbeXFG8wnMvzWYSFbFKBy00SEkMJdK5HhCSGWheYwdoqRX1VvMK9NDVe52KQ2NTz+S4g4g8HO1d/89I3Hn2MeJTubidAX1Kk2fPqQKzXsESJMQT97EUYd66BaMTlCiDrWAzF2XjZbls+uqtCehTBsxVLBhOiGtU+XIJANK0MtEGfhVVavGiEkVxKjKW5WNjTGcrLvmDnJVhIZPpHm445Ezzk6VY7awsXTfCh5fxBjNd2EF6XcuasTvdbq1Z8VEEHqC1Jf/JSGPGjIA1EayB11cdHnc/7hT3L37/uGrT//+J83BX8An3mCPckRI88AAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/92d7ac172089017e05d0a77628536b72/5371e/thumbnail.png","srcSet":"/static/92d7ac172089017e05d0a77628536b72/24271/thumbnail.png 56w,\n/static/92d7ac172089017e05d0a77628536b72/39d80/thumbnail.png 113w,\n/static/92d7ac172089017e05d0a77628536b72/5371e/thumbnail.png 225w","sizes":"(min-width: 225px) 225px, 100vw"},"sources":[{"srcSet":"/static/92d7ac172089017e05d0a77628536b72/d66a6/thumbnail.webp 56w,\n/static/92d7ac172089017e05d0a77628536b72/a72fd/thumbnail.webp 113w,\n/static/92d7ac172089017e05d0a77628536b72/1cf63/thumbnail.webp 225w","type":"image/webp","sizes":"(min-width: 225px) 225px, 100vw"}]},"width":225,"height":225}},"publicURL":"/static/92d7ac172089017e05d0a77628536b72/thumbnail.png"}}}}]}},"pageContext":{"slug":"/AWSCertifiedDeveloper_2/","series":[{"slug":"/AWSCertifiedDeveloper_1/","title":"AWS CertifiedDeveloper - Associate 대비 정리 1","num":1},{"slug":"/AWSCertifiedDeveloper_2/","title":"AWS CertifiedDeveloper - Associate 대비 정리 2","num":2},{"slug":"/AWSCertifiedDeveloper_3/","title":"AWS CertifiedDeveloper - Associate 대비 정리 3","num":3}],"lastmod":"2023.08.10."}},"staticQueryHashes":["2383754777"],"slicesMap":{}}