{"componentChunkName":"component---src-templates-post-tsx","path":"/SpringCloudConfig/","result":{"data":{"site":{"siteMetadata":{"title":"Just Keep Going","description":"Ian's Archive","siteUrl":"https://hohshho.github.io"}},"allMarkdownRemark":{"edges":[{"node":{"id":"322f4c03-0f2f-5ac9-bc8b-3f2e1303ad56","html":"<p>Spring Cloud Config Server 도입기다.</p>\n<h1 id=\"1-문제-상황\" style=\"position:relative;\"><a href=\"#1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\" aria-label=\"1 문제 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 문제 상황</h1>\n<p>현재 시스템의 환경 설정 관리는 여러 부분에 분산되어 있다.</p>\n<ul>\n<li>NextJS App의 환경 설정 파일을 개발 환경에선 .env.development(각자 개인이)로 관리하고,\r\n운영환경에서는 Jenkins의 스크립트에서 관리 - ex) echo “NEXT_PUBLIC_BASE_PATH=/data_platform” >> .env.production</li>\n<li>mng서버, clct서버, api gateway서버, spring cloud gateway서버 등 모두 같은 DB에 접근하는데 전부 application.yml에 복사 붙여넣기 되어있다.\n<ul>\n<li>만약 DB설정 정보가 변경된다면 모든 서버의 코드를 찾아서 수정하고 배포</li>\n</ul>\n</li>\n<li>로컬, 운영환경마다 설정이 다른데 관리해야 할 .yml파일이 너무 많음</li>\n<li>설정 변경을 위한 불필요한 재배포\n<ul>\n<li>단순히 로그 레벨을 DEBUG로 바꿀때와 같은 간단한 변경을 위해서도 매번 코드를 수정, 빌드, 재배포 과정을 가진다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"2-spring-cloud-config란\" style=\"position:relative;\"><a href=\"#2-spring-cloud-config%EB%9E%80\" aria-label=\"2 spring cloud config란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Spring Cloud Config란?</h1>\n<ul>\n<li>Spring Cloud Config는 분산 시스템에서 외부화된 설정 정보를 서버 및 클라이언트에게 제공하는 시스템</li>\n<li>설정 서버는(Config Server)는 외부에서 모든 환경에 대한 정보들을 관리해주는 중앙 서버</li>\n<li>git을 사용하도록 되어있어서 손쉽게 외부 도구들로 접근 가능하고, 버전 관리도 가능</li>\n<li>Spring Cloud Config 설정 파일 우선 순위\n<ul>\n<li>프로젝트의 application.yaml</li>\n<li>설정 저장소의 application.yaml</li>\n<li>프로젝트의 application-{profile}.yaml</li>\n<li>설정 저장소의 {application name}/{application name}-{profile}</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"3-해결책--spring-cloud-config-server사용\" style=\"position:relative;\"><a href=\"#3-%ED%95%B4%EA%B2%B0%EC%B1%85--spring-cloud-config-server%EC%82%AC%EC%9A%A9\" aria-label=\"3 해결책  spring cloud config server사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 해결책 → Spring Cloud Config Server사용</h1>\n<ul>\n<li>설정의 중앙화\n<ul>\n<li>서비스 코드 저장소가 아닌 <strong>별도의 Git저장소에 모아두는 것이 가능</strong></li>\n</ul>\n</li>\n<li>모든 서버가 시작할 때 로컬의 <code>application.yml</code> 이 아닌 Config Server에 질의 → 동적으로 주입</li>\n<li>NextJS의 App의 경우 빌드 시점에 설정을 가져와 환경 변수를 설정 해 사용</li>\n<li><strong>적용 방식</strong>\n<ul>\n<li><strong>Spring Boot 서비스</strong>: spring-cloud-starter-config 의존성을 추가하고, bootstrap.yml에 Config Server 주소만 명시하면 애플리케이션 구동 시 자동으로 설정을 가져온다.</li>\n<li><strong>Next.js App</strong>: 빌드 시점에 next.config.ts에서 스크립트를 통해 Config Server API를 호출하여 설정 값을 받아온 후, 동적으로 생성</li>\n</ul>\n</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"95556490329305330000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`import type { NextConfig } from 'next';\r\nimport axios from 'axios';\r\nimport { load as loadYaml } from 'js-yaml';\r\n\r\n// 설정 서버의 기본 URL을 상수로 정의합니다.\r\nconst CONFIG_SERVER_URL = 'http://192.168.50.248:8070';\r\n\r\n/**\r\n * Next.js 애플리케이션에 주입할 환경 변수를 동적으로 가져옵니다.\r\n * @returns {Promise<Record<string, string>>} 환경 변수 객체\r\n */\r\nconst getDynamicEnv = async (): Promise<Record<string, string>> => {\r\n  // 현재 환경을 확인합니다. 'npm run dev' -> 'development', 'npm run build' -> 'production'\r\n  const nodeEnv = process.env.NODE_ENV;\r\n  const configEnv = nodeEnv === 'production' ? 'prod' : 'dev';\r\n\r\n  const configUrl = \\`\\${CONFIG_SERVER_URL}/next/\\${configEnv}\\`;\r\n\r\n  console.log(\\`[Next.js Config] Fetching environment variables for '\\${configEnv}' from \\${configUrl}\\`);\r\n\r\n  try {\r\n    const response = await axios.get<string>(configUrl, {\r\n      // 서버 응답을 텍스트로 받기 위해 responseType 설정\r\n      responseType: 'text',\r\n    });\r\n\r\n    // YAML 형식의 응답을 JavaScript 객체로 파싱합니다.\r\n    const envConfig = loadYaml(response.data) as Record<string, string>;\r\n\r\n    if (!envConfig || Object.keys(envConfig).length === 0) {\r\n      throw new Error('Parsed configuration is empty or invalid.');\r\n    }\r\n\r\n    console.log('[Next.js Config] Environment variables loaded successfully.');\r\n    return envConfig;\r\n\r\n  } catch (error) {\r\n    console.error(\\`[Next.js Config] Failed to fetch or parse configuration:\\`);\r\n    if (axios.isAxiosError(error)) {\r\n      console.error(\\`- URL: \\${error.config?.url}\\`);\r\n      console.error(\\`- Status: \\${error.response?.status}\\`);\r\n      console.error(\\`- Message: \\${error.message}\\`);\r\n    } else {\r\n      console.error(error);\r\n    }\r\n    // 설정 로드 실패 시 빌드/실행을 중단시켜 문제를 즉시 인지하게 합니다.\r\n    throw new Error('Halting build due to configuration load failure.');\r\n  }\r\n};\r\n\r\n/**\r\n * @type {import('next').NextConfig}\r\n */\r\nconst nextConfig: NextConfig = {\r\n  // 여기에 기존 Next.js 설정을 유지합니다.\r\n  reactStrictMode: true,\r\n  // 예시: basePath: '/data_platform', // 이 값도 설정 서버에서 받아와 동적으로 설정할 수 있습니다.\r\n};\r\n\r\n\r\n// module.exports 대신 async 함수를 export default 합니다.\r\nexport default async (): Promise<NextConfig> => {\r\n  // 설정 서버에서 환경 변수를 비동기적으로 가져옵니다.\r\n  const dynamicEnv = await getDynamicEnv();\r\n\r\n  return {\r\n    ...nextConfig,\r\n    // 가져온 환경 변수를 Next.js 설정의 env 속성에 주입합니다.\r\n    env: dynamicEnv,\r\n  };\r\n};`, `95556490329305330000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"typescript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">type</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">NextConfig</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;next&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">axios</span><span class=\"mtk1\"> </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;axios&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">load</span><span class=\"mtk1\"> </span><span class=\"mtk15\">as</span><span class=\"mtk1\"> </span><span class=\"mtk12\">loadYaml</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;js-yaml&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// 설정 서버의 기본 URL을 상수로 정의합니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">CONFIG_SERVER_URL</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&#39;http://192.168.50.248:8070&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">/**</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk3\"> * Next.js 애플리케이션에 주입할 환경 변수를 동적으로 가져옵니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk3\"> * </span><span class=\"mtk4\">@returns</span><span class=\"mtk3\"> </span><span class=\"mtk10\">{Promise&lt;Record&lt;string, string&gt;&gt;}</span><span class=\"mtk3\"> 환경 변수 객체</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk3\"> */</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getDynamicEnv</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> (): </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">Record</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">string</span><span class=\"mtk1\">, </span><span class=\"mtk10\">string</span><span class=\"mtk1\">&gt;&gt; </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// 현재 환경을 확인합니다. &#39;npm run dev&#39; -&gt; &#39;development&#39;, &#39;npm run build&#39; -&gt; &#39;production&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">nodeEnv</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">.</span><span class=\"mtk12\">NODE_ENV</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">configEnv</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">nodeEnv</span><span class=\"mtk1\"> === </span><span class=\"mtk8\">&#39;production&#39;</span><span class=\"mtk1\"> ? </span><span class=\"mtk8\">&#39;prod&#39;</span><span class=\"mtk1\"> : </span><span class=\"mtk8\">&#39;dev&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">configUrl</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">`</span><span class=\"mtk4\">${</span><span class=\"mtk12\">CONFIG_SERVER_URL</span><span class=\"mtk4\">}</span><span class=\"mtk8\">/next/</span><span class=\"mtk4\">${</span><span class=\"mtk12\">configEnv</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`[Next.js Config] Fetching environment variables for &#39;</span><span class=\"mtk4\">${</span><span class=\"mtk12\">configEnv</span><span class=\"mtk4\">}</span><span class=\"mtk8\">&#39; from </span><span class=\"mtk4\">${</span><span class=\"mtk12\">configUrl</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">try</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">response</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk12\">axios</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">string</span><span class=\"mtk1\">&gt;(</span><span class=\"mtk12\">configUrl</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\">// 서버 응답을 텍스트로 받기 위해 responseType 설정</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">responseType:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;text&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// YAML 형식의 응답을 JavaScript 객체로 파싱합니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">envConfig</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">loadYaml</span><span class=\"mtk1\">(</span><span class=\"mtk12\">response</span><span class=\"mtk1\">.</span><span class=\"mtk12\">data</span><span class=\"mtk1\">) </span><span class=\"mtk15\">as</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Record</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">string</span><span class=\"mtk1\">, </span><span class=\"mtk10\">string</span><span class=\"mtk1\">&gt;;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">envConfig</span><span class=\"mtk1\"> || </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">.</span><span class=\"mtk11\">keys</span><span class=\"mtk1\">(</span><span class=\"mtk12\">envConfig</span><span class=\"mtk1\">).</span><span class=\"mtk12\">length</span><span class=\"mtk1\"> === </span><span class=\"mtk7\">0</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"31\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;Parsed configuration is empty or invalid.&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"32\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"33\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"34\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;[Next.js Config] Environment variables loaded successfully.&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"35\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">envConfig</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"36\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"37\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  } </span><span class=\"mtk15\">catch</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">error</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"38\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`[Next.js Config] Failed to fetch or parse configuration:`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"39\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">axios</span><span class=\"mtk1\">.</span><span class=\"mtk11\">isAxiosError</span><span class=\"mtk1\">(</span><span class=\"mtk12\">error</span><span class=\"mtk1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"40\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`- URL: </span><span class=\"mtk4\">${</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">config</span><span class=\"mtk1\">?.</span><span class=\"mtk12\">url</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"41\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`- Status: </span><span class=\"mtk4\">${</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">response</span><span class=\"mtk1\">?.</span><span class=\"mtk12\">status</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"42\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`- Message: </span><span class=\"mtk4\">${</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">message</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"43\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    } </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"44\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk12\">error</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"45\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"46\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// 설정 로드 실패 시 빌드/실행을 중단시켜 문제를 즉시 인지하게 합니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"47\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;Halting build due to configuration load failure.&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"48\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"49\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"50\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"51\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">/**</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"52\"></span><span class=\"grvsc-source\"><span class=\"mtk3\"> * </span><span class=\"mtk4\">@type</span><span class=\"mtk3\"> </span><span class=\"mtk10\">{import(&#39;next&#39;).NextConfig}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"53\"></span><span class=\"grvsc-source\"><span class=\"mtk3\"> */</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"54\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">nextConfig</span><span class=\"mtk1\">: </span><span class=\"mtk10\">NextConfig</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"55\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// 여기에 기존 Next.js 설정을 유지합니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"56\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">reactStrictMode:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"57\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// 예시: basePath: &#39;/data_platform&#39;, // 이 값도 설정 서버에서 받아와 동적으로 설정할 수 있습니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"58\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"59\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"60\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"61\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// module.exports 대신 async 함수를 export default 합니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"62\"></span><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> (): </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">NextConfig</span><span class=\"mtk1\">&gt; </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"63\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// 설정 서버에서 환경 변수를 비동기적으로 가져옵니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"64\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">dynamicEnv</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getDynamicEnv</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"65\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"66\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"67\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span><span class=\"mtk12\">nextConfig</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"68\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// 가져온 환경 변수를 Next.js 설정의 env 속성에 주입합니다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"69\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">env:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">dynamicEnv</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"70\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"71\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span></code></pre>\n<h1 id=\"4-기대-효과\" style=\"position:relative;\"><a href=\"#4-%EA%B8%B0%EB%8C%80-%ED%9A%A8%EA%B3%BC\" aria-label=\"4 기대 효과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 기대 효과</h1>\n<ul>\n<li>DB접속 정보는 설정의 Git 저장소인 application.yml 단 한곳에만 존재</li>\n<li><strong>관리 포인트 감소</strong>: 수십 개의 application.yml 파일을 개별적으로 관리하던 복잡성이 사라지고, 중앙 Git 저장소 하나만 관리</li>\n<li>강력한 보안\n<ul>\n<li>민감한 정보는 더이상 서비스 코드와 함께 관리되지 않는다.</li>\n<li>Git 저장소는 접근 권한을 더 엄격하게 관리가 가능</li>\n<li>더 나아가 Config Server는 설정값을 암호화하는 기능 제공</li>\n<li>암호화된 텍스트만 저장, 서비스에게 값을 전달할 때만 복호화</li>\n</ul>\n</li>\n<li><strong>동적 리프레시</strong>\n<ul>\n<li>서버 재배포 없이 설정 변경이 가능\n<ul>\n<li>로그레벨 INFO, DEBUG로 바꾸기</li>\n</ul>\n</li>\n<li>간단한 API호출 (actuator/refresh)만 해주면 해당 서버가 재시작 없이 즉시 새로운 설정 반영</li>\n</ul>\n</li>\n<li>변경된 설정을 각 서버에 동적으로 반영 가능\n<ul>\n<li><strong>(Pull) 개별 적용</strong>: actuator/refresh API를 호출하여 특정 서비스 인스턴스만 설정을 갱신</li>\n<li><strong>(Push) 전체 전파</strong>: <strong>Spring Cloud Bus</strong>와 RabbitMQ/Kafka 같은 메시지 큐를 연동하여, Git 변경 사항을 Webhook으로 감지하고 연결된 모든 서비스에 <strong>이벤트를 보내 한 번에 설정을 갱신</strong>시킬 수 있다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"5-예상-질문\" style=\"position:relative;\"><a href=\"#5-%EC%98%88%EC%83%81-%EC%A7%88%EB%AC%B8\" aria-label=\"5 예상 질문 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 예상 질문</h1>\n<ul>\n<li><strong>Q: 관리 포인트가 늘어나는 것 아닌가?</strong>\n<ul>\n<li>서버 하나와 Git저장소 하나가 추가되지만, 최소 10개가 넘는 설정파일을 개별적으로 관리하며 발생하는 복잡도에 비하면 낮은 비용. <strong>중앙 관리를 통해 얻는 안정성과 효율성이 극대화</strong></li>\n</ul>\n</li>\n<li><strong>Q: Config Server가 죽으면 모든 서비스가 시작도 못하는거 아닌가?</strong>\n<ul>\n<li>맞다. Config Server는 <strong>이중화해 고가용성을 확보</strong>하는 것이 표준적인 구성</li>\n<li>각 서비스는 시작 시 Config Server가 응답이 없으면 시작에 실패하도록 설정하여, 잘못된 설정으로 서비스가 뜨는 것을 방지</li>\n</ul>\n</li>\n<li><strong>Q: 기존 애플리케이션에 적용하는 과정이 복잡하지 않은가요?</strong>\n<ul>\n<li>Spring Boot 기반 애플리케이션의 경우, 의존성 1개와 bootstrap.yml 파일에 몇 줄의 설정만 추가하면 되므로 <strong>매우 간단하게 적용</strong></li>\n<li>Non-Spring 애플리케이션(Next.js 등)도 표준 REST API를 통해 설정을 조회하므로 <strong>언어와 프레임워크에 제약 없이 유연하게 연동</strong></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"6-구현\" style=\"position:relative;\"><a href=\"#6-%EA%B5%AC%ED%98%84\" aria-label=\"6 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 구현</h1>\n<h2 id=\"61-설정파일을-저장할-git-생성\" style=\"position:relative;\"><a href=\"#61-%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC%EC%9D%84-%EC%A0%80%EC%9E%A5%ED%95%A0-git-%EC%83%9D%EC%84%B1\" aria-label=\"61 설정파일을 저장할 git 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6.1 설정파일을 저장할 Git 생성</h2>\n<ol>\n<li>\n<p>git-lab repository 생성</p>\n</li>\n<li>\n<p>설정 파일 추가</p>\n</li>\n</ol>\n<p>ex) mng.yml, mng-dev.yml, mng-prod.yml</p>\n<h2 id=\"62-config-서버-설정\" style=\"position:relative;\"><a href=\"#62-config-%EC%84%9C%EB%B2%84-%EC%84%A4%EC%A0%95\" aria-label=\"62 config 서버 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6.2 Config 서버 설정</h2>\n<ol>\n<li>\n<p>프로젝트 생성</p>\n</li>\n<li>\n<p>build.gradle</p>\n</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"79858607750311380000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`plugins {\r\n    id 'java'\r\n    id 'org.springframework.boot' version '3.4.4'\r\n    id 'io.spring.dependency-management' version '1.1.7'\r\n}\r\n\r\ngroup = 'com.egis'\r\nversion = '0.0.1-SNAPSHOT'\r\ndescription = 'dataplatform-config-server'\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    set('springCloudVersion', &quot;2024.0.2&quot;)\r\n}\r\n\r\ndependencies {\r\n    // Spring Cloud Config Server 기능을 활성화하는 핵심 의존성\r\n    implementation 'org.springframework.cloud:spring-cloud-config-server'\r\n\r\n    // Spring Boot 프로젝트의 기본 테스트 라이브러리\r\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\r\n}\r\n\r\n// Spring Cloud 버전을 BOM(Bill of Materials)으로 관리\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:\\${springCloudVersion}&quot;\r\n    }\r\n}\r\n\r\ntasks.named('test') {\r\n    useJUnitPlatform()\r\n}`, `79858607750311380000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"gradle\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">plugins {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    id </span><span class=\"mtk8\">&#39;java&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    id </span><span class=\"mtk8\">&#39;org.springframework.boot&#39;</span><span class=\"mtk1\"> version </span><span class=\"mtk8\">&#39;3.4.4&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    id </span><span class=\"mtk8\">&#39;io.spring.dependency-management&#39;</span><span class=\"mtk1\"> version </span><span class=\"mtk8\">&#39;1.1.7&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">group = </span><span class=\"mtk8\">&#39;com.egis&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">version = </span><span class=\"mtk8\">&#39;0.0.1-SNAPSHOT&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">description = </span><span class=\"mtk8\">&#39;dataplatform-config-server&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">java {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    toolchain {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        languageVersion = </span><span class=\"mtk10\">JavaLanguageVersion</span><span class=\"mtk1\">.of(</span><span class=\"mtk7\">17</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">repositories {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    mavenCentral()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">ext {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    set(</span><span class=\"mtk8\">&#39;springCloudVersion&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;2024.0.2&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">dependencies {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// Spring Cloud Config Server 기능을 활성화하는 핵심 의존성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    implementation </span><span class=\"mtk8\">&#39;org.springframework.cloud:spring-cloud-config-server&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// Spring Boot 프로젝트의 기본 테스트 라이브러리</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    testImplementation </span><span class=\"mtk8\">&#39;org.springframework.boot:spring-boot-starter-test&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"31\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"32\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"33\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Spring Cloud 버전을 BOM(Bill of Materials)으로 관리</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"34\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">dependencyManagement {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"35\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    imports {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"36\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        mavenBom </span><span class=\"mtk8\">&quot;org.springframework.cloud:spring-cloud-dependencies:</span><span class=\"mtk4\">${</span><span class=\"mtk1\">springCloudVersion</span><span class=\"mtk4\">}</span><span class=\"mtk8\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"37\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"38\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"39\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"40\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">tasks.named(</span><span class=\"mtk8\">&#39;test&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"41\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    useJUnitPlatform()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"42\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ol start=\"3\">\n<li>yml파일 작성</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"13156594022001134000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`server:\r\n  port: 8070\r\n\r\nspring:\r\n  application:\r\n    name: config-server\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          uri: http://192.168.50.253:8095/data_platform/dataplatform-config\r\n          search-paths: '{application}'\r\n\r\n          username: hshoon\r\n          password: ********\r\n          clone-on-start: true\r\n          default-label: deploy/prod`, `13156594022001134000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">server:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  port: 8070</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">spring:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  application:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    name: config-server</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  cloud:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    config:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">      server:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        git:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          uri: http://192.168.50.253:8095/data_platform/dataplatform-config</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          search-paths: &#39;{application}&#39;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          username: hshoon</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          password: ********</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          clone-on-start: true</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          default-label: deploy/prod</span></span></code></pre>\n<ol start=\"4\">\n<li>java code 작성</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"98469818466985200000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@EnableConfigServer\r\n@SpringBootApplication\r\npublic class DataplatformConfigServerApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DataplatformConfigServerApplication.class, args);\r\n    }\r\n\r\n}`, `98469818466985200000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">EnableConfigServer</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">SpringBootApplication</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">DataplatformConfigServerApplication</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\">[] </span><span class=\"mtk12\">args</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">SpringApplication</span><span class=\"mtk1\">.</span><span class=\"mtk11\">run</span><span class=\"mtk1\">(</span><span class=\"mtk12\">DataplatformConfigServerApplication</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">, args);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>spring security는 .authorizeHttpRequests 설정해서 ip 허용규칙 작성</p>\n<ol start=\"5\">\n<li>결과 확인</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c09833e4e6a8647d3e8ca1cad669a81a/86700/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 358.89570552147234%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAABICAYAAAD2xdWBAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAGqElEQVR42qXY2VdURxAG8PsSDxFcEAEVRBTcwAUF3BAXEI764L+T5SQCL8k5+ac7/Dr5xjszd4icPPTcvr1UfVVfVXfdaS5dulS0qamp2ka9f29rbt26Vc6fP99rEXbu3Ln6Pjk5eTqB09PTZWFhoTx69Kg8ffq0eDexsbFRHj58WK5cuXI6gRDcuXOnvHr1qrx586YsLi7Wtrm5WdbW1sr8/PypUFaBNgXhgwcPyrNnz8rly5crWghPJdDGixcvlrm5ubK+vl7btWvX6hhfntqHECwtLVUBFy5cqAII8p5+m/FRkZB+44fJz58/L2/fvq1IjSGFCyzGeBRifmJiotdPJHhaV31448aNSoJ27969cvfu3SKc7t+/X548eVJ2dnYqaVh//Phx2d7ergAotIabjFnbJxAZyCEMMu6gYGVlpdy+fbs2EUGofhTbTzCFjY0GSYfCwtnZ2bq4HTIzMzO1j8Tx8fGeuUzXmFtN5hsCwReHkAqd169fV8TGKbp+/XpVJEZDFuFt0ioptNNgYbSfPXu2xxyFScM2m11s29+0YwjD2OVg6WgBtMa4hFJ9JHHJ+/fvqz+3trZqVomSnkBI+Mxk0o6ZghwxCGKyZp095jXKgbl58+Y3gfzC8aurqz1UmLt69WpZXl6uQswTSBml3sVkCKqktE2GkpnIEFsvX76sYSLm9KGBAnkfPnyoilgAHYWefQKhTE7zEf8QmAPjxYsXNda4wNO4KLAuQT4kkEkQ2cBsLiCMbwW9RgnEhFCMDERROCSQz/hHdkBKMGEEhG0NOsI8kcKffHuiQAtsgJgwT+YZh5zp3vkS8prLgwKFR0xmqg2yRrZolJmnKAcFU/f29ur4kECsQRPtNjK3fXhQBqF5Sox7Z9V/kkKATVBoxpLvIcl6RHWy3EYY5yMFCie7Me9OJcKMI0cum+/0YUywGVLIoILCmHcCE39h2ZpOluP0+AwphDjmhJJMiUDjlDC3Mw6ZbAEzNAjjeP1ctyEl2RP3dJKShbRizrtM4NuQgXnjOTTEJt82g/eqSRucdbTqMy9p6Ey0GUprFQMU7+7ufrtT2g1bJpwmSTMCISIckzna+DOZY05/SCCNBO7v7/cE8iUGjSOGOyLIvNQzxtcjBb57965uyuliA//ZHFIIk3oQ56BouuoTE58/f64mWRyBFDA5hBBMceKVa4YEYhkqZ5xNFtKeYI8PjTOZUqiNUTSSlI8fP1YEOb35JwgFfoTlekiON21Bnu4UCPmGwMSed4IjUK5zhXHoKehD6LJPTYMYposzuU2JlEzc5anJrMzpN8kQBY+BvKelTsxzsBlvr2lyfWKIxvbGCG+PpThKvy3Qe8/k5CT4GpON67tamW6eJdLPu759qTD6KgdaTIg3eWyxTRjnbIymSpNFSJG/xoUY8qRrn0BIkhGeNCKEIqVGKrFUYylDUh+q3IbikBAoUjBRIowEda5OoZODIYGfemeotkFMMsGTmUzO+Zg6m1JnpTmpl7gceS8zm0abbXINQBaXQEiBXDbPbHtPvPVyTeYGxG7QWCOHUznINOMn3ssQtoslforfzOUegZoFFHYitDgncoomG1LCSQJK823DFUweOr7iwyBLUQQhwfq5W5BFqFMIQflQOpGUfCFRIDRynAlk/iJYElgjVgntNNmmVKk2JNaMM48/IU4lgTjEEDqSFIuSTkHIj9ItqQchQflg6svlQVJSzkHIVGiMEyr24jOKxGESoRMhEviQObmf238jQOid2UKFQHOs6iyWTCZoExrQeCIgH0LtSkzOD32atQVaBCU/pRzRZ76jzdmIIGuhNcb8TpOxCGEqg5Qj3vkvBSblEPMz87mjkxQ+CSIoCfKeT13jFENFSLKms2i3EJNthBhkFmSppyGMH5EIObRD56E7wgLZ4IlFPrQhRWdqxlRc0LGg9wHedXwRkHsEq1DnsPAe9lODp6Qb6UMZYSEmmc+coMlxn7SjCPrOol085esJCYTl9Ga+McGe/3k01nz69Kn7cOBoThc6NqWYxKwbjkLjULHCJxn0iit1eCdCAvMR7gThcNplgoyResnrL1++VKHGCO2rvrAsWPkFQubke0TIECgKmJgDI5+/+Zhs2sJysaf8sFlc5v+w1DuI09oVGFf1bj3CfF6l+koBNFh5tV0zWFClX//ug2Th2Fcz/2rM83ubgyI1YzOpaj0254czZ8qPx/8ojY2N/a/W/PXnH+Xg99/K4a+/lIOffypHhwfl6ODr8fPrP8/0j9vhQX876mh/A7TH/6FuUwP1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c09833e4e6a8647d3e8ca1cad669a81a/a81b5/1.webp 163w,\n/static/c09833e4e6a8647d3e8ca1cad669a81a/23cfa/1.webp 250w\"\n              sizes=\"(max-width: 250px) 100vw, 250px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c09833e4e6a8647d3e8ca1cad669a81a/5e043/1.png 163w,\n/static/c09833e4e6a8647d3e8ca1cad669a81a/86700/1.png 250w\"\n            sizes=\"(max-width: 250px) 100vw, 250px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c09833e4e6a8647d3e8ca1cad669a81a/86700/1.png\"\n            alt=\"1\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"63-micro-service-server-config-설정\" style=\"position:relative;\"><a href=\"#63-micro-service-server-config-%EC%84%A4%EC%A0%95\" aria-label=\"63 micro service server config 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6.3 Micro service server config 설정</h2>\n<p>build.gradle에</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">implementation &#39;org.springframework.cloud:spring-cloud-starter-config&#39;</span></span></code></pre>\n<p>설정 추가</p>\n<p>application.yml</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"6561217337908976000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`spring:\r\n  config:\r\n    import: &quot;configserver:http://localhost:8070&quot;\r\n\r\n  application:\r\n    name: mng\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: refresh, health, info`, `6561217337908976000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"yml\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">spring</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">config</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">import</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;configserver:http://localhost:8070&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">application</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">name</span><span class=\"mtk1\">: </span><span class=\"mtk8\">mng</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">management</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">endpoints</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">web</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">exposure</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">include</span><span class=\"mtk1\">: </span><span class=\"mtk8\">refresh, health, info</span></span></span></code></pre>\n<p>local환경에선 intellij에 환경 설정 값을 준다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/606002cdea76d19ea73cc90aa789d8d1/476b8/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.88957055214723%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACUElEQVR42n1U2ZLUMAzM5zA5bMeOkzjn5NjZAYpXiqp94WU/ke9rJGUzDKnAQ5dz2K2WWnKUmBJ106MKLZRxiFONJDOICbwm9B4/Idm/857Dv0xbRNoU8HWHvKg3EpXL6nwNYz2KMqAOvQRlaAqa0R4mNG4X06EkCGFuLW73V/iywqc4RpwkuMQpfNUImm5CPy4StCRY30C5hgJbIU1pTYlIEVhllJU3dPc3LN9+op6/Iyw/YNuvtDGXiJWoG0hxEFjKxDhWX8LkHjp3UipNz3wmSkwNFyaE4Y4izPDNSun3QpZTShltTpT5qJ/+q3abwoL2lLJfFKZKofCeUq6RZopSznAhsKr55TPVsNnU0crqclc90i/rHqFfSQSVpOpEacRRLsR8SdTDPX52ZEZoR0HTXREI3TihHSYKdMdCGK6LGGJsIUHZxOi5DZ7bYXO4EWJLjjO4BMb5DUSyp7mlvjn/T0KOWNatOM2p8GEGH+T/u2nPkBr+T6EtKjnIPemrVgJwX/L3TOfyb4fON8XnhNy0QlhKPdkMrhWTeUbdyH9WvhMqGpCtbU4VKnGzG2Yq/EqOj9RSC2GStippZcLjKHLwU0JxmWp4XV4xEcbpBeP8Kq2SaSfYTTiWKjoOePzRQuzwvN4FTLjevuA636RVQjcSaYEzMREPeM5jJPCCR130NlbbaBUyZrwqY2UIkpPbJzJFS6O3whSN3CLs1PFqulBN/7zTc0bXnAk0ku4xjnKGayizeiA4S4Xn2ZPTSqXQ8zu691/QwxusNVJTVs7kvwHa4Bw8g650OQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/606002cdea76d19ea73cc90aa789d8d1/a81b5/2.webp 163w,\n/static/606002cdea76d19ea73cc90aa789d8d1/da3ef/2.webp 325w,\n/static/606002cdea76d19ea73cc90aa789d8d1/309d5/2.webp 650w,\n/static/606002cdea76d19ea73cc90aa789d8d1/8d53d/2.webp 803w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/606002cdea76d19ea73cc90aa789d8d1/5e043/2.png 163w,\n/static/606002cdea76d19ea73cc90aa789d8d1/e5cc6/2.png 325w,\n/static/606002cdea76d19ea73cc90aa789d8d1/663f3/2.png 650w,\n/static/606002cdea76d19ea73cc90aa789d8d1/476b8/2.png 803w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/606002cdea76d19ea73cc90aa789d8d1/663f3/2.png\"\n            alt=\"2\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"64-spring-cloud-config-설정-파일-내용-갱신하는-방법\" style=\"position:relative;\"><a href=\"#64-spring-cloud-config-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC-%EB%82%B4%EC%9A%A9-%EA%B0%B1%EC%8B%A0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"64 spring cloud config 설정 파일 내용 갱신하는 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6.4 Spring Cloud Config 설정 파일 내용 갱신하는 방법</h2>\n<p>별다른 설정 없이는 설정 파일이 변경되어도 설정 클라이언트에 반영 X<br>\n-> 설정 서버에 부하를 줄이도록 <strong>어플리케이션 실행 시점에 1번 설정 정보를 읽고 로컬에 캐싱</strong></p>\n<p>3가지 방법으로 갱신 가능</p>\n<ol>\n<li>spring cloud client서버들에 actuator API 호출</li>\n</ol>\n<ul>\n<li>POST로 /actuator/refresh 요청</li>\n<li>서버가 여러대라면 번거롭다.</li>\n</ul>\n<ol start=\"2\">\n<li>spring-cloud-bus사용해 이벤트 전파</li>\n</ol>\n<ul>\n<li>설정 정보등의 변경을 전파하기 위한 경량화된 메세지 브로커</li>\n<li>Config Server에 /bus/refresh 요청 한 번만 보내면 연결된 모든 클라이언트가 자동으로 갱신. 이벤트 기반 아키텍처에 잘 맞는다.</li>\n<li>RabbitMQ나 Kafka 같은 메시지 브로커를 추가로 설치하고 운영해야 한다.</li>\n</ul>\n<ol start=\"3\">\n<li>Watcher를 통해 spring cloud server에 변경 여부 확인</li>\n</ol>\n<ul>\n<li>설정 서버에게 변경 여부를 지속적으로 물어보고 확인하는 컴포넌트</li>\n<li>메시지 브로커 같은 추가적인 인프라가 필요 없다.</li>\n<li>주기적인 Polling이 서버에 거의 부하를 주지 않는다.</li>\n<li>중소규모의 MSA환경이기 때문에 해당 방식이 제일 적합하다고 생각해 채택</li>\n</ul>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<p><a href=\"https://mangkyu.tistory.com/253\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[Spring] Spring Cloud Config 도입하기 및 private 레포지토리 SSL로 연결 설정 및 privateKey 암호화</a><br>\n<a href=\"https://mangkyu.tistory.com/254\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[Spring] Spring Cloud Config 설정 파일 내용을 갱신하는 방법, Spring Cloud Bus 없이 자동 갱신하기(AutoRefresh)</a><br>\n<a href=\"https://withhamit.tistory.com/718\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[Spring] Spring Cloud Config 정리</a><br>\n<a href=\"https://minnseong.tistory.com/21\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[Spring Cloud] Config Server 구축하기 (busrefresh 하기)</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\">1. 문제 상황</a></p>\n</li>\n<li>\n<p><a href=\"#2-spring-cloud-config%EB%9E%80\">2. Spring Cloud Config란?</a></p>\n</li>\n<li>\n<p><a href=\"#3-%ED%95%B4%EA%B2%B0%EC%B1%85--spring-cloud-config-server%EC%82%AC%EC%9A%A9\">3. 해결책 → Spring Cloud Config Server사용</a></p>\n</li>\n<li>\n<p><a href=\"#4-%EA%B8%B0%EB%8C%80-%ED%9A%A8%EA%B3%BC\">4. 기대 효과</a></p>\n</li>\n<li>\n<p><a href=\"#5-%EC%98%88%EC%83%81-%EC%A7%88%EB%AC%B8\">5. 예상 질문</a></p>\n</li>\n<li>\n<p><a href=\"#6-%EA%B5%AC%ED%98%84\">6. 구현</a></p>\n<ul>\n<li><a href=\"#61-%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC%EC%9D%84-%EC%A0%80%EC%9E%A5%ED%95%A0-git-%EC%83%9D%EC%84%B1\">6.1 설정파일을 저장할 Git 생성</a></li>\n<li><a href=\"#62-config-%EC%84%9C%EB%B2%84-%EC%84%A4%EC%A0%95\">6.2 Config 서버 설정</a></li>\n<li><a href=\"#63-micro-service-server-config-%EC%84%A4%EC%A0%95\">6.3 Micro service server config 설정</a></li>\n<li><a href=\"#64-spring-cloud-config-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC-%EB%82%B4%EC%9A%A9-%EA%B0%B1%EC%8B%A0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\">6.4 Spring Cloud Config 설정 파일 내용 갱신하는 방법</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#reference\">Reference</a></p>\n</li>\n</ul>","frontmatter":{"title":"Spring Cloud Config server 도입기","summary":["MSA의 구성요소인 Config 관리를 위한 서버를 도입한 경험을 정리한다."],"date":"2025.09.18.","update":"2025.09.18.","category":["Spring"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADbklEQVR42nVUSWgUQRTtROOGoiJxS6aqe2ZU0INKRFBQRLx4VYSIuB4iioqamV5mknTE5SYeBDF4EATB5GTArN09PZmMUckkKlFEL3pyP3hRQZMp3+9Jtz0hafjU76r/339/qZKkKZ8QUgVJ8C9JFeZdPs90+byy/bBdaH9GMM2RN6oWu5q0eL9q8deqzd5AXM1iN3C20zSlSrIzBdZJvezzDYzueDUA7mgO+2M+VUTzY1mkBkrSlJdFC/b0DC8iWJc2GGUpu7YmabFDYYxA0Xtr45rDx8xnisA6odl8XLWxWrxIQjqCjdNZyxPP5iPAroB1UzK/bpEUzl+3Vi8zXP6CDOH0F2BiOsHZBIDHmwZlYWTl341WzS6tj+1OuHxTObsMu9UKZmp/CcxjZntshE6S4QIBUQKl2Dwkw46NptzIFvJNZmvWJDJsf1A/I8fWw/gnOXqpQZryimgZQr08cPYH4L9Qt29Irx82JxoKqxb4/vogW2rkeH0AmM7ylOmxY38BWkwjHTgPAOiMbrE9el+sTreUtebzjUvM/x2taCtIVear9XM8UJcf1Kzo4hJDlz9sBhtK0chSmvJZaYaPxqpDSLP8iaBAHqDDDifzkdXeHIHVcGksFKrXJTLo6JBmma40mxh5szllqGlFnevRjJWlHshHVTdeKx2AI+pU8Bg67LNhKyvCTjOxQ/OOa07kiH+mufwYzWQp5QzvvDwapc5a06VJLImxz1LNsHM0/HQt6Z9IpQfkk0EN01m55crLKM2Y7QN46YrJBkwCmX3R5WjUA1zHR6fd6oVBl3tjcTQ0ETDADNahSxNI+Qeoy+H5bCvUVam2shUgN1WUBDW+fbY7PpeCNbRJVZ6/zdNqH99bVmCkfe/aWEykstxqtPguBGnQbHYfnX8H5t+g9yZtZYfv4wfETJ6CTbs0tWOYt6juyKM4bMTtGMGNoCEfgd6qZfnmBjClMhi5ldVqT2QDmrIPGfUg0KeEE4mVPQ5BsdH2i72xSDonj9BVw3B/QM3eI8gXNOw79K/earHf1MR0Xv50vqt0/YJ6T32+Et2RGFLspJpeKkQFPWH0bHlPFx6O1mFFGBm5iFemXe3G3JUxm2bOfB0N2I50rkOyqsPfgtlb0mlPt/g2//rNCBYGDRuZwqy8MFQ7n4T0cEbTDf8/bs8FuH++Hz4AAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/daf23c051d1970bd74a5bdb9fe7de872/5f2c3/thumbnail.png","srcSet":"/static/daf23c051d1970bd74a5bdb9fe7de872/90cd3/thumbnail.png 100w,\n/static/daf23c051d1970bd74a5bdb9fe7de872/614dc/thumbnail.png 200w,\n/static/daf23c051d1970bd74a5bdb9fe7de872/5f2c3/thumbnail.png 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[{"srcSet":"/static/daf23c051d1970bd74a5bdb9fe7de872/e64f1/thumbnail.webp 100w,\n/static/daf23c051d1970bd74a5bdb9fe7de872/8b00d/thumbnail.webp 200w,\n/static/daf23c051d1970bd74a5bdb9fe7de872/9c0a1/thumbnail.webp 400w","type":"image/webp","sizes":"(min-width: 400px) 400px, 100vw"}]},"width":400,"height":400}},"publicURL":"/static/daf23c051d1970bd74a5bdb9fe7de872/thumbnail.png"}}}}]}},"pageContext":{"slug":"/SpringCloudConfig/","series":[],"lastmod":"2025.09.18.","prev":{"fields":{"slug":"/logstashAndQuery/"},"frontmatter":{"title":"Logstash를 활용하며 생긴 문제 해결과정","date":"2025.09.16.","update":"2025.09.16.","category":["ELK"],"tags":["ELK"],"summary":["Logstash를 활용하며 생긴 문제 해결 과정과 Query 튜닝과정을 정리한다."]}},"next":{"fields":{"slug":"/elkscore/"},"frontmatter":{"title":"Elasticsearch 검색 품질 올리기","date":"2025.09.22.","update":"2025.09.22.","category":["ELK"],"tags":["ELK"],"summary":["Elasticsearch의 기본 스코어링 알고리즘을 이해하고 function_score를 활용"]}}}},"staticQueryHashes":["427104293"],"slicesMap":{}}