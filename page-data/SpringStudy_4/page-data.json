{"componentChunkName":"component---src-templates-post-tsx","path":"/SpringStudy_4/","result":{"data":{"site":{"siteMetadata":{"title":"Just Keep Going","description":"Ian's Archive","siteUrl":"https://hohshho.github.io"}},"allMarkdownRemark":{"edges":[{"node":{"id":"bf6f548e-9fa6-5c96-a41d-6fbcec998a37","html":"<h1 id=\"1-thymeleaf\" style=\"position:relative;\"><a href=\"#1-thymeleaf\" aria-label=\"1 thymeleaf permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Thymeleaf</h1>\n<p><a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Thymeleaf Document</a></p>\n<ul>\n<li>서버 사이드 HTML 렌더링</li>\n<li>네츄럴 템플릿 : 순수 HTML을 유지하며 뷰 템플릿 사용할 수 있는 타임리프의 특징</li>\n<li>스프링 통합 지원</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"32160248085137710000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`Simple expressions\r\n- Variable Expressions: \\${...}\r\n- Selection Variable Expressions: *{...}\r\n- Message Expressions: #{...}\r\n- Link URL Expressions: @{...}\r\n- Fragment Expressions: ~{...}\r\n\r\nLiterals\r\n- Text literals: 'one text', 'Another one!',…\r\n- Number literals: 0, 34, 3.0, 12.3,…\r\n- Boolean literals: true, false\r\n- Null literal: null\r\n- Literal tokens: one, sometext, main,…\r\n\r\nText operations:\r\n- String concatenation: +\r\n- Literal substitutions: |The name is \\${name}|\r\n\r\nArithmetic operations\r\n- Binary operators: +, -, *, /, %\r\n- Minus sign (unary operator): -\r\n\r\nBoolean operations:\r\n- Binary operators: and, or\r\n- Boolean negation (unary operator): !, not\r\n\r\nComparisons and equality:\r\n- Comparators: >, <, >=, <= (gt, lt, ge, le)\r\n- Equality operators: ==, != (eq, ne)\r\n\r\nConditional operators:\r\n- If-then: (if) ? (then)\r\n- If-then-else: (if) ? (then) : (else)\r\n- Default: (value) ?: (defaultvalue)\r\n\r\nSpecial tokens:\r\n- No-Operation: _`, `32160248085137710000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"text\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">Simple expressions</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Variable Expressions: ${...}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Selection Variable Expressions: *{...}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Message Expressions: #{...}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Link URL Expressions: @{...}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Fragment Expressions: ~{...}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Literals</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Text literals: &#39;one text&#39;, &#39;Another one!&#39;,…</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Number literals: 0, 34, 3.0, 12.3,…</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Boolean literals: true, false</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Null literal: null</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Literal tokens: one, sometext, main,…</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Text operations:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- String concatenation: +</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Literal substitutions: |The name is ${name}|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Arithmetic operations</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Binary operators: +, -, *, /, %</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Minus sign (unary operator): -</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Boolean operations:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Binary operators: and, or</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Boolean negation (unary operator): !, not</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Comparisons and equality:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Comparators: &gt;, &lt;, &gt;=, &lt;= (gt, lt, ge, le)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Equality operators: ==, != (eq, ne)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Conditional operators:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- If-then: (if) ? (then)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- If-then-else: (if) ? (then) : (else)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- Default: (value) ?: (defaultvalue)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Special tokens:</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- No-Operation: _</span></span></code></pre>\n<h2 id=\"11-기본-기능\" style=\"position:relative;\"><a href=\"#11-%EA%B8%B0%EB%B3%B8-%EA%B8%B0%EB%8A%A5\" aria-label=\"11 기본 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.1 기본 기능</h2>\n<ol>\n<li>text, utext</li>\n</ol>\n<p>HTML의 콘텐츠에 데이터 출력 시 <code>th:text</code> 사용</p>\n<p>컨텐츠 안에 직접 출력 시 <code>[[${data}]]</code></p>\n<p><code>th:text</code>, <code>[[${data}]]</code>은 기본적으로 이스케이프 제공 (HTML 사용하는 특수 문자 HTML 엔티티로 변경)\r\n<code>th:utext</code>, <code>[(${data})]</code> 이스케이프 사용 안할 떄</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"54196924140035540000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`<ul>\r\n  <li>th:text = <span th:text=&quot;\\${data}&quot;></span></li>\r\n  <li>th:utext = <span th:utext=&quot;\\${data}&quot;></span></li>\r\n</ul>\r\n\r\n<h1><span th:inline=&quot;none&quot;>[[...]] vs [(...)]</span></h1>\r\n<ul>\r\n  <li><span th:inline=&quot;none&quot;>[[...]] = </span>[[\\${data}]]</li>\r\n  <li><span th:inline=&quot;none&quot;>[(...)] = </span>[(\\${data})]</li>\r\n</ul>`, `54196924140035540000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"html\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">ul</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">th:text = </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk12\">th:text</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;${data}&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">th:utext = </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk12\">th:utext</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;${data}&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">ul</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">h1</span><span class=\"mtk17\">&gt;&lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk12\">th:inline</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;none&quot;</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">[[...]] vs [(...)]</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">h1</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">ul</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;&lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk12\">th:inline</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;none&quot;</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">[[...]] = </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">[[${data}]]</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;&lt;</span><span class=\"mtk4\">span</span><span class=\"mtk1\"> </span><span class=\"mtk12\">th:inline</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;none&quot;</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">[(...)] = </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">span</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">[(${data})]</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">ul</span><span class=\"mtk17\">&gt;</span></span></span></code></pre>\n<ol start=\"2\">\n<li>SpringEL &#x26; Utility Objects</li>\n</ol>\n<p>변수 표현 : <code>${...}</code></p>\n<p>Object, List, Map 등 접근 가능하고 문자, 숫자, 날짜, URL을 편리하게 다루는 다양한 유틸리티 객체들 제공</p>\n<p><a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#variables\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">variables - thymeleaf doc</a></p>\n<ol start=\"3\">\n<li>URL</li>\n</ol>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;li&gt;&lt;a th:href=&quot;@{/hello}&quot;&gt;basic url&lt;/a&gt;&lt;/li&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;li&gt;&lt;a th:href=&quot;@{/hello(param1=${param1}, param2=${param2})}&quot;&gt;hello query param&lt;/a&gt;&lt;/li&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;li&gt;&lt;a th:href=&quot;@{/hello/{param1}/{param2}(param1=${param1}, param2=${param2})}&quot;&gt;path variable&lt;/a&gt;&lt;/li&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;li&gt;&lt;a th:href=&quot;@{/hello/{param1}(param1=${param1}, param2=${param2})}&quot;&gt;path variable + query parameter&lt;/a&gt;&lt;/li&gt;</span></span></code></pre>\n<ol start=\"4\">\n<li>Attribute Value</li>\n</ol>\n<ul>\n<li>HTML 태그에 <code>th:*</code> 속성을 지정하는 방식으로 동작</li>\n<li><code>th:*</code>로 속성을 적용하면 기존 속성을 대체 / 없으면 새로 생성</li>\n</ul>\n<p><a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#setting-attribute-values\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">setting-attribute-values - thymeleaf doc</a></p>\n<ol start=\"5\">\n<li>반복문</li>\n</ol>\n<p>반복문은 <code>th:each</code>사용, 추가로 여러 상태 값을 지원</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">  &lt;tr th:each=&quot;user : ${users}&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;td th:text=&quot;${user.username}&quot;&gt;username&lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;td th:text=&quot;${user.age}&quot;&gt;0&lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &lt;/tr&gt;</span></span></code></pre>\n<p><code>th:each</code>는 List뿐만 아니라 배열, iterable, Enumeration 모두 사용 가능</p>\n<ol start=\"6\">\n<li>조건문</li>\n</ol>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;tr th:each=&quot;user, userStat : ${users}&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;td th:text=&quot;${userStat.count}&quot;&gt;1&lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;td th:text=&quot;${user.username}&quot;&gt;username&lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">            &lt;span th:text=&quot;${user.age}&quot;&gt;0&lt;/span&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">            &lt;span th:text=&quot;&#39;미성년자&#39;&quot; th:if=&quot;${user.age lt 20}&quot;&gt;&lt;/span&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">            &lt;span th:text=&quot;&#39;미성년자&#39;&quot; th:unless=&quot;${user.age ge 20}&quot;&gt;&lt;/span&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;td th:switch=&quot;${user.age}&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">            &lt;span th:case=&quot;10&quot;&gt;10살&lt;/span&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">            &lt;span th:case=&quot;20&quot;&gt;20살&lt;/span&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">            &lt;span th:case=&quot;*&quot;&gt;기타&lt;/span&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;/tr&gt;</span></span></code></pre>\n<ol start=\"7\">\n<li>주석</li>\n</ol>\n<p>주석은 3가지 존재</p>\n<ol>\n<li>\n<p>표준 HTML 주석 -> html에 그대로 남겨둔다.</p>\n</li>\n<li>\n<p>thymeleaf parser -> 렌더링에서 주석 제거</p>\n</li>\n<li>\n<p>thymeleaf prototype -> html파일을 그대로 열면 주석처리 되지만, 타임리프 렌더링 하는 경우 정상 렌더링</p>\n</li>\n<li>\n<p>block 태그</p>\n</li>\n</ol>\n<ul>\n<li>th:block템플릿 개발자가 원하는 속성을 지정할 수 있는 단순한 속성 컨테이너</li>\n<li>Thymeleaf는 이러한 속성을 실행한 다음 블록을 사라지게 만들지만 그 내용은 유지</li>\n<li>아래 table 같은 경우 유용</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;table&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &lt;th:block th:each=&quot;user : ${users}&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;tr&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;td th:text=&quot;${user.login}&quot;&gt;...&lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;td th:text=&quot;${user.name}&quot;&gt;...&lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;/tr&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;tr&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">        &lt;td colspan=&quot;2&quot; th:text=&quot;${user.address}&quot;&gt;...&lt;/td&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    &lt;/tr&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  &lt;/th:block&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;/table&gt;</span></span></code></pre>\n<ol start=\"8\">\n<li>Javascript</li>\n</ol>\n<p><code>&#x3C;script th:inline=\"javascript\"></code> 와 같이 적용</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!-- 자바스크립트 인라인 사용 후 --&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;script th:inline=&quot;javascript&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    var username = [[${user.username}]];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    var age = [[${user.age}]];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    //자바스크립트 내추럴 템플릿</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    var username2 = /*[[${user.username}]]*/ &quot;test username&quot;;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    //객체</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    var user = [[${user}]];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;/script&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!-- 자바스크립트 인라인 each --&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;script th:inline=&quot;javascript&quot;&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    [# th:each=&quot;user, stat : ${users}&quot;]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    var user[[${stat.count}]] = [[${user}]];</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    [/]</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;/script&gt;</span></span></code></pre>\n<ul>\n<li>인라인 사용 후 랜더링 결과를 보면 문자 타입인 경우 ” 포함</li>\n<li>자바스크립트에서 문제가 될 수 있는 문자가 있으면 이스케이프 처리</li>\n<li><code>var user = [[${user}]];</code>와 같이 객체를 인라인 기능으로 사용하면 자동으로 <strong>JSON</strong>으로 변환</li>\n</ul>\n<ol start=\"9\">\n<li>fragment</li>\n</ol>\n<!-- TODO: 소스 보고 다시  -->\n<p>3가지 방법으로 사용 가능하다.</p>\n<ul>\n<li>insert : 삽입</li>\n<li>replace : 대체</li>\n</ul>\n<p><a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#template-layout\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">template-layout - thymeleaf doc</a></p>\n<h1 id=\"2-thymeleaf--spring\" style=\"position:relative;\"><a href=\"#2-thymeleaf--spring\" aria-label=\"2 thymeleaf  spring permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Thymeleaf + Spring</h1>\n<p><a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/thymeleafspring.html#validation-and-error-messages\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Thymeleaf + Spring Document</a></p>\n<p>스프링 + thymeleaf 같이 사용</p>\n<ul>\n<li>SpringEL 문법 통합</li>\n<li>Spring Bean 호출</li>\n<li>편리한 폼 관리를 위한 추가 속성\n<ul>\n<li>th:object (기능 강화, 폼 커맨드 객체 선택)</li>\n<li>th:field, th:erros, th:errorclass</li>\n</ul>\n</li>\n<li>폼 컴포넌트 기능\n<ul>\n<li>checkbox, radio button, List 등 편리하게 사용 가능</li>\n</ul>\n</li>\n<li>스프링 메세지, 국제화 기능의 편리한 통합</li>\n<li>스프링의 검증, 오류 처리 통합</li>\n<li>스프링 변환 서비스 통합 (ConversionService)</li>\n</ul>\n<ol>\n<li>\n<p>form 처리</p>\n</li>\n<li>\n<p>check box</p>\n</li>\n</ol>\n<p>check box는 선택되지 않으면 서버로 값 자체를 보내지 않는다. -> null</p>\n<p>체크 해제를 인식하기 위한 히든 필드 추가</p>\n<p>-> 체크 해제 한 경우 open 전송되지 않고 _open만 전송되는데 이 경우 MVC는 체크 해제\r\n-> 체크한 경우는 _open 사용 시</p>\n<p>th:field=”*{open}” 사용 시<br>\n-> hidden 필드 자동 생성</p>\n<p>for문 사용해서 동적으로 id값 넣어줄 때 해당 값 활용 x -> prev(…), next(…) 사용</p>\n<hr>\n<p>컨트롤러에 @ModelAttribute 사용 시 설정한 컬럼 값이 request 요청에 있을 경우 반환 값이 모델에 담긴다.</p>\n<hr>\n<hr>\n<ol start=\"3\">\n<li>\n<p>radio</p>\n</li>\n<li>\n<p>select</p>\n</li>\n</ol>\n<h1 id=\"3-메세지-국제화\" style=\"position:relative;\"><a href=\"#3-%EB%A9%94%EC%84%B8%EC%A7%80-%EA%B5%AD%EC%A0%9C%ED%99%94\" aria-label=\"3 메세지 국제화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 메세지 국제화</h1>\n<p>DB에 저장해 직접 구현할 수 있지만, 스프링은 기본적인 메시지와 국제화 기능 모두 제공</p>\n<p>메시지 관리 기능을 사용하려면 스프링이 제공하는 <strong>MessageSource</strong>를 스프링 빈으로 등록하면 되는데</p>\n<p>MessageSource는 인터페이스이다. 따라서 구현체인 <strong>ResourceBundleMessageSource</strong>를 스프링 빈으로 등록</p>\n<p>직접 등록</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"10127028870602283000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@Bean\r\n public MessageSource messageSource() {\r\n\r\n     ResourceBundleMessageSource messageSource = new\r\nResourceBundleMessageSource();\r\n    // 읽어들일 파일 지정\r\n    // -> messages.properties 파일 읽는다.\r\n    messageSource.setBasenames(&quot;messages&quot;, &quot;errors&quot;);\r\n    // 인코딩 정보 지정\r\n    messageSource.setDefaultEncoding(&quot;utf-8&quot;);\r\n    return messageSource;\r\n}`, `10127028870602283000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Bean</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">MessageSource</span><span class=\"mtk1\"> </span><span class=\"mtk11\">messageSource</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">     </span><span class=\"mtk10\">ResourceBundleMessageSource</span><span class=\"mtk1\"> </span><span class=\"mtk12\">messageSource</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">ResourceBundleMessageSource</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// 읽어들일 파일 지정</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// -&gt; messages.properties 파일 읽는다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">messageSource</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setBasenames</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;messages&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;errors&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// 인코딩 정보 지정</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">messageSource</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setDefaultEncoding</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;utf-8&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> messageSource;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Spring boot 사용 시 자동으로 빈 설정(MessageSource) 되어있으므로 설정 값만 변경</p>\n<div class=\"code-highlight-header\"><h5>application.properties\r</h5></div>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"64258470750520220000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// 기본 값은 spring.messages.basename=messages\r\n// 추가로 resources/config/i18n/messages 읽어들인다.\r\nspring.messages.basename=messages,config.i18n.messages`, `64258470750520220000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// 기본 값은 spring.messages.basename=messages</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// 추가로 resources/config/i18n/messages 읽어들인다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk12\">spring</span><span class=\"mtk1\">.</span><span class=\"mtk12\">messages</span><span class=\"mtk1\">.</span><span class=\"mtk12\">basename</span><span class=\"mtk1\">=messages,</span><span class=\"mtk12\">config</span><span class=\"mtk1\">.</span><span class=\"mtk12\">i18n</span><span class=\"mtk1\">.</span><span class=\"mtk12\">messages</span></span></span></code></pre>\n<p>설정 후엔 application.properties에 설정한 이름으로 properties파일을 생성한다<br>\n(파일 위치 : /resources)</p>\n<p>ex) messages_ko.properties, messages_en.properties</p>\n<p>html파일엔 다음과 같이 적용한다</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"32082711872738410000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`<th th:text=&quot;#{label.item.id}&quot;>ID</th>\r\n\r\n// 파라미터 적용 시\r\n<p th:text=&quot;#{hello.name(\\${item.itemName})}&quot;></p>\\``, `32082711872738410000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;th th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">text=</span><span class=\"mtk8\">&quot;#{label.item.id}&quot;</span><span class=\"mtk1\">&gt;</span><span class=\"mtk10\">ID</span><span class=\"mtk1\">&lt;/th&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// 파라미터 적용 시</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;p th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">text=</span><span class=\"mtk8\">&quot;#{hello.name(${item.itemName})}&quot;</span><span class=\"mtk1\">&gt;&lt;/p&gt;`</span></span></span></code></pre>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.messages.always-use-message-format\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">spring boot docs message properties</a></p>\n<p>추후 사용자가 선택해서 구현할 땐 <strong>LocaleResolver</strong>의 구현체를 변경해서 쿠키나 세션 기반의 Locale 선택 기능 구현</p>\n<h1 id=\"4-validation\" style=\"position:relative;\"><a href=\"#4-validation\" aria-label=\"4 validation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Validation</h1>\n<p>검증 종류<br>\n-> 타입 검증, 필드 검증, 특정 필드의 범위를 넘어서는 검증</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"28538843974567050000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// Back\r\n@PostMapping(&quot;/add&quot;)\r\npublic String addItem(@ModelAttribute Item item, RedirectAttributes\r\nredirectAttributes, Model model) {\r\n    //검증 오류 결과를 보관\r\n    Map<String, String> errors = new HashMap<>();\r\n\r\n    //검증 로직\r\n    if (!StringUtils.hasText(item.getItemName())) {\r\n        errors.put(&quot;itemName&quot;, &quot;상품 이름은 필수입니다.&quot;);\r\n    }\r\n\r\n    ...\r\n\r\n    //특정 필드가 아닌 복합 룰 검증\r\n    if (item.getPrice() != null && item.getQuantity() != null) {\r\n    int resultPrice = item.getPrice() * item.getQuantity();\r\n\r\n        if (resultPrice < 10000) {\r\n            errors.put(&quot;globalError&quot;, &quot;가격 * 수량의 합은 10,000원 이상이어야 합니다. 현재 값 = &quot; + resultPrice);\r\n        }\r\n    }\r\n\r\n    //검증에 실패하면 다시 입력 폼으로\r\n    if (!errors.isEmpty()) {\r\n        model.addAttribute(&quot;errors&quot;, errors);\r\n        return &quot;validation/v1/addForm&quot;;\r\n    }\r\n}\r\n\r\n\r\n// Front\r\n// Global\r\n<div th:if=&quot;\\${errors?.containsKey('globalError')}&quot;>\r\n  <p class=&quot;field-error&quot; th:text=&quot;\\${errors['globalError']}&quot;>전체 오류 메시</div>\r\n<div>\r\n\r\n// Field\r\n<input type=&quot;text&quot; th:classappend=&quot;\\${errors?.containsKey('itemName')} ? 'fielderror' : _&quot; class=&quot;form-control&quot;>`, `28538843974567050000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Back</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">PostMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/add&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">addItem</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">ModelAttribute</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Item</span><span class=\"mtk1\"> item, </span><span class=\"mtk10\">RedirectAttributes</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">redirectAttributes, </span><span class=\"mtk10\">Model</span><span class=\"mtk1\"> model) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">//검증 오류 결과를 보관</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">Map</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">String</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">errors</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HashMap</span><span class=\"mtk1\">&lt;&gt;();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">//검증 로직</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">StringUtils</span><span class=\"mtk1\">.</span><span class=\"mtk11\">hasText</span><span class=\"mtk1\">(</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getItemName</span><span class=\"mtk1\">())) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">errors</span><span class=\"mtk1\">.</span><span class=\"mtk11\">put</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;itemName&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;상품 이름은 필수입니다.&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">//특정 필드가 아닌 복합 룰 검증</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">int</span><span class=\"mtk1\"> </span><span class=\"mtk12\">resultPrice</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() * </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (resultPrice &lt; </span><span class=\"mtk7\">10000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">errors</span><span class=\"mtk1\">.</span><span class=\"mtk11\">put</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;globalError&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;가격 * 수량의 합은 10,000원 이상이어야 합니다. 현재 값 = &quot;</span><span class=\"mtk1\"> + resultPrice);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">//검증에 실패하면 다시 입력 폼으로</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">errors</span><span class=\"mtk1\">.</span><span class=\"mtk11\">isEmpty</span><span class=\"mtk1\">()) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">model</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;errors&quot;</span><span class=\"mtk1\">, errors);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;validation/v1/addForm&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"31\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"32\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Front</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"33\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Global</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"34\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;div th</span><span class=\"mtk15\">:if</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;${errors?.containsKey(&#39;globalError&#39;)}&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"35\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;p class=</span><span class=\"mtk8\">&quot;field-error&quot;</span><span class=\"mtk1\"> th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">text=</span><span class=\"mtk8\">&quot;${errors[&#39;globalError&#39;]}&quot;</span><span class=\"mtk1\">&gt;전체 오류 메시&lt;/div&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"36\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;div&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"37\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"38\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Field</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"39\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;input type=</span><span class=\"mtk8\">&quot;text&quot;</span><span class=\"mtk1\"> th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">classappend=</span><span class=\"mtk8\">&quot;${errors?.containsKey(&#39;itemName&#39;)} ? &#39;fielderror&#39; : _&quot;</span><span class=\"mtk1\"> class=</span><span class=\"mtk8\">&quot;form-control&quot;</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p>다음과 같이 <strong>errors?.</strong> 로 사용하는데 springEL문법이다.</p>\n<p><strong>errors?.</strong> : errors가 null일 때 NullPointerException 발생 대신, null반환하는 문법<br>\n-> th:if에서 null은 실패처리 되므로 오류 출력x</p>\n<p>classappend : 해당 필드에 오류가 있으면 field-error라는 클래스 정보를 더하고 값이 없으면 _(No-Operation)을 사용하여 아무 일도 하지 않음</p>\n<hr>\n<p>검증을 직접 처리하면</p>\n<ul>\n<li>뷰 템플릿에서 중복된 코드가 많음</li>\n<li>타입 오류 처리 불가능</li>\n</ul>\n<h2 id=\"41-binding-result\" style=\"position:relative;\"><a href=\"#41-binding-result\" aria-label=\"41 binding result permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.1 Binding Result</h2>\n<blockquote>\n<p>스프링이 제공하는 검증 오류 처리 방법</p>\n</blockquote>\n<ul>\n<li>bindingResult사용 시 파라미터 위치는 연관지을 @ModelAttribute 다음에 와야 한다.</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"95772027131832940000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@PostMapping(&quot;/add&quot;)\r\npublic String addItemV1(@ModelAttribute Item item, BindingResult bindingResult, RedirectAttributes redirectAttributes, Model model) {\r\n    //검증 로직\r\n    if (!StringUtils.hasText(item.getItemName())) {\r\n        bindingResult.addError(new FieldError(&quot;item&quot;, &quot;itemName&quot;, &quot;상품 이름은 필수입니다.&quot;));\r\n    }\r\n    ...\r\n\r\n    //특정 필드가 아닌 복합 룰 검증\r\n    if (item.getPrice() != null && item.getQuantity() != null) {\r\n        int resultPrice = item.getPrice() * item.getQuantity();\r\n\r\n        if (resultPrice < 10000) {\r\n            bindingResult.addError(new ObjectError(&quot;item&quot;, &quot;가격 * 수량의 합은 10,000원 이상이어야 합니다. 현재 값 = &quot; + resultPrice));\r\n        }\r\n    }\r\n\r\n    //검증에 실패하면 다시 입력 폼으로\r\n    if (bindingResult.hasErrors()) {\r\n        log.info(&quot;errors = {}&quot;, bindingResult);\r\n        return &quot;validation/v2/addForm&quot;;\r\n    }\r\n}`, `95772027131832940000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">PostMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/add&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">addItemV1</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">ModelAttribute</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Item</span><span class=\"mtk1\"> item, </span><span class=\"mtk10\">BindingResult</span><span class=\"mtk1\"> bindingResult, </span><span class=\"mtk10\">RedirectAttributes</span><span class=\"mtk1\"> redirectAttributes, </span><span class=\"mtk10\">Model</span><span class=\"mtk1\"> model) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">//검증 로직</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">StringUtils</span><span class=\"mtk1\">.</span><span class=\"mtk11\">hasText</span><span class=\"mtk1\">(</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getItemName</span><span class=\"mtk1\">())) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addError</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">FieldError</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;item&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;itemName&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;상품 이름은 필수입니다.&quot;</span><span class=\"mtk1\">));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">//특정 필드가 아닌 복합 룰 검증</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">int</span><span class=\"mtk1\"> </span><span class=\"mtk12\">resultPrice</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() * </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (resultPrice &lt; </span><span class=\"mtk7\">10000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addError</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ObjectError</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;item&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;가격 * 수량의 합은 10,000원 이상이어야 합니다. 현재 값 = &quot;</span><span class=\"mtk1\"> + resultPrice));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">//검증에 실패하면 다시 입력 폼으로</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">hasErrors</span><span class=\"mtk1\">()) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;errors = {}&quot;</span><span class=\"mtk1\">, bindingResult);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;validation/v2/addForm&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h4 id=\"필드-오류---fielderror\" style=\"position:relative;\"><a href=\"#%ED%95%84%EB%93%9C-%EC%98%A4%EB%A5%98---fielderror\" aria-label=\"필드 오류   fielderror permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>필드 오류 - FieldError</h4>\n<blockquote>\n<p>필드에 오류가 있으면 FieldError 객체를 생성해서 bindingResult에 담는다.</p>\n</blockquote>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"85071127392160580000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`public FieldError(String objectName, String field, String defaultMessage) {}\r\npublic FieldError(String objectName, String field, @Nullable Object rejectedValue, boolean bindingFailure, @Nullable String[] codes, @Nullable Object[] arguments, @Nullable String defaultMessage)`, `85071127392160580000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">FieldError</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\"> objectName, </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> field, </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> defaultMessage) {}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">FieldError</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\"> objectName, </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> field, @</span><span class=\"mtk10\">Nullable</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> rejectedValue, </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> bindingFailure, @</span><span class=\"mtk10\">Nullable</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\">[] codes, @</span><span class=\"mtk10\">Nullable</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[] arguments, @</span><span class=\"mtk10\">Nullable</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> defaultMessage)</span></span></span></code></pre>\n<p><code>objectName</code> : <code>@ModelAttribute</code>이름<br>\n<code>field</code> : 오류가 발생한 필드 이름<br>\n<code>rejectedValue</code> : 사용자가 입력한 값(거절된 값)<br>\n<code>bindingFailure</code> : 타입 오류 같은 바인딩 실패인지, 검증 실패인지 구분 값<br>\n<code>codes</code> : 메시지 코드 ex) <code>new String[]{\"range.item.price\"}</code><br>\n<code>arguments</code> : 메시지에서 사용하는 인자 ex) new Object[]{1000, 100000}<br>\n<code>defaultMessage</code> : 오류 기본 메세지</p>\n<h4 id=\"글로벌-오류---objecterror\" style=\"position:relative;\"><a href=\"#%EA%B8%80%EB%A1%9C%EB%B2%8C-%EC%98%A4%EB%A5%98---objecterror\" aria-label=\"글로벌 오류   objecterror permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>글로벌 오류 - ObjectError</h4>\n<blockquote>\n<p>특정 필드를 넘어서는 오류가 있으면 ObjectError 객체를 생성해서 buindingResult 담는다.</p>\n</blockquote>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"82658064342068840000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`public ObjectError(String objectName, String defaultMessage) {}`, `82658064342068840000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ObjectError</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\"> objectName, </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> defaultMessage) {}</span></span></span></code></pre>\n<p><code>objectName</code> : <code>@ModelAttribute</code> 의 이름<br>\n<code>defaultMessage</code> : 오류 기본 메시지</p>\n<p>front단 코드</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"88823889623999700000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// Global\r\n<div th:if=&quot;\\${#fields.hasGlobalErrors()}&quot;>\r\n  <p class=&quot;field-error&quot; th:each=&quot;err : \\${#fields.globalErrors()}&quot;\r\n    th:text=&quot;\\${err}&quot;>글로벌 오류 메시지</p></div>\r\n<div>\r\n\r\n// Field\r\n<input type=&quot;text&quot; id=&quot;itemName&quot; th:field=&quot;*{itemName}&quot;\r\n  th:errorclass=&quot;field-error&quot; class=&quot;form-control&quot; placeholder=&quot;이름을 입력하세요&quot;>\r\n<div class=&quot;field-error&quot; th:errors=&quot;*{itemName}&quot;>\r\n  상품명 오류\r\n</div>`, `88823889623999700000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Global</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;div th</span><span class=\"mtk15\">:if</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;${#fields.hasGlobalErrors()}&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;p class=</span><span class=\"mtk8\">&quot;field-error&quot;</span><span class=\"mtk1\"> th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">each=</span><span class=\"mtk8\">&quot;err : ${#fields.globalErrors()}&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">text=</span><span class=\"mtk8\">&quot;${err}&quot;</span><span class=\"mtk1\">&gt;글로벌 오류 메시지&lt;/p&gt;&lt;/div&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;div&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Field</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;input type=</span><span class=\"mtk8\">&quot;text&quot;</span><span class=\"mtk1\"> id=</span><span class=\"mtk8\">&quot;itemName&quot;</span><span class=\"mtk1\"> th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">field=</span><span class=\"mtk8\">&quot;*{itemName}&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">errorclass=</span><span class=\"mtk8\">&quot;field-error&quot;</span><span class=\"mtk1\"> class=</span><span class=\"mtk8\">&quot;form-control&quot;</span><span class=\"mtk1\"> placeholder=</span><span class=\"mtk8\">&quot;이름을 입력하세요&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;div class=</span><span class=\"mtk8\">&quot;field-error&quot;</span><span class=\"mtk1\"> th</span><span class=\"mtk15\">:</span><span class=\"mtk1\">errors=</span><span class=\"mtk8\">&quot;*{itemName}&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  상품명 오류</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/div&gt;</span></span></span></code></pre>\n<p>타임리프 스프링 오류 표현 방법</p>\n<p><code>#fields</code> : <code>#fields</code> 로 <code>BindingResult</code> 가 제공하는 검증 오류에 접근<br>\n<code>th:errors</code> : 해당 필드에 오류가 있는 경우에 태그를 출력 -> <code>th:if</code> 의 편의 버전<br>\n<code>th:errorclass</code> : <code>th:field</code> 에서 지정한 필드에 오류가 있으면 <code>class</code> 정보를 추가</p>\n<p>타임리프의 사용자 입력 값 유지</p>\n<p><code>th:field=\"*{price}</code></p>\n<p>정상 상황일 경우 -> 모델 객체 값 사용<br>\n오류 발생 시 -> <code>FieldError</code>에서 보관한 값을 사용해 값 출력</p>\n<p><a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/thymeleafspring.html#validation-and-error-messages\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Validation and Error Messages - thymeleaf + spring docs</a></p>\n<h4 id=\"bindingresult-정리\" style=\"position:relative;\"><a href=\"#bindingresult-%EC%A0%95%EB%A6%AC\" aria-label=\"bindingresult 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BindingResult 정리</h4>\n<ul>\n<li>스프링이 제공하는 검증 오류 보관 객체</li>\n<li>BindingResult가 있으면 <code>@ModelAttribute</code> 에 데이터 바인딩 시 오류가 발생해도 컨트롤러가 호출</li>\n<li>타입 오류 시 -> 오류 정보(FieldError)를 담아 컨트롤러에 호출</li>\n</ul>\n<p>BindingResult에 검증 오류 적용 3가지 방법</p>\n<ul>\n<li>@ModelAttribute 객체에 타입 오류 등으로 바인딩 실패 시 스프링이 FieldError생성 해서 BindingResult에 넣는다.</li>\n<li>검증 로직에서 개발자가 직접 삽입</li>\n<li>Validator 사용</li>\n</ul>\n<h4 id=\"errors-메시지-생성-국제화\" style=\"position:relative;\"><a href=\"#errors-%EB%A9%94%EC%8B%9C%EC%A7%80-%EC%83%9D%EC%84%B1-%EA%B5%AD%EC%A0%9C%ED%99%94\" aria-label=\"errors 메시지 생성 국제화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>errors 메시지 생성, 국제화</h4>\n<p><code>errors.properties</code> 별도의 파일 만들어서 관리 가능</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"30653840233573646000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`if (item.getPrice() == null || item.getPrice() < 1000 || item.getPrice() > 1000000) {\r\n  bindingResult.addError(new FieldError(&quot;item&quot;, &quot;price&quot;, item.getPrice(), false, new String[]{&quot;range.item.price&quot;}, new Object[]{1000, 1000000}, null));\r\n}`, `30653840233573646000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() == </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> || </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() &lt; </span><span class=\"mtk7\">1000</span><span class=\"mtk1\"> || </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() &gt; </span><span class=\"mtk7\">1000000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addError</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">FieldError</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;item&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;price&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">(), </span><span class=\"mtk4\">false</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\">[]{</span><span class=\"mtk8\">&quot;range.item.price&quot;</span><span class=\"mtk1\">}, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[]{</span><span class=\"mtk7\">1000</span><span class=\"mtk1\">, </span><span class=\"mtk7\">1000000</span><span class=\"mtk1\">}, </span><span class=\"mtk4\">null</span><span class=\"mtk1\">));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h4 id=\"rejectvalue-reject\" style=\"position:relative;\"><a href=\"#rejectvalue-reject\" aria-label=\"rejectvalue reject permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>rejectValue(), reject()</h4>\n<p>컨트롤러에서 <code>BindingResult</code> 는 검증해야 할 객체인 <code>target</code> 바로 다음에 와 <code>BindingResult</code>는 검증해야 할 객체인 <code>target</code> 을 알고 있어 reject를 사용하면 깔끔하게 코드 작성 가능</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"22762150660834800000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`if (item.getPrice() == null || item.getPrice() < 1000 || item.getPrice() > 1000000) {\r\n  bindingResult.rejectValue(&quot;price&quot;, &quot;range&quot;, new Object[]{1000, 1000000},null);\r\n}\r\n...\r\n\r\n//특정 필드 예외가 아닌 전체 예외\r\nif (item.getPrice() != null && item.getQuantity() != null) {\r\n  int resultPrice = item.getPrice() * item.getQuantity();\r\n  if (resultPrice < 10000) {\r\n    bindingResult.reject(&quot;totalPriceMin&quot;, new Object[]{10000,resultPrice}, null);\r\n  }\r\n}\r\n`, `22762150660834800000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() == </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> || </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() &lt; </span><span class=\"mtk7\">1000</span><span class=\"mtk1\"> || </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() &gt; </span><span class=\"mtk7\">1000000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">rejectValue</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;price&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;range&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[]{</span><span class=\"mtk7\">1000</span><span class=\"mtk1\">, </span><span class=\"mtk7\">1000000</span><span class=\"mtk1\">},</span><span class=\"mtk4\">null</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">//특정 필드 예외가 아닌 전체 예외</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">int</span><span class=\"mtk1\"> </span><span class=\"mtk12\">resultPrice</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() * </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (resultPrice &lt; </span><span class=\"mtk7\">10000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">reject</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;totalPriceMin&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[]{</span><span class=\"mtk7\">10000</span><span class=\"mtk1\">,resultPrice}, </span><span class=\"mtk4\">null</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<h4 id=\"messagecodesresolver\" style=\"position:relative;\"><a href=\"#messagecodesresolver\" aria-label=\"messagecodesresolver permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MessageCodesResolver</h4>\n<p>rejectValue, reject는 <code>MessageCodesResolver</code>가 오류 메시지 처리</p>\n<ul>\n<li><code>MessageCodesResolver</code>가 인터페이스, <code>DefaultMessageCodeResolver</code> 기본 구현체</li>\n</ul>\n<h4 id=\"defaultmessagecodesresolver의-기본-메시지-생성-규칙\" style=\"position:relative;\"><a href=\"#defaultmessagecodesresolver%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EB%A9%94%EC%8B%9C%EC%A7%80-%EC%83%9D%EC%84%B1-%EA%B7%9C%EC%B9%99\" aria-label=\"defaultmessagecodesresolver의 기본 메시지 생성 규칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DefaultMessageCodesResolver의 기본 메시지 생성 규칙</h4>\n<p>객체 오류</p>\n<p>객체 오류의 경우 다음 순서로 2가지 생성</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"17\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">1. code + &quot;.&quot; + object name</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">2. code</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">예) 오류 코드: required, object name: item</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">1. required.item</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">2. required</span></span></code></pre>\n<p>필드 오류</p>\n<p>필드 오류의 경우 다음 순서로4가지 메시지 코드 생성</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"18\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">1. code + &quot;.&quot; + object name + &quot;.&quot; + field</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">2. code + &quot;.&quot; + field</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">3. code + &quot;.&quot; + field type</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">4. code</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">스프링은 타입 오류가 발생하면 `typeMismatch`라는 오류 코드 사용</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">ex) 오류 코드: typeMismatch, object name &quot;user&quot;, field &quot;age&quot;, field type: int</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">1. &quot;typeMismatch.user.age&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">2. &quot;typeMismatch.age&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">3. &quot;typeMismatch.int&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">4. &quot;typeMismatch&quot;</span></span></code></pre>\n<p>동작 방식</p>\n<ul>\n<li>FieldError, ObjectError의 생성자를 보면, 오류 코드를 하나가 아니라 여러개 가지고 있다.</li>\n<li><code>MessageCodesResolver</code>를 통해 생성된 순서대로 오류 코드 보관\n<ul>\n<li>ex) FiledError - rejectValue(“itemName”, “required”)\n<ul>\n<li><code>required.item.itemName</code></li>\n<li><code>required.itemName</code></li>\n<li><code>required.java.lang.String</code></li>\n<li><code>required</code></li>\n</ul>\n</li>\n<li>ex) ObjectError - reject(“totalPriceMin”)`\n<ul>\n<li><code>totalPriceMin.item</code></li>\n<li><code>totalPriceMin</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>타임리프 화면에서 렌더링 시 <code>th:errors</code> 실행 후 에러가 있을 경우 메시지 노출</li>\n</ul>\n<h4 id=\"validationutil\" style=\"position:relative;\"><a href=\"#validationutil\" aria-label=\"validationutil permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ValidationUtil</h4>\n<p>Empty , 공백 같은 단순한 기능만 사용 시 <code>ValidationUtil</code>로 간단하게 코드 작성 가능</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"52725874761833415000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// 사용 전\r\nif (!StringUtils.hasText(item.getItemName())) {\r\n  bindingResult.rejectValue(&quot;itemName&quot;, &quot;required&quot;, &quot;기본: 상품 이름은 필수입니다.&quot;);\r\n}\r\n\r\n// 사용 후\r\nValidationUtils.rejectIfEmptyOrWhitespace(bindingResult, &quot;itemName&quot;, &quot;required&quot;);`, `52725874761833415000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"19\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 사용 전</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">StringUtils</span><span class=\"mtk1\">.</span><span class=\"mtk11\">hasText</span><span class=\"mtk1\">(</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getItemName</span><span class=\"mtk1\">())) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">rejectValue</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;itemName&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;required&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;기본: 상품 이름은 필수입니다.&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 사용 후</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">ValidationUtils</span><span class=\"mtk1\">.</span><span class=\"mtk11\">rejectIfEmptyOrWhitespace</span><span class=\"mtk1\">(bindingResult, </span><span class=\"mtk8\">&quot;itemName&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;required&quot;</span><span class=\"mtk1\">);</span></span></span></code></pre>\n<h4 id=\"스프링을-통한-오류-메세지-처리\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%98%A4%EB%A5%98-%EB%A9%94%EC%84%B8%EC%A7%80-%EC%B2%98%EB%A6%AC\" aria-label=\"스프링을 통한 오류 메세지 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링을 통한 오류 메세지 처리</h4>\n<ol>\n<li>검증 로직 분리</li>\n</ol>\n<p>스프링은 검증을 체계적으로 관리하기 위해 Validator 인터페이스 제공</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"75144070241593590000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// Validator\r\npublic interface Validator {\r\n\r\n  // 해당 검증기 지원 여부 확인\r\n\tboolean supports(Class<?> clazz);\r\n\r\n  // 검증 대상 객체와 BindingResult를 통해 validate 로직\r\n\tvoid validate(Object target, Errors errors);\r\n}\r\n\r\n// custom validator\r\n@Component\r\npublic class ItemValidator implements Validator {\r\n\r\n    @Override\r\n    public boolean supports(Class<?> clazz) {\r\n        return Item.class.isAssignableFrom(clazz);\r\n    }\r\n\r\n    @Override\r\n    public void validate(Object target, Errors errors) {\r\n        Item item = (Item) target;\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;itemName&quot;, &quot;required&quot;);\r\n\r\n        if (item.getPrice() == null || item.getPrice() < 1000 || item.getPrice() > 1000000) {\r\n            errors.rejectValue(&quot;price&quot;, &quot;range&quot;, new Object[]{1000, 1000000}, null);\r\n        }\r\n        if (item.getQuantity() == null || item.getQuantity() > 10000) {\r\n            errors.rejectValue(&quot;quantity&quot;, &quot;max&quot;, new Object[]{9999}, null);\r\n        }\r\n\r\n        //특정 필드 예외가 아닌 전체 예외\r\n        if (item.getPrice() != null && item.getQuantity() != null) {\r\n            int resultPrice = item.getPrice() * item.getQuantity();\r\n            if (resultPrice < 10000) {\r\n                errors.reject(&quot;totalPriceMin&quot;, new Object[]{10000, resultPrice}, null);\r\n            }\r\n        }\r\n    }\r\n}`, `75144070241593590000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"20\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Validator</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Validator</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// 해당 검증기 지원 여부 확인</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> </span><span class=\"mtk11\">supports</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Class</span><span class=\"mtk1\">&lt;</span><span class=\"mtk4\">?</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">clazz</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// 검증 대상 객체와 BindingResult를 통해 validate 로직</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">validate</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> </span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Errors</span><span class=\"mtk1\"> </span><span class=\"mtk12\">errors</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// custom validator</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Component</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ItemValidator</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Validator</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> </span><span class=\"mtk11\">supports</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Class</span><span class=\"mtk1\">&lt;</span><span class=\"mtk4\">?</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">clazz</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Item</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">.</span><span class=\"mtk11\">isAssignableFrom</span><span class=\"mtk1\">(clazz);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">validate</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> </span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Errors</span><span class=\"mtk1\"> </span><span class=\"mtk12\">errors</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">Item</span><span class=\"mtk1\"> </span><span class=\"mtk12\">item</span><span class=\"mtk1\"> = (Item) target;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">ValidationUtils</span><span class=\"mtk1\">.</span><span class=\"mtk11\">rejectIfEmptyOrWhitespace</span><span class=\"mtk1\">(errors, </span><span class=\"mtk8\">&quot;itemName&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;required&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() == </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> || </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() &lt; </span><span class=\"mtk7\">1000</span><span class=\"mtk1\"> || </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() &gt; </span><span class=\"mtk7\">1000000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">errors</span><span class=\"mtk1\">.</span><span class=\"mtk11\">rejectValue</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;price&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;range&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[]{</span><span class=\"mtk7\">1000</span><span class=\"mtk1\">, </span><span class=\"mtk7\">1000000</span><span class=\"mtk1\">}, </span><span class=\"mtk4\">null</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">() == </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> || </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">() &gt; </span><span class=\"mtk7\">10000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">errors</span><span class=\"mtk1\">.</span><span class=\"mtk11\">rejectValue</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;quantity&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;max&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[]{</span><span class=\"mtk7\">9999</span><span class=\"mtk1\">}, </span><span class=\"mtk4\">null</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">//특정 필드 예외가 아닌 전체 예외</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk10\">int</span><span class=\"mtk1\"> </span><span class=\"mtk12\">resultPrice</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() * </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (resultPrice &lt; </span><span class=\"mtk7\">10000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">errors</span><span class=\"mtk1\">.</span><span class=\"mtk11\">reject</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;totalPriceMin&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[]{</span><span class=\"mtk7\">10000</span><span class=\"mtk1\">, resultPrice}, </span><span class=\"mtk4\">null</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ol start=\"2\">\n<li>WebDataBinder를 통해 스프링 파라미터 바인딩</li>\n</ol>\n<p><code>WebDataBinder</code>는 스프링의 파라미터 바인딩 역할, 검증 기능 포함</p>\n<ol start=\"3\">\n<li>적용</li>\n</ol>\n<p>3.1) controller에 직접 적용</p>\n<p>@InitBinder를 통해</p>\n<p>3.2) Global 설정</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"16549997635968782000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@SpringBootApplication\r\npublic class ItemServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ItemServiceApplication.class, args);\r\n\t}\r\n\r\n  @Override\r\n  public Validator getValidator() {\r\n    return new ItemValidator();\r\n  }\r\n\r\n}\r\n`, `16549997635968782000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"21\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">SpringBootApplication</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ItemServiceApplication</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\">[] </span><span class=\"mtk12\">args</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk12\">SpringApplication</span><span class=\"mtk1\">.</span><span class=\"mtk11\">run</span><span class=\"mtk1\">(</span><span class=\"mtk12\">ItemServiceApplication</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">, args);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Validator</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getValidator</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ItemValidator</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<hr>\n<p>동작 방식</p>\n<p><code>@Validated</code>는 검증 실행 어노테이션</p>\n<p>해당 어노테이션이 붙으면 <code>WebDataBinder</code>에 등록한 검증기를 찾아서 실행하는데</p>\n<p><code>supports()</code> 에 등록된 검증기를 실행</p>\n<h1 id=\"5-bean-validation\" style=\"position:relative;\"><a href=\"#5-bean-validation\" aria-label=\"5 bean validation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Bean Validation</h1>\n<blockquote>\n<p>Bean Validation 2.0(SJR-380) 기술 표준</p>\n</blockquote>\n<p>검증 애노테이션과 여러 인터페이스 모음</p>\n<h4 id=\"하이버네이트-validator-관련-링크\" style=\"position:relative;\"><a href=\"#%ED%95%98%EC%9D%B4%EB%B2%84%EB%84%A4%EC%9D%B4%ED%8A%B8-validator-%EA%B4%80%EB%A0%A8-%EB%A7%81%ED%81%AC\" aria-label=\"하이버네이트 validator 관련 링크 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>하이버네이트 Validator 관련 링크</h4>\n<ul>\n<li>공식 사이트: <a href=\"http://hibernate.org/validator/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://hibernate.org/validator/</a></li>\n<li>공식 메뉴얼: <a href=\"https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/</a></li>\n<li>검증 애노테이션 모음: <a href=\"https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#validator-defineconstraints-spec\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#validator-defineconstraints-spec</a></li>\n</ul>\n<p>build.gradle 추가</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"22\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;</span></span></code></pre>\n<h4 id=\"jakarta-bean-validation\" style=\"position:relative;\"><a href=\"#jakarta-bean-validation\" aria-label=\"jakarta bean validation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jakarta Bean Validation</h4>\n<ul>\n<li><code>jakarta.validation-api</code> : Bean Validation 인터페이스</li>\n<li><code>hibernate-validator</code> 구현체</li>\n</ul>\n<p>SpringBoot에 validation라이브러리를 넣으면 자동으로 Bean Validator를 인식 -> 스프링 통합</p>\n<h4 id=\"사용-어노테이션\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98\" aria-label=\"사용 어노테이션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용 어노테이션</h4>\n<ul>\n<li><code>@Validated</code> : 스프링 전용 검증 애노테이션</li>\n<li><code>@Valid</code> : 자바 표준 검증 애노테이션</li>\n<li>동일하게 작동하지만 <code>@Validated</code>는 내부에<code>groups</code> 라는 기능을 포함</li>\n</ul>\n<h4 id=\"검증-순서\" style=\"position:relative;\"><a href=\"#%EA%B2%80%EC%A6%9D-%EC%88%9C%EC%84%9C\" aria-label=\"검증 순서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>검증 순서</h4>\n<ul>\n<li><code>LocalValidatorFactoryBean</code>을 글로벌 Validator로 등록</li>\n<li><code>@ModelAttribute</code> 각각의 필드에 타입 변환 시도\n<ul>\n<li>성공 시 Pass</li>\n<li>데이터 바인딩 실패 시 <code>typeMismatch</code> -> <code>FieldError</code> 추가</li>\n</ul>\n</li>\n<li><code>@Valid</code>, <code>@Validated</code> 적용</li>\n<li>검증 오류 시 <code>FieldError</code>,<code>ObjectError</code> -> <code>BindingResult</code>생성</li>\n</ul>\n<h4 id=\"에러-코드-처리\" style=\"position:relative;\"><a href=\"#%EC%97%90%EB%9F%AC-%EC%BD%94%EB%93%9C-%EC%B2%98%EB%A6%AC\" aria-label=\"에러 코드 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>에러 코드 처리</h4>\n<p>설정한 어노테이션은 오류코드 기반으로 <code>MessageCodesResolver</code>를 통해 메시지 코드 생성</p>\n<p>ex</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"6983244227128327000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@NotBlank\r\n\r\nNotBlank.item.itemName\r\nNotBlank.itemName\r\nNotBlank.java.lang.String\r\nNotBlank\r\n\r\n@Range\r\n\r\nRange.item.price\r\nRange.price\r\nRange.java.lang.Integer\r\nRange`, `6983244227128327000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"text\" data-index=\"23\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">@NotBlank</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">NotBlank.item.itemName</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">NotBlank.itemName</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">NotBlank.java.lang.String</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">NotBlank</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">@Range</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Range.item.price</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Range.price</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Range.java.lang.Integer</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Range</span></span></code></pre>\n<p>해당 오류코드로 <code>errors.properties</code>에 등록 해 별도의 파일로 메시지 관리</p>\n<p>BeanValidation 메세지 찾는 순서</p>\n<ul>\n<li>\n<ol>\n<li>생성된 메세지 코드 순서대로 <code>messageSource</code> 에서 메시지 확인</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>어노테이션의 <code>message</code> 속성 사용 -> @NotBlank(message = “오류”)</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li><code>message</code> 속성이 없는 경우 기본 값 사용</li>\n</ol>\n</li>\n</ul>\n<h4 id=\"오브젝트-오류\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-%EC%98%A4%EB%A5%98\" aria-label=\"오브젝트 오류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오브젝트 오류</h4>\n<p>어노테이션을 통해서 validation기능을 사용해 필드 에러 처리</p>\n<p>오브젝트 오류는 <code>@ScriptAssert()</code>를 사용한다.</p>\n<p>실제 에러처리를 할 땐 제약이 많고 복잡하므로 오브젝트 오류의 경우 <code>@ScriptAssert</code>를 억지로 사용하는 것 보단</p>\n<p>오브젝트 오류만 직접 자바 코드로(bidingResult 사용) 작성 권장</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"25217813029324534000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// 특정 필드 예외가 아닌 전체 예외\r\nif (item.getPrice() != null && item.getQuantity() != null) {\r\n    int resultPrice = item.getPrice() * item.getQuantity();\r\n    if (resultPrice < 10000) {\r\n        bindingResult.reject(&quot;totalPriceMin&quot;, new Object[]{10000, resultPrice}, null);\r\n    }\r\n}\r\n`, `25217813029324534000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"24\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 특정 필드 예외가 아닌 전체 예외</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">int</span><span class=\"mtk1\"> </span><span class=\"mtk12\">resultPrice</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() * </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (resultPrice &lt; </span><span class=\"mtk7\">10000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">reject</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;totalPriceMin&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[]{</span><span class=\"mtk7\">10000</span><span class=\"mtk1\">, resultPrice}, </span><span class=\"mtk4\">null</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<h4 id=\"케이스-별-검증\" style=\"position:relative;\"><a href=\"#%EC%BC%80%EC%9D%B4%EC%8A%A4-%EB%B3%84-%EA%B2%80%EC%A6%9D\" aria-label=\"케이스 별 검증 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>케이스 별 검증</h4>\n<p>하나의 model entity를 다르게 검증할 땐 2가지 방법으로 구현이 가능하다</p>\n<ul>\n<li>Bean Validation의 groups 기능 사용</li>\n<li>Item을 직접 사용하지 않고 별도의 모델 객체(DTO)를 만들어 사용</li>\n</ul>\n<p>groups기능을 사용할 땐 <code>@Validated</code> 사용 - (@Valid에는 기능이 없음)</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"82779103634677140000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`\r\n// entity\r\n\r\n@Data\r\npublic class Item {\r\n\r\n    @NotNull(groups = UpdateCheck.class) //수정시에만 적용\r\n    private Long id;\r\n\r\n    @NotNull(groups = {SaveCheck.class, UpdateCheck.class})\r\n    private String itemName;\r\n\r\n    @NotNull(groups = {SaveCheck.class, UpdateCheck.class})\r\n    @Range(min= 1000, max = 1000000)\r\n    private Integer price;\r\n\r\n    @NotNull(groups = {SaveCheck.class, UpdateCheck.class})\r\n    @Max(99999)\r\n    private Integer quantity;\r\n\r\n    public Item() {\r\n    }\r\n\r\n    public Item(String itemName, Integer price, Integer quantity) {\r\n        this.itemName = itemName;\r\n        this.price = price;\r\n        this.quantity = quantity;\r\n    }\r\n}\r\n\r\n\r\n// controller\r\n\r\npublic String addItem(@Validated(SaveCheck.class) @ModelAttribute Item item, BindingResult bindingResult, RedirectAttributes redirectAttributes, Model model) {\r\n  ...\r\n}`, `82779103634677140000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"25\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// entity</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Data</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Item</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">NotNull</span><span class=\"mtk1\">(groups = </span><span class=\"mtk12\">UpdateCheck</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">) </span><span class=\"mtk3\">//수정시에만 적용</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Long</span><span class=\"mtk1\"> </span><span class=\"mtk12\">id</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">NotNull</span><span class=\"mtk1\">(groups = {</span><span class=\"mtk12\">SaveCheck</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">, </span><span class=\"mtk12\">UpdateCheck</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">itemName</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">NotNull</span><span class=\"mtk1\">(groups = {</span><span class=\"mtk12\">SaveCheck</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">, </span><span class=\"mtk12\">UpdateCheck</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Range</span><span class=\"mtk1\">(min= </span><span class=\"mtk7\">1000</span><span class=\"mtk1\">, max = </span><span class=\"mtk7\">1000000</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">price</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">NotNull</span><span class=\"mtk1\">(groups = {</span><span class=\"mtk12\">SaveCheck</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">, </span><span class=\"mtk12\">UpdateCheck</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Max</span><span class=\"mtk1\">(</span><span class=\"mtk7\">99999</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">quantity</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Item</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Item</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">itemName</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">price</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">quantity</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">itemName</span><span class=\"mtk1\"> = itemName;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">price</span><span class=\"mtk1\"> = price;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">quantity</span><span class=\"mtk1\"> = quantity;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// controller</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">addItem</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">Validated</span><span class=\"mtk1\">(</span><span class=\"mtk12\">SaveCheck</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">) @</span><span class=\"mtk10\">ModelAttribute</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Item</span><span class=\"mtk1\"> item, </span><span class=\"mtk10\">BindingResult</span><span class=\"mtk1\"> bindingResult, </span><span class=\"mtk10\">RedirectAttributes</span><span class=\"mtk1\"> redirectAttributes, </span><span class=\"mtk10\">Model</span><span class=\"mtk1\"> model) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>실무에선 DTO를 더 많이 사용함</p>\n<h4 id=\"dto-사용\" style=\"position:relative;\"><a href=\"#dto-%EC%82%AC%EC%9A%A9\" aria-label=\"dto 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DTO 사용</h4>\n<p>entity 객체에서 검증 어노테이션을 제거하고 DTO객체 생성 후 검증로직 옮겨준다.</p>\n<p>controller에서 변환 코드 추가</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"58317804624632050000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// Item\r\n@Data\r\npublic class Item {\r\n\r\n    private Long id;\r\n\r\n    private String itemName;\r\n\r\n    private Integer price;\r\n\r\n    private Integer quantity;\r\n\r\n    public Item() {\r\n    }\r\n\r\n    public Item(String itemName, Integer price, Integer quantity) {\r\n        this.itemName = itemName;\r\n        this.price = price;\r\n        this.quantity = quantity;\r\n    }\r\n}\r\n\r\n\r\n// ItemSaveForm\r\n@Data\r\npublic class ItemSaveForm {\r\n\r\n    @NotBlank\r\n    private String itemName;\r\n\r\n    @NotNull\r\n    @Range(min = 1000, max = 1000000)\r\n    private Integer price;\r\n\r\n    @NotNull\r\n    @Max(value = 9999)\r\n    private Integer quantity;\r\n\r\n}\r\n\r\n// controller\r\n@Slf4j\r\n@Controller\r\n@RequestMapping(&quot;/validation/v4/items&quot;)\r\n@RequiredArgsConstructor\r\npublic class ValidationItemControllerV4 {\r\n\r\n    ...\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public String addItem(@Validated @ModelAttribute(&quot;item&quot;) ItemSaveForm form, BindingResult bindingResult, RedirectAttributes redirectAttributes, Model model) {\r\n\r\n        // 특정 필드 예외가 아닌 전체 예외\r\n        if (form.getPrice() != null && form.getQuantity() != null) {\r\n            int resultPrice = form.getPrice() * form.getQuantity();\r\n            if (resultPrice < 10000) {\r\n                bindingResult.reject(&quot;totalPriceMin&quot;, new Object[]{10000,\r\n                        resultPrice}, null);\r\n            }\r\n        }\r\n\r\n        //검증에 실패하면 다시 입력 폼으로\r\n        if (bindingResult.hasErrors()) {\r\n            log.info(&quot;errors = {}&quot;, bindingResult);\r\n            return &quot;validation/v4/addForm&quot;;\r\n        }\r\n\r\n        Item item = new Item();\r\n        item.setItemName(form.getItemName());\r\n        item.setPrice(form.getPrice());\r\n        item.setQuantity(form.getQuantity());\r\n\r\n        Item savedItem = itemRepository.save(item);\r\n        redirectAttributes.addAttribute(&quot;itemId&quot;, savedItem.getId());\r\n        redirectAttributes.addAttribute(&quot;status&quot;, true);\r\n        return &quot;redirect:/validation/v4/items/{itemId}&quot;;\r\n    }\r\n\r\n    ...\r\n}`, `58317804624632050000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"26\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Item</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Data</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Item</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Long</span><span class=\"mtk1\"> </span><span class=\"mtk12\">id</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">itemName</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">price</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">quantity</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Item</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Item</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">itemName</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">price</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">quantity</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">itemName</span><span class=\"mtk1\"> = itemName;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">price</span><span class=\"mtk1\"> = price;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">quantity</span><span class=\"mtk1\"> = quantity;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ItemSaveForm</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Data</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ItemSaveForm</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">NotBlank</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">itemName</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">NotNull</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Range</span><span class=\"mtk1\">(min = </span><span class=\"mtk7\">1000</span><span class=\"mtk1\">, max = </span><span class=\"mtk7\">1000000</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">price</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">NotNull</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Max</span><span class=\"mtk1\">(value = </span><span class=\"mtk7\">9999</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">quantity</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// controller</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Slf4j</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Controller</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">RequestMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/validation/v4/items&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">RequiredArgsConstructor</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ValidationItemControllerV4</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">PostMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/add&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">addItem</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">Validated</span><span class=\"mtk1\"> @</span><span class=\"mtk10\">ModelAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;item&quot;</span><span class=\"mtk1\">) </span><span class=\"mtk10\">ItemSaveForm</span><span class=\"mtk1\"> </span><span class=\"mtk12\">form</span><span class=\"mtk1\">, </span><span class=\"mtk10\">BindingResult</span><span class=\"mtk1\"> </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">, </span><span class=\"mtk10\">RedirectAttributes</span><span class=\"mtk1\"> </span><span class=\"mtk12\">redirectAttributes</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Model</span><span class=\"mtk1\"> </span><span class=\"mtk12\">model</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">// 특정 필드 예외가 아닌 전체 예외</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">form</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk12\">form</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">() != </span><span class=\"mtk4\">null</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk10\">int</span><span class=\"mtk1\"> </span><span class=\"mtk12\">resultPrice</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">form</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">() * </span><span class=\"mtk12\">form</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (resultPrice &lt; </span><span class=\"mtk7\">10000</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">reject</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;totalPriceMin&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[]{</span><span class=\"mtk7\">10000</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                        resultPrice}, </span><span class=\"mtk4\">null</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">//검증에 실패하면 다시 입력 폼으로</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">bindingResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">hasErrors</span><span class=\"mtk1\">()) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;errors = {}&quot;</span><span class=\"mtk1\">, bindingResult);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;validation/v4/addForm&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">Item</span><span class=\"mtk1\"> </span><span class=\"mtk12\">item</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Item</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setItemName</span><span class=\"mtk1\">(</span><span class=\"mtk12\">form</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getItemName</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setPrice</span><span class=\"mtk1\">(</span><span class=\"mtk12\">form</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrice</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setQuantity</span><span class=\"mtk1\">(</span><span class=\"mtk12\">form</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getQuantity</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">Item</span><span class=\"mtk1\"> </span><span class=\"mtk12\">savedItem</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">itemRepository</span><span class=\"mtk1\">.</span><span class=\"mtk11\">save</span><span class=\"mtk1\">(item);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">redirectAttributes</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;itemId&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">savedItem</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getId</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">redirectAttributes</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;status&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">true</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;redirect:/validation/v4/items/{itemId}&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h4 id=\"http-message-converter\" style=\"position:relative;\"><a href=\"#http-message-converter\" aria-label=\"http message converter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP Message Converter</h4>\n<p><code>@Valid</code>, <code>@Validated</code>는 <code>HttpMessageConverter</code>인 <code>@RequestBody</code>에도 적용 가능</p>\n<p>참고로</p>\n<p><code>ModelAttribute</code>는 HTTP 요청 파라미터(URL 쿼리 스트링, POST Form)에 사용<br>\n<code>@RequestBody</code>는 HTTP Body의 데이터를 객체로 변환할 때 사용 -> 주로 API JSON 요청을 다룰 때 사용</p>\n<p>API의 경우 3가지 결과</p>\n<ul>\n<li>성공</li>\n<li>Json 객체 생성 실패</li>\n<li>검증 실패</li>\n</ul>\n<p>응답은 BindingResult의 필요한 데이터만 뽑아서 별도의 API 스펙을 정의하고 맞는 객체를 반환</p>\n<p><code>@ModelAttribute</code>는 필드 단위로 정교하게 바인딩 적용<br>\n-> 특정 필드가 바인딩 되지 않아도 나머지 필드는 정상 바인딩, Validator를 사용한 검증 적용 가능</p>\n<p><code>@RequestBody</code>는 HttpMessageConverter 단계에서 JSON데이터를 객체로 변경하지 못하면 이후 단계가 진행되지 않고 예외 발생</p>\n<hr>\n<p>Springboot + jpa를 사용한 프로젝트의 validate는 따로 글을 작성해서 정리한다.</p>\n<p><a href=\"\"></a></p>\n<h1 id=\"6-로그인-처리-1-쿠키-세션\" style=\"position:relative;\"><a href=\"#6-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%B2%98%EB%A6%AC-1-%EC%BF%A0%ED%82%A4-%EC%84%B8%EC%85%98\" aria-label=\"6 로그인 처리 1 쿠키 세션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 로그인 처리 1 (쿠키, 세션)</h1>\n<p>패키지 설계할 때 <code>domain</code>과 <code>web</code>단을 구분한다.</p>\n<p>도메인 : 화면, UI, 인프라 영역을 제외한 시스템이 구현해야 하는 핵심 비즈니스 업무 영역</p>\n<p>이렇게 구성하면 <strong>web은 domain을 알고 있지만 의존하지만, domain은 web에 의존하지 않는다.</strong></p>\n<h4 id=\"쿠키\" style=\"position:relative;\"><a href=\"#%EC%BF%A0%ED%82%A4\" aria-label=\"쿠키 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠키</h4>\n<p>사용자의 로그인을 유지하기 위해선 웹브라우저엔 <code>쿠키</code>값을 가지고 서버는 <code>세션</code>값을 유지한다.</p>\n<p>쿠키에는 영속 쿠키와 세션 쿠키가 있는데</p>\n<p>영속 쿠키 : 만료 날짜를 입력하면 해당 날짜까지 유지<br>\n세션 쿠키 : 만료 날짜는 생략하면 브라우저 종료 시 까지만 유지</p>\n<p>쿠키 사용 시 값을 그대로 노출하면 보안 상 문제 -> 임의의 랜덤 토큰값을 노출하고</p>\n<p>서버세어 토큰과 사용자 id를 매핑하여 인식</p>\n<p>처리방법</p>\n<ol>\n<li>생성 시 <code>HttpSession</code> 사용</li>\n<li>검증 시 <code>HttpSession</code> 사용 or <code>@SessionAttribute</code> 사용</li>\n</ol>\n<hr>\n<ol>\n<li>httpSession 사용</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"1934698332293982500\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`request.getSession(true);\r\n\r\nrequest.getSession(false);`, `1934698332293982500`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"27\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getSession</span><span class=\"mtk1\">(</span><span class=\"mtk4\">true</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getSession</span><span class=\"mtk1\">(</span><span class=\"mtk4\">false</span><span class=\"mtk1\">);</span></span></span></code></pre>\n<p>request.getSession() 사용</p>\n<ul>\n<li>세션이 있으면 기존 세션 반환</li>\n</ul>\n<p>true값을 넘길 경우</p>\n<ul>\n<li>세션이 없으면 새로운 세션 생성 후 반환</li>\n</ul>\n<p>false값을 넘길 경우</p>\n<ul>\n<li>세션이 없으면 새로운 세션 생성x -> null 반환</li>\n</ul>\n<hr>\n<ol start=\"2\">\n<li><code>@SessionAttribete</code></li>\n</ol>\n<p>이미 로그인 된 사용자를 찾을 때는</p>\n<p><code>@SessionAttribute(name=\"loginMember\", required = false) Member loginMember</code></p>\n<p>사용해서 해당값을 검증한다.</p>\n<hr>\n<p>추가로 웹 브라우저가 쿠키를 지원하지 않을 땐 쿠키 대신 URL을 통해서 세션을 유지시키는데</p>\n<p>해당 기능을 끄기 위해선 <code>application.properties</code>에 다음과 같이 추가한다</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"28\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">server.servlet.session.tracking-modes=cookie</span></span></code></pre>\n<hr>\n<p>세션 데이터를 확인해보면 다음과 같은 값들이 존재한다.</p>\n<ul>\n<li><code>sessionId</code> : 세션Id, <code>JSESSIONID</code> 값 예) <code>34B14F008AA3527C9F8ED620EFD7A4E1</code></li>\n<li><code>maxInactiveInterval</code> : 세션의 유효 시간, 예) 1800초, (30분)</li>\n<li><code>creationTime</code> : 세션 생성일시</li>\n<li><code>lastAccessedTime </code> : 사용자가 최근 서버 접근 시간, 클라이언트에서 서버로 <code>sessionId</code> : ( <code>JSESSIONID</code> )를 요청한 경우에 갱신된다.</li>\n<li><code>isNew</code> : 새로 생성된 세션인지, 아니면 이미 과거에 만들어졌고, 클라이언트에서 서버로 <code>sessionId</code>(<code>JSESSIONID</code>)를 요청해서 조회된 세션인지 여부</li>\n</ul>\n<hr>\n<p>세션의 종료 시점을 설정하기 위해선 <code>application.properties</code>에 다음과 같이 추가</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"29\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">server.servlet.session.timeout=1800 # 30분(1800초)가 default</span></span></code></pre>\n<p><code>lastAccessedTime</code>이후로 timeout시간이 지나게 되면, WAS가 내부에서 해당 세션값 제거</p>\n<hr>\n<p>세션은 기본적으로 메모리에 저장되는데 실무에서 사용 시 session storage를 추가해 사용한다.</p>\n<h1 id=\"7-로그인-처리-2-필터-인터셉터\" style=\"position:relative;\"><a href=\"#7-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%B2%98%EB%A6%AC-2-%ED%95%84%ED%84%B0-%EC%9D%B8%ED%84%B0%EC%85%89%ED%84%B0\" aria-label=\"7 로그인 처리 2 필터 인터셉터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. 로그인 처리 2 (필터, 인터셉터)</h1>\n<h2 id=\"71-서블릿-필터\" style=\"position:relative;\"><a href=\"#71-%EC%84%9C%EB%B8%94%EB%A6%BF-%ED%95%84%ED%84%B0\" aria-label=\"71 서블릿 필터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.1 서블릿 필터</h2>\n<h4 id=\"필터-흐름\" style=\"position:relative;\"><a href=\"#%ED%95%84%ED%84%B0-%ED%9D%90%EB%A6%84\" aria-label=\"필터 흐름 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>필터 흐름</h4>\n<p>HTTP 요청 -> WAS -> 필터 -> 서블릿 -> 컨트롤러</p>\n<p>필터 인터페이스</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"51537109275489310000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`public interface Filter {\r\n  pulibc default void init(FilterConfig filterConfig) throws ServletException{}\r\n\r\n  public void doFilter(ServletRequest request, ServletResponse response, Filter Chain chain) throws IOException, ServletException;\r\n\r\n  public default void destroy() {]}\r\n}\r\n`, `51537109275489310000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"30\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Filter</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  pulibc default </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">init</span><span class=\"mtk1\">(</span><span class=\"mtk10\">FilterConfig</span><span class=\"mtk1\"> </span><span class=\"mtk12\">filterConfig</span><span class=\"mtk1\">) </span><span class=\"mtk4\">throws</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ServletException</span><span class=\"mtk1\">{}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">doFilter</span><span class=\"mtk1\">(</span><span class=\"mtk10\">ServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">request</span><span class=\"mtk1\">, </span><span class=\"mtk10\">ServletResponse</span><span class=\"mtk1\"> </span><span class=\"mtk12\">response</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Filter</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Chain</span><span class=\"mtk1\"> </span><span class=\"mtk12\">chain</span><span class=\"mtk1\">) </span><span class=\"mtk4\">throws</span><span class=\"mtk1\"> </span><span class=\"mtk10\">IOException</span><span class=\"mtk1\">, </span><span class=\"mtk10\">ServletException</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">default</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">destroy</span><span class=\"mtk1\">() {]}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>필터 인터페이스를 구현하고 등록하면 서블릿 컨테이너가 필터를 싱글톤 객체로 생성 후 관리</p>\n<ul>\n<li><code>init():</code> 필터 초기화 메서드, 서블릿 컨테이너가 생성될 때 호출</li>\n<li><code>doFilter():</code> 고객의 요청이 올 때 마다 해당 메서드가 호출 (필터 로직 구현)</li>\n<li><code>destroy():</code> 필터 종료 메서드, 서블릿 컨테이너가 종료 시 호출</li>\n</ul>\n<p>webconfig를 만들어 filter등록</p>\n<p>log filter test</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"34205541785197126000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// LogFilter\r\n@Slf4j\r\npublic class LogFilter implements Filter {\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        log.info(&quot;log filter init&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n        String requestURI = httpRequest.getRequestURI();\r\n        String uuid = UUID.randomUUID().toString();\r\n        try {\r\n            log.info(&quot;REQUEST  [{}][{}]&quot;, uuid, requestURI);\r\n            chain.doFilter(request, response);\r\n        } catch (Exception e) {\r\n            throw e;\r\n        } finally {\r\n            log.info(&quot;RESPONSE [{}][{}]&quot;, uuid, requestURI);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n        log.info(&quot;log filter destroy&quot;);\r\n    }\r\n}\r\n\r\n// WebConfig\r\n@Configuration\r\n public class WebConfig {\r\n     @Bean\r\n     public FilterRegistrationBean logFilter() {\r\n        FilterRegistrationBean<Filter> filterRegistrationBean = new FilterRegistrationBean<>();\r\n\r\n        filterRegistrationBean.setFilter(new LogFilter());\r\n        filterRegistrationBean.setOrder(1);\r\n        filterRegistrationBean.addUrlPatterns(&quot;/*&quot;);\r\n\r\n        return filterRegistrationBean;\r\n  }\r\n}`, `34205541785197126000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"31\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// LogFilter</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Slf4j</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">LogFilter</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Filter</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">init</span><span class=\"mtk1\">(</span><span class=\"mtk10\">FilterConfig</span><span class=\"mtk1\"> </span><span class=\"mtk12\">filterConfig</span><span class=\"mtk1\">) </span><span class=\"mtk4\">throws</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ServletException</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;log filter init&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">doFilter</span><span class=\"mtk1\">(</span><span class=\"mtk10\">ServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">request</span><span class=\"mtk1\">, </span><span class=\"mtk10\">ServletResponse</span><span class=\"mtk1\"> </span><span class=\"mtk12\">response</span><span class=\"mtk1\">, </span><span class=\"mtk10\">FilterChain</span><span class=\"mtk1\"> </span><span class=\"mtk12\">chain</span><span class=\"mtk1\">) </span><span class=\"mtk4\">throws</span><span class=\"mtk1\"> </span><span class=\"mtk10\">IOException</span><span class=\"mtk1\">, </span><span class=\"mtk10\">ServletException</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">httpRequest</span><span class=\"mtk1\"> = (HttpServletRequest) request;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">requestURI</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">httpRequest</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getRequestURI</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">uuid</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">UUID</span><span class=\"mtk1\">.</span><span class=\"mtk11\">randomUUID</span><span class=\"mtk1\">().</span><span class=\"mtk11\">toString</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">try</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;REQUEST  [{}][{}]&quot;</span><span class=\"mtk1\">, uuid, requestURI);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">chain</span><span class=\"mtk1\">.</span><span class=\"mtk11\">doFilter</span><span class=\"mtk1\">(request, response);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        } </span><span class=\"mtk15\">catch</span><span class=\"mtk1\"> (</span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> </span><span class=\"mtk12\">e</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> e;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        } </span><span class=\"mtk15\">finally</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;RESPONSE [{}][{}]&quot;</span><span class=\"mtk1\">, uuid, requestURI);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">destroy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;log filter destroy&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// WebConfig</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebConfig</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">     @</span><span class=\"mtk10\">Bean</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">     </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">FilterRegistrationBean</span><span class=\"mtk1\"> </span><span class=\"mtk11\">logFilter</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">FilterRegistrationBean</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">Filter</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">filterRegistrationBean</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">FilterRegistrationBean</span><span class=\"mtk1\">&lt;&gt;();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">filterRegistrationBean</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setFilter</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">LogFilter</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">filterRegistrationBean</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setOrder</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">filterRegistrationBean</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addUrlPatterns</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/*&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> filterRegistrationBean;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>필터를 등록하는 방법은 여러가지 있지만, FilterRegistrationBean을 사용해 등록</p>\n<p><code>@ServletComponentScan @WebFilter(filterName = \"logFilter\", urlPatterns = \"/*)</code> 어노테이션을 사용해 필터 등록이 가능하지만, 이 경우엔 필터 순서 조절 불가능<br>\n-> FilterRegistrationBean 사용 권장</p>\n<hr>\n<h2 id=\"72-스프링-인터셉터\" style=\"position:relative;\"><a href=\"#72-%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9D%B8%ED%84%B0%EC%85%89%ED%84%B0\" aria-label=\"72 스프링 인터셉터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.2 스프링 인터셉터</h2>\n<p>서블릿 필터 -> 서블릿이 제공<br>\n스프링 인터셉터 -> 스프링 MVC가 제공</p>\n<p>둘 다 웹과 관련된 공통 관심 사항 처리</p>\n<h4 id=\"스프링-인터셉터-흐릅\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9D%B8%ED%84%B0%EC%85%89%ED%84%B0-%ED%9D%90%EB%A6%85\" aria-label=\"스프링 인터셉터 흐릅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링 인터셉터 흐릅</h4>\n<p>HTTP요청 -> WAS -> <strong>필터</strong> -> 서블릿 -> <strong>스프링 인터셉터</strong> -> 컨트롤러</p>\n<ul>\n<li>디스패처 서블릿과 컨트롤러 사이에 호출</li>\n<li>스프링 인터셉터는 스프링 MVC가 제공하는 기능이기 떄문에 디스패처 서블릿 이후 동작</li>\n<li>서블릿 URL보다 정밀하게 설정 가능</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"50341991550504165000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`public interface HandlerInterceptor {\r\n\r\n\tdefault boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tdefault void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\t@Nullable ModelAndView modelAndView) throws Exception {\r\n\t}\r\n\r\n\tdefault void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\t@Nullable Exception ex) throws Exception {\r\n\t}\r\n}\r\n`, `50341991550504165000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"32\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HandlerInterceptor</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk4\">default</span><span class=\"mtk1\"> </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> </span><span class=\"mtk11\">preHandle</span><span class=\"mtk1\">(</span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">request</span><span class=\"mtk1\">, </span><span class=\"mtk10\">HttpServletResponse</span><span class=\"mtk1\"> </span><span class=\"mtk12\">response</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> </span><span class=\"mtk12\">handler</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t</span><span class=\"mtk4\">throws</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk4\">default</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">postHandle</span><span class=\"mtk1\">(</span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">request</span><span class=\"mtk1\">, </span><span class=\"mtk10\">HttpServletResponse</span><span class=\"mtk1\"> </span><span class=\"mtk12\">response</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> </span><span class=\"mtk12\">handler</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t@</span><span class=\"mtk10\">Nullable</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ModelAndView</span><span class=\"mtk1\"> </span><span class=\"mtk12\">modelAndView</span><span class=\"mtk1\">) </span><span class=\"mtk4\">throws</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk4\">default</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">afterCompletion</span><span class=\"mtk1\">(</span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">request</span><span class=\"mtk1\">, </span><span class=\"mtk10\">HttpServletResponse</span><span class=\"mtk1\"> </span><span class=\"mtk12\">response</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> </span><span class=\"mtk12\">handler</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t\t@</span><span class=\"mtk10\">Nullable</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ex</span><span class=\"mtk1\">) </span><span class=\"mtk4\">throws</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<ul>\n<li>서블릿 필터는 <code>doFilter()</code>만 제공이 됐는데, 인터셉터는 컨트롤러 호출 전(<code>preHandle</code>), 호출 후 (<code>postHandle</code>), 요청 완료 이후 (<code>afterCompletion</code>)으로 분리</li>\n<li>어떤 컨트롤러가 호출 되는지 호출 정보 활용 가능</li>\n</ul>\n<p>preHandle()</p>\n<ul>\n<li>핸들러 실행 전의 인터셉션 지점</li>\n<li>HandlerMapping이 적절한 핸들러 객체를 결정한 후 HandlerAdapter가 핸들러를 호출하기 전에 호출</li>\n<li>컨트롤러 이전에 처리해야 되는 전처리 작업</li>\n<li>3번째 파라미터 handler 파라미터는 컨트롤러 빈에 매핑되는 HandlerMethod라는 새로운 타입의 객체로써, @RequestMapping이 붙은 메소드의 정보를 추상화한 객체</li>\n<li>preHandle의 반환 값이 true면 다음 단계로 진행, false면 이후 작업은 진행되지 않음.</li>\n</ul>\n<p>postHandle()</p>\n<ul>\n<li>핸들러가 성공적으로 실행된 후의 인터셉션 지점</li>\n<li>HandlerAdapter가 핸들러를 호출한 후 DispatcherServlet이 뷰를 렌더링하기 전에 호출</li>\n<li>지정된 ModelAndView를 통해 뷰에 추가 모델 객체를 노출할 수 있다.</li>\n<li>컨트롤러 이후 처리해야 되는 후처리 작업</li>\n</ul>\n<p>afterCompletion()</p>\n<ul>\n<li>요청 처리가 완료된 후, 즉 뷰를 렌더링한 후 호출</li>\n<li>핸들러 실행의 모든 결과에 대해 호출되므로 적절한 리소스 정리 가능</li>\n<li>afterCompletion은 컨트롤러 중간에 예외가 터지더라도 호출</li>\n</ul>\n<h4 id=\"인터셉터-정상-흐름\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%ED%84%B0%EC%85%89%ED%84%B0-%EC%A0%95%EC%83%81-%ED%9D%90%EB%A6%84\" aria-label=\"인터셉터 정상 흐름 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인터셉터 정상 흐름</h4>\n<p>preHandle 호출 -> 컨트롤러 -> postHandle 호출 -> 뷰 렌더링 -> afterCompletion 호출</p>\n<h4 id=\"인터셉터-예외-발생-시\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%ED%84%B0%EC%85%89%ED%84%B0-%EC%98%88%EC%99%B8-%EB%B0%9C%EC%83%9D-%EC%8B%9C\" aria-label=\"인터셉터 예외 발생 시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인터셉터 예외 발생 시</h4>\n<p>preHandle 호출 -> 컨트롤러 예외 발생 -> 예외 전달 되면 postHandle 호출 x<br>\n-> afterCompletion은 항상 호출 (예외를 파라미터로 받아 어떤 예외인지 오류 출력 가능)</p>\n<p>예외와 무관하게 공통 처리를 하려면 <code>afterCompletion()</code> 사용</p>\n<h2 id=\"73-argumentresolver-활용\" style=\"position:relative;\"><a href=\"#73-argumentresolver-%ED%99%9C%EC%9A%A9\" aria-label=\"73 argumentresolver 활용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7.3 Argumentresolver 활용</h2>\n<p><strong>Argumentresolver란 주어진 요청을 처리할 때, 메서드 파라미터를 인자값들에 주입시켜주는 전략 인터페이스</strong></p>\n<p>쿼리 스트링 변수에 바인딩 -> @RequestParam<br>\n가변적인 경로를 바인딩 -> @PathVariable<br>\nHTTP Body 바인딩 -> @RequestBody</p>\n<p>HTTP Header, Session, Cookie 등 직접적이지 않은 방식 혹은 외부 데이터 저장소로부터 데이터를 바인딩해야할 땐 -> Argument Resolver 사용</p>\n<p>Argument Resolver를 사용하면 컨트롤러 요청에 있는 메서드의 파라미터 중 특정 조건에 맞는 파라미터를 이용해 원하는 객체를 만들어 바인딩 가능</p>\n<p>Argument Resolver를 사용하지 않고 Controller에서 처리할 수 있지만, 사용하면 반복되는 복잡한 로직 없이 깔끔하게 코드 관리 가능</p>\n<h4 id=\"구현-방법\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95\" aria-label=\"구현 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구현 방법</h4>\n<ol>\n<li><code>HandlerMethodArgumentResolver</code>를 상속한 <code>resolver</code> 구현</li>\n<li>WebConfig 등록</li>\n<li>여기까지 하면 특정 class에 대한 검증, 바인딩이 가능한데 특정 조건에 맞을 때만 검증하고 싶을 떈 <code>어노테이션</code>을 구현해 입력값에 어노테이션을 붙여준다.</li>\n</ol>\n<p>resolver</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"28559489474723176000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@Slf4j\r\npublic class LoginMemberArgumentResolver implements HandlerMethodArgumentResolver {\r\n\r\n    @Override\r\n    public boolean supportsParameter(MethodParameter parameter) {\r\n        log.info(&quot;supportsParameter 실행&quot;);\r\n\r\n        boolean hasLoginAnnotations = parameter.hasParameterAnnotation(Login.class);\r\n        boolean hasMemberType = Member.class.isAssignableFrom(parameter.getParameterType());\r\n\r\n        return hasLoginAnnotations && hasMemberType;\r\n\r\n    }\r\n\r\n    @Override\r\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\r\n        log.info(&quot;resolveArgument 실행&quot;);\r\n        HttpServletRequest request = (HttpServletRequest) webRequest.getNativeRequest();\r\n        HttpSession session = request.getSession(false);\r\n        if (session == null) {\r\n            return null;\r\n        }\r\n        return session.getAttribute(SessionConst.LOGIN_MEMBER);\r\n    }\r\n}`, `28559489474723176000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"33\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Slf4j</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">LoginMemberArgumentResolver</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HandlerMethodArgumentResolver</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> </span><span class=\"mtk11\">supportsParameter</span><span class=\"mtk1\">(</span><span class=\"mtk10\">MethodParameter</span><span class=\"mtk1\"> </span><span class=\"mtk12\">parameter</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;supportsParameter 실행&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> </span><span class=\"mtk12\">hasLoginAnnotations</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">parameter</span><span class=\"mtk1\">.</span><span class=\"mtk11\">hasParameterAnnotation</span><span class=\"mtk1\">(</span><span class=\"mtk12\">Login</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> </span><span class=\"mtk12\">hasMemberType</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">Member</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">.</span><span class=\"mtk11\">isAssignableFrom</span><span class=\"mtk1\">(</span><span class=\"mtk12\">parameter</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getParameterType</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> hasLoginAnnotations &amp;&amp; hasMemberType;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> </span><span class=\"mtk11\">resolveArgument</span><span class=\"mtk1\">(</span><span class=\"mtk10\">MethodParameter</span><span class=\"mtk1\"> </span><span class=\"mtk12\">parameter</span><span class=\"mtk1\">, </span><span class=\"mtk10\">ModelAndViewContainer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">mavContainer</span><span class=\"mtk1\">, </span><span class=\"mtk10\">NativeWebRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">webRequest</span><span class=\"mtk1\">, </span><span class=\"mtk10\">WebDataBinderFactory</span><span class=\"mtk1\"> </span><span class=\"mtk12\">binderFactory</span><span class=\"mtk1\">) </span><span class=\"mtk4\">throws</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;resolveArgument 실행&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">request</span><span class=\"mtk1\"> = (HttpServletRequest) </span><span class=\"mtk12\">webRequest</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getNativeRequest</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">HttpSession</span><span class=\"mtk1\"> </span><span class=\"mtk12\">session</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getSession</span><span class=\"mtk1\">(</span><span class=\"mtk4\">false</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (session == </span><span class=\"mtk4\">null</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">null</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">session</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk12\">SessionConst</span><span class=\"mtk1\">.</span><span class=\"mtk12\">LOGIN_MEMBER</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><code>supportsParameter</code> : 주어진 파라미터가 Argument Resolver에서 지원하는 타입인지 검사<br>\n<code>resolveArgument</code> : 반환값이 대상이 되는 메소드의 파라미터에 바인딩</p>\n<p>webConfig</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"90819646488565710000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addArgumentResolvers(List<HandlerMethodArgumentResolver> resolvers) {\r\n        resolvers.add(new LoginMemberArgumentResolver());\r\n    }\r\n\r\n    ...\r\n\r\n}`, `90819646488565710000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"34\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebConfig</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebMvcConfigurer</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">addArgumentResolvers</span><span class=\"mtk1\">(</span><span class=\"mtk10\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">HandlerMethodArgumentResolver</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">resolvers</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">resolvers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">LoginMemberArgumentResolver</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>annotation</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"60773649577437180000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@Target(ElementType.PARAMETER)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Login {\r\n}`, `60773649577437180000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"35\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Target</span><span class=\"mtk1\">(</span><span class=\"mtk12\">ElementType</span><span class=\"mtk1\">.</span><span class=\"mtk12\">PARAMETER</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Retention</span><span class=\"mtk1\">(</span><span class=\"mtk12\">RetentionPolicy</span><span class=\"mtk1\">.</span><span class=\"mtk12\">RUNTIME</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> @</span><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Login</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><code>@Target</code> : 파라미터에만 사용 정의<br>\n<code>@Retention</code> : 리플렉션 등을 활용할 수 있게 런타임까지 어노테이션 정보가 남아있게 설정</p>\n<p>Controller</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"53569555039644050000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`    @GetMapping(&quot;&quot;)\r\n    public String homeLoginV3ArgumentResolver(@Login Member loginMember, Model model) {\r\n        //세션이 없으면 home\r\n        if (loginMember == null) {\r\n            return &quot;home&quot;;\r\n        }\r\n        //세션이 유지되면 로그인으로 이동\r\n        model.addAttribute(&quot;member&quot;, loginMember);\r\n        return &quot;loginHome&quot;;\r\n    }`, `53569555039644050000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"36\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">GetMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">homeLoginV3ArgumentResolver</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">Login</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Member</span><span class=\"mtk1\"> loginMember, </span><span class=\"mtk10\">Model</span><span class=\"mtk1\"> model) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">//세션이 없으면 home</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (loginMember == </span><span class=\"mtk4\">null</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;home&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">//세션이 유지되면 로그인으로 이동</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">model</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;member&quot;</span><span class=\"mtk1\">, loginMember);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;loginHome&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span></code></pre>\n<h1 id=\"8-예외-처리와-오류-페이지\" style=\"position:relative;\"><a href=\"#8-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC%EC%99%80-%EC%98%A4%EB%A5%98-%ED%8E%98%EC%9D%B4%EC%A7%80\" aria-label=\"8 예외 처리와 오류 페이지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8. 예외 처리와 오류 페이지</h1>\n<h2 id=\"81-서블릿-컨테이너의-예외-처리\" style=\"position:relative;\"><a href=\"#81-%EC%84%9C%EB%B8%94%EB%A6%BF-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%9D%98-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC\" aria-label=\"81 서블릿 컨테이너의 예외 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.1 서블릿 컨테이너의 예외 처리</h2>\n<p>2가지 방식으로 예외 처리 지원</p>\n<ol>\n<li><code>Exception</code></li>\n<li><code>response.sendError(Http 상태 코드, 오류 메세지)</code></li>\n</ol>\n<p>톰캣은 기본적으로 오류가 났을 땐 <code>500에러</code>, 페이지(리소스) 없을 땐 <code>404에러</code> 반환</p>\n<p>다른 화면을 보여주고 싶을 땐 에러 코드에 대한 리턴 주소를 지정하고 컨트롤러에서 화면을 정의한다.</p>\n<p>추가로 WAS는 오류 페이지를 단순히 다시 요청만 하는 것이 아니라, 오류 정보를 <code>request</code>와 <code>attribute</code>에 추가해서 넘겨준다.</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"88762413782493680000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@Component\r\npublic class WebServerCustomizer implements WebServerFactoryCustomizer<ConfigurableWebServerFactory> {\r\n    @Override\r\n    public void customize(ConfigurableWebServerFactory factory) {\r\n\r\n        ErrorPage errorPage404 = new ErrorPage(HttpStatus.NOT_FOUND, &quot;/error-page/404&quot;);\r\n        ErrorPage errorPage500 = new ErrorPage(HttpStatus.INTERNAL_SERVER_ERROR, &quot;/error-page/500&quot;);\r\n\r\n        ErrorPage errorPageEx = new ErrorPage(RuntimeException.class, &quot;/error-page/500&quot;);\r\n\r\n        factory.addErrorPages(errorPage404, errorPage500, errorPageEx);\r\n    }\r\n}\r\n\r\n@RequestMapping(&quot;/error-page/404&quot;)\r\npublic String errorPage404(HttpServletRequest request, HttpServletResponse response) {\r\n    log.info(&quot;errorPage 404&quot;);\r\n    printErrorInfo(request);\r\n    return &quot;error-page/404&quot;;\r\n}\r\n\r\n...\r\n`, `88762413782493680000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"37\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Component</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebServerCustomizer</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebServerFactoryCustomizer</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">ConfigurableWebServerFactory</span><span class=\"mtk1\">&gt; {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">customize</span><span class=\"mtk1\">(</span><span class=\"mtk10\">ConfigurableWebServerFactory</span><span class=\"mtk1\"> </span><span class=\"mtk12\">factory</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">ErrorPage</span><span class=\"mtk1\"> </span><span class=\"mtk12\">errorPage404</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ErrorPage</span><span class=\"mtk1\">(</span><span class=\"mtk12\">HttpStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">NOT_FOUND</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;/error-page/404&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">ErrorPage</span><span class=\"mtk1\"> </span><span class=\"mtk12\">errorPage500</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ErrorPage</span><span class=\"mtk1\">(</span><span class=\"mtk12\">HttpStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">INTERNAL_SERVER_ERROR</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;/error-page/500&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">ErrorPage</span><span class=\"mtk1\"> </span><span class=\"mtk12\">errorPageEx</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ErrorPage</span><span class=\"mtk1\">(</span><span class=\"mtk12\">RuntimeException</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;/error-page/500&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">factory</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addErrorPages</span><span class=\"mtk1\">(errorPage404, errorPage500, errorPageEx);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">RequestMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/error-page/404&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">errorPage404</span><span class=\"mtk1\">(</span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> request, </span><span class=\"mtk10\">HttpServletResponse</span><span class=\"mtk1\"> response) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;errorPage 404&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">printErrorInfo</span><span class=\"mtk1\">(request);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;error-page/404&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>지정한 <code>response.sendError</code>를 통해 전달 된 httpStatus 상태나 <code>Exception</code> 발생 시 처리 -> 해당 controller를 만들어 리턴한다.</p>\n<p>구현된 부분의 흐름을 살펴보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f897138fadf0a31118b2309f1b27577d/a7dde/springArchi.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACXElEQVR42n2SW1PaUBRG/d197A/oUx/azrQPnda2U229ixQveEEgEIMhRIFRiOR+sRKCoOLqIdbqU/fMN3N2ztkr39n7zEwmE57H/f09URgxHo/5X0zrpmef10/XM9fX19i2jWEYWJZFEAaca12aegtT5KZpY9ketuOK3KRnmuKbSavdptls0jlrEXk2vmMRxzEznuelMMdxUmDP6tFpdGi2Tun0Ori9OtdRDaMtU6vKRK7NVi7L+voqUqVKZr/BQqHB0u5RykiBU02j348xzC6qJiOfFOgGbfq2SmLkMJsSqqIzHtywny9zkN9DLdRY+qgwt6qwtHWcclKg7/sMh0OGyZALq0ulcsiOlEFtKFhyBaO6yoVcJPdjh8X5Aq/e1Sktz2MpS9RL50INNFlPOTNhGKY9fHDqY7kmSk1C0nfRTo/pmzqMjwjNGtnsFrM/c7x4qyAdzBKczaGe68jNQ+otJa1PgZeXlwwGAwbxgCDyWdn+wpvMS/ara9xGo+ns6V9dkd3M83Uuy6fvEtrOLLa2QPmkzN7xBhWt8HDlKTCKIvpxn1j00AtdDso51spfUPQiN+Hwb3+v2MwX2NguY2x9xsh84KySp95RkfUCalPGc70nh/EgFg4TvMilWipSPNpBP60zDpIUGEWX1FWVyd2Eu5H4yd2Y0HPZrS+zIr9nT90g8MIHYBAEXIkrTeX4Dg1RqEhVNEmj7/9mJNxbXTF9WeY2SUjEuZFokdczyZS+Mbv/ml/lRQJfAEejUTqdRz0+ozQPfFzhwnGf5Iq9f2sh3wkI3QjX8UiShD+O8xumCcD0NAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f897138fadf0a31118b2309f1b27577d/a81b5/springArchi.webp 163w,\n/static/f897138fadf0a31118b2309f1b27577d/da3ef/springArchi.webp 325w,\n/static/f897138fadf0a31118b2309f1b27577d/309d5/springArchi.webp 650w,\n/static/f897138fadf0a31118b2309f1b27577d/78344/springArchi.webp 975w,\n/static/f897138fadf0a31118b2309f1b27577d/bdb72/springArchi.webp 1300w,\n/static/f897138fadf0a31118b2309f1b27577d/0fd57/springArchi.webp 1564w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f897138fadf0a31118b2309f1b27577d/5e043/springArchi.png 163w,\n/static/f897138fadf0a31118b2309f1b27577d/e5cc6/springArchi.png 325w,\n/static/f897138fadf0a31118b2309f1b27577d/663f3/springArchi.png 650w,\n/static/f897138fadf0a31118b2309f1b27577d/d880f/springArchi.png 975w,\n/static/f897138fadf0a31118b2309f1b27577d/4c573/springArchi.png 1300w,\n/static/f897138fadf0a31118b2309f1b27577d/a7dde/springArchi.png 1564w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f897138fadf0a31118b2309f1b27577d/663f3/springArchi.png\"\n            alt=\"springArchi\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><a href=\"https://gowoonsori.com/spring/architecture/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://gowoonsori.com/spring/architecture/</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/adb67927c19f786e61761263267460bc/fd251/filterInterceptorAOP.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.239263803680984%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACD0lEQVR42lWSbU/aUBiG+f//YcmW+cUl0y1RWTaoMnnHtlKg5ZSW2kMLpbxGQEXEa4e5JdtJnpxv13Pf93NnXoG/87Lfs93teN1DvBxgjyy6iU13YlMRFS5NDc3Mc926oqD+ilNCTB26aYfOuEU4vyPDAXagqTecPVEVa+4fdgySPnHTJlLT8k1qfpuacMg3y9RLF8hCln4tjxObLKYN1ssqUi3OJLMFQkaMZjNk+kCukSB8STjwmJouY0PgKFija3NVMzB9gTCLTL6f0bs4od6+4j4pwaZBrNRmOkHIF+0nhughxyuK7RnDdEEgXaYtj/TWpVDVuG43sWSCHnv4Rp7Vt1Oqxx840064Ez/gySA6AP+1HCYPnFcSlpsXYmXZzpVxchU6/i1F2+JSb1MNbILmJfLTR2T+DD+xWAyLLGON+GC5PxpRNC16UayAKzQ9IR7PkZFSUtRxtBoNq0qpY1F1+jQGLp6Rwzt6R5D9jDvSeZpX2M7Lb5bdQcS10aQbSgbpRqlIcP3wt+VZy2diCmq3RSquTTMcoocqQ12pOT8l0M5xpM52aagMb96A/1keP6orblisd8SjPlNdsDA8RNjiRvbRvUgBXVrlLN2j93S+HtOVNzwvGrCuK6D9Btz/IS5Xz3jxmsetynAi8RyLQKiOySZGaGMGLmbk4KpORqoygVnAGZqkE51xWldH6fELdzKDFfVNjPYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/adb67927c19f786e61761263267460bc/a81b5/filterInterceptorAOP.webp 163w,\n/static/adb67927c19f786e61761263267460bc/da3ef/filterInterceptorAOP.webp 325w,\n/static/adb67927c19f786e61761263267460bc/309d5/filterInterceptorAOP.webp 650w,\n/static/adb67927c19f786e61761263267460bc/78344/filterInterceptorAOP.webp 975w,\n/static/adb67927c19f786e61761263267460bc/bdb72/filterInterceptorAOP.webp 1300w,\n/static/adb67927c19f786e61761263267460bc/34feb/filterInterceptorAOP.webp 1742w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/adb67927c19f786e61761263267460bc/5e043/filterInterceptorAOP.png 163w,\n/static/adb67927c19f786e61761263267460bc/e5cc6/filterInterceptorAOP.png 325w,\n/static/adb67927c19f786e61761263267460bc/663f3/filterInterceptorAOP.png 650w,\n/static/adb67927c19f786e61761263267460bc/d880f/filterInterceptorAOP.png 975w,\n/static/adb67927c19f786e61761263267460bc/4c573/filterInterceptorAOP.png 1300w,\n/static/adb67927c19f786e61761263267460bc/fd251/filterInterceptorAOP.png 1742w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/adb67927c19f786e61761263267460bc/663f3/filterInterceptorAOP.png\"\n            alt=\"filterInterceptorAOP\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><a href=\"https://jake-seo-dev.tistory.com/83\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://jake-seo-dev.tistory.com/83</a></p>\n<p>예외 발생 시</p>\n<p>컨트롤러(예외 발생) -> 인터셉터 -> 서블릿 -> 필터 -> WAS(여기 까지 전달)</p>\n<p>sendError 호출 시</p>\n<p>컨트롤러(sendError) -> 인터셉터 -> 서블릿 -> 필터 -> WAS(sendError 호출 확인)</p>\n<p>이렇게 구현하면 filter나 intercepter를 2번 호출한다.</p>\n<p>즉, 요청을 구분해야 한다.</p>\n<p>WAS는 오류페이지를 단순히 요청하는 것만 아니라 오류 정보를 <code>request</code>의 <code>attribute</code>에 추가해 넘겨준다.</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"42173576444991400000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// RequestDispatcher 상수로 정의되어 있음\r\n    public static final String ERROR_EXCEPTION = &quot;javax.servlet.error.exception&quot;;\r\n    public static final String ERROR_EXCEPTION_TYPE = &quot;javax.servlet.error.exception_type&quot;;\r\n    public static final String ERROR_MESSAGE = &quot;javax.servlet.error.message&quot;;\r\n    public static final String ERROR_REQUEST_URI = &quot;javax.servlet.error.request_uri&quot;;\r\n    public static final String ERROR_SERVLET_NAME = &quot;javax.servlet.error.servlet_name&quot;;\r\n    public static final String ERROR_STATUS_CODE = &quot;javax.servlet.error.status_code&quot;;`, `42173576444991400000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"38\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// RequestDispatcher 상수로 정의되어 있음</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ERROR_EXCEPTION</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;javax.servlet.error.exception&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ERROR_EXCEPTION_TYPE</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;javax.servlet.error.exception_type&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ERROR_MESSAGE</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;javax.servlet.error.message&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ERROR_REQUEST_URI</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;javax.servlet.error.request_uri&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ERROR_SERVLET_NAME</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;javax.servlet.error.servlet_name&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ERROR_STATUS_CODE</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;javax.servlet.error.status_code&quot;</span><span class=\"mtk1\">;</span></span></span></code></pre>\n<p>서블릿은 이러한 문제를 해결하기 위해 <code>DispatcherType</code> 추가 정보 제공</p>\n<p>DispatcherType<br>\n<code>REQUEST</code> : 클라이언트 요청<br>\n<code>ERROR</code> : 오류 요청<br>\n<code>FORWARD</code> : MVC에서 배웠던 서블릿에서 다른 서블릿이나 JSP를 호출할 때 <code>RequestDispatcher.forward(request, response);</code><br>\n<code>INCLUDE</code> : 서블릿에서 다른 서블릿이나 JSP의 결과를 포함할 때 <code>RequestDispatcher.include(request, response);</code><br>\n<code>ASYNC</code> : 서블릿 비동기 호출</p>\n<p>필터나 인터셉터에 적용될 filter나 intercepter를 명시해주는데</p>\n<p><strong>필터에 조건을 추가</strong>하고 싶을 떈 <code>setDispatcherTypes</code>로 처리할 request를 명시<br>\n<strong>인터셉터에 특정 조건을 제외</strong>하고 싶을 땐 <code>excludePathPatterns</code>로 제외</p>\n<p><code>setDispatcherType</code>의 기본값은 REQUEST라 특별히 명시하지 않으면 client의 request 요청만 처리 된다.</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"76186040591841950000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// web config\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new LogInterceptor())\r\n                .order(1)\r\n                .addPathPatterns(&quot;/**&quot;)\r\n                .excludePathPatterns(&quot;/css/**&quot;, &quot;*.ico&quot;, &quot;/error&quot;, &quot;/error-page/**&quot;);//오류 페이지 경로\r\n    }\r\n\r\n    ...\r\n\r\n    // filter는 특별히 명시하지 않으면 기본 request만 처리\r\n\r\n}`, `76186040591841950000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"39\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// web config</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebConfig</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebMvcConfigurer</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">addInterceptors</span><span class=\"mtk1\">(</span><span class=\"mtk10\">InterceptorRegistry</span><span class=\"mtk1\"> </span><span class=\"mtk12\">registry</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">registry</span><span class=\"mtk1\">.</span><span class=\"mtk11\">addInterceptor</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">LogInterceptor</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">order</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">addPathPatterns</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/**&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                .</span><span class=\"mtk11\">excludePathPatterns</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/css/**&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;*.ico&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;/error&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;/error-page/**&quot;</span><span class=\"mtk1\">);</span><span class=\"mtk3\">//오류 페이지 경로</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// filter는 특별히 명시하지 않으면 기본 request만 처리</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h2 id=\"82-스프링-부트-예외-처리-페이지\" style=\"position:relative;\"><a href=\"#82-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B6%80%ED%8A%B8-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC-%ED%8E%98%EC%9D%B4%EC%A7%80\" aria-label=\"82 스프링 부트 예외 처리 페이지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.2 스프링 부트 예외 처리 페이지</h2>\n<p>서블릿에서는</p>\n<ol>\n<li><code>WebServerCustomizer</code> 생성</li>\n<li>예외 종류에 따라 ErrorPage추가 -> 처리용 ErrorPageController 생성</li>\n</ol>\n<p>스프링 부트는 에러 상황에 대한 페이지 노출을 기본적으로 제공</p>\n<ul>\n<li><code>ErrorPage</code> 를 자동으로 등록</li>\n<li><code>/error</code> 라는 경로로 기본 오류 페이지를 설정\n<ul>\n<li><code>new ErrorPage(\"/error\")</code> , 상태코드와 예외를 설정하지 않으면 기본 오류 페이지로 사용</li>\n<li>서블릿 밖으로 예외가 발생하거나, <code>response.sendError(...)</code> 가 호출되면 모든 오류는 <code>/error</code> 를 호출</li>\n</ul>\n</li>\n<li><code>ErrorPage</code> 에서 등록한 <code>/error</code> 를 매핑해서 처리하는 컨트롤러 <code>BasicErrorController</code> 자동 등록</li>\n<li><code>ErrorMvcAutoConfiguration</code>가 오류 페이지를 자동으로 등록하는 역할</li>\n</ul>\n<p>즉, <code>BasicErrorController</code>에 기본적인 로직이 모두 개발되어 있으니</p>\n<p>오류 페이지 화면만 <code>BasicErrorController</code>가 제공하는 룰과 우선순위에 따라 등록하면 된다.</p>\n<h4 id=\"view-선택-우선순위\" style=\"position:relative;\"><a href=\"#view-%EC%84%A0%ED%83%9D-%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84\" aria-label=\"view 선택 우선순위 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>view 선택 우선순위</h4>\n<ol>\n<li>뷰 템플릿</li>\n</ol>\n<ul>\n<li><code>resources/templates/error/500.html</code></li>\n<li><code>resources/templates/error/5xx.html</code></li>\n</ul>\n<ol start=\"2\">\n<li>정적 리소스(static, public)</li>\n</ol>\n<ul>\n<li><code>resources/static/error/400.html</code></li>\n<li><code>resources/static/error/404.html</code></li>\n<li><code>resources/static/error/4xx.html</code></li>\n</ul>\n<ol start=\"3\">\n<li>적용 대상이 없는 경우 뷰 이름</li>\n</ol>\n<ul>\n<li>resources/templates/error.html`</li>\n</ul>\n<hr>\n<p><code>BasicErrorController</code> 컨트롤러는 다음 정보를 model에 담아서 뷰에 전달한다. 뷰 템플릿은 이 값을 활용해서 출력할 수 있다.</p>\n<h4 id=\"에러-페이지-노출-시-제공하는-정보\" style=\"position:relative;\"><a href=\"#%EC%97%90%EB%9F%AC-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%85%B8%EC%B6%9C-%EC%8B%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-%EC%A0%95%EB%B3%B4\" aria-label=\"에러 페이지 노출 시 제공하는 정보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>에러 페이지 노출 시 제공하는 정보</h4>\n<ul>\n<li>timestamp: Fri Feb 05 00:00:00 KST 2021</li>\n<li>status: 400</li>\n<li>error: Bad Request</li>\n<li>exception: org.springframework.validation.BindException</li>\n<li>trace: 예외 trace</li>\n<li>message: Validation failed for object=‘data’. Error count: 1</li>\n<li>errors: Errors(BindingResult)</li>\n<li>path: 클라이언트 요청 경로 (<code>/hello</code>)</li>\n</ul>\n<hr>\n<p>에러 값을 전부 노출하는건 좋지 않으므로</p>\n<p><code>ErrorController</code>로 넘겨줄 때 오류 정보를 <code>model</code>에 포함할 지 여부를 properties에 설정 가능</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"20427782680134410000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// application.properties\r\n\r\nserver.error.include-exception=true // exception 포함 여부\r\nserver.error.include-message=on_param // message 포함 여부\r\nserver.error.include-stacktrace=on_param // trace 포함 여부\r\nserver.error.include-binding-errors=on_param // error 포함 여부\r\n\r\n// \\`never\\` : 사용하지 않음\r\n// \\`always\\` :항상 사용\r\n// \\`on_param\\` : 파라미터가 있을 때 사용\r\n\r\nserver.error.whitelabel.enabled=true // 오류 처리 화면을 못 찾을 시, 스프링 whitelabel 오류 페이지 적용\r\n\\`server.error.path=/error //오류 페이지 경로, 스프링이 자동 등록하는 서블릿 글로벌 오류 페이지 경로와 \\`BasicErrorController\\` 오류 컨트롤러 경로에 함께 사용`, `20427782680134410000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"40\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// application.properties</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">server</span><span class=\"mtk1\">.</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">include</span><span class=\"mtk1\">-exception=</span><span class=\"mtk4\">true</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// exception 포함 여부</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">server</span><span class=\"mtk1\">.</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">include</span><span class=\"mtk1\">-message=on_param </span><span class=\"mtk3\">// message 포함 여부</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">server</span><span class=\"mtk1\">.</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">include</span><span class=\"mtk1\">-stacktrace=on_param </span><span class=\"mtk3\">// trace 포함 여부</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">server</span><span class=\"mtk1\">.</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">include</span><span class=\"mtk1\">-binding-errors=on_param </span><span class=\"mtk3\">// error 포함 여부</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// `never` : 사용하지 않음</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// `always` :항상 사용</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// `on_param` : 파라미터가 있을 때 사용</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">server</span><span class=\"mtk1\">.</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">whitelabel</span><span class=\"mtk1\">.</span><span class=\"mtk12\">enabled</span><span class=\"mtk1\">=</span><span class=\"mtk4\">true</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// 오류 처리 화면을 못 찾을 시, 스프링 whitelabel 오류 페이지 적용</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">`</span><span class=\"mtk12\">server</span><span class=\"mtk1\">.</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">path</span><span class=\"mtk1\">=/error </span><span class=\"mtk3\">//오류 페이지 경로, 스프링이 자동 등록하는 서블릿 글로벌 오류 페이지 경로와 `BasicErrorController` 오류 컨트롤러 경로에 함께 사용</span></span></span></code></pre>\n<p>에러 공통 처리 컨트롤러 기능 변경이 필요한 경우</p>\n<p><code>ErrorController</code>나 <code>BasicErrorController</code>를 상속 받아서 기능 추가하면 된다.</p>\n<hr>\n<p>추가 Spring Filter에서 주로 사용되는 예시</p>\n<ol>\n<li>\n<p>Authentication Filters (인증 필터): 사용자의 인증 상태를 확인하고, 필요한 경우 인증을 처리하는 데 사용</p>\n</li>\n<li>\n<p>Logging and Auditing Filters (로깅 및 감사 필터): 요청 및 응답의 로깅, 감사 로그 작성 등과 같은 로깅 및 감사 작업을 수행하는 데 사용</p>\n</li>\n<li>\n<p>Image conversion Filters (이미지 변환 필터): 이미지를 다른 형식으로 변환하거나 크기를 조절하는 등의 이미지 처리 작업에 사용</p>\n</li>\n<li>\n<p>Data compression Filters (데이터 압축 필터): 요청이나 응답 데이터를 압축하여 대역폭을 절약하거나 응답 시간을 개선하는 데 사용</p>\n</li>\n<li>\n<p>Encryption Filters (암호화 필터): 데이터의 암호화 및 복호화 작업에 사용</p>\n</li>\n<li>\n<p>Tokenizing Filters (토큰화 필터): 데이터를 특정 기준으로 분할하거나 토큰화하는 데 사용</p>\n</li>\n<li>\n<p>Filters that trigger resource access events (리소스 액세스 이벤트를 트리거하는 필터): 특정 리소스에 대한 액세스 이벤트를 감지하고 트리거하는 데 사용</p>\n</li>\n<li>\n<p>XSL/T filters (XSL/T 필터): XML 기반의 데이터를 변환하는 데 XSL/T 스타일시트를 사용하여 필요한 HTML, XML 또는 다른 형식으로 변환하는 데 사용</p>\n</li>\n<li>\n<p>Mime-type chain Filter (마임형 체인 필터): 요청의 마임 타입에 따라 다른 처리를 수행하는 데 사용</p>\n</li>\n</ol>\n<h1 id=\"9-api-예외-처리\" style=\"position:relative;\"><a href=\"#9-api-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC\" aria-label=\"9 api 예외 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. API 예외 처리</h1>\n<p>Rest Api의 응답은 <code>오류 상황에 맞는 응답 스펙 정의</code>, <code>JSON 데이터 생성</code> 작업이 필요하다<br>\n(해당 작업이 되어있지 않으면 <code>HTML</code> 반환)</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"1818894777302571000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@RequestMapping(value = &quot;/error-page/500&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic ResponseEntity<Map<String, Object>> errorPage500Api(HttpServletRequest request, HttpServletResponse response) {\r\n  log.info(&quot;API errorPage 500&quot;);\r\n\r\n  Exception ex = (Exception) request.getAttribute(ERROR_EXCEPTION);\r\n\r\n  Map<String, Object> result = new HashMap<>();\r\n  result.put(&quot;status&quot;, request.getAttribute(ERROR_STATUS_CODE));\r\n  result.put(&quot;message&quot;, ex.getMessage());\r\n\r\n  Integer statusCode = (Integer) request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\r\n\r\n  return new ResponseEntity(result, HttpStatus.valueOf(statusCode));\r\n }`, `1818894777302571000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"41\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">RequestMapping</span><span class=\"mtk1\">(value = </span><span class=\"mtk8\">&quot;/error-page/500&quot;</span><span class=\"mtk1\">, produces = </span><span class=\"mtk12\">MediaType</span><span class=\"mtk1\">.</span><span class=\"mtk12\">APPLICATION_JSON_VALUE</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ResponseEntity</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">Map</span><span class=\"mtk1\">&lt;String, Object&gt;&gt; </span><span class=\"mtk11\">errorPage500Api</span><span class=\"mtk1\">(</span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> request, </span><span class=\"mtk10\">HttpServletResponse</span><span class=\"mtk1\"> response) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;API errorPage 500&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ex</span><span class=\"mtk1\"> = (Exception) </span><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getAttribute</span><span class=\"mtk1\">(ERROR_EXCEPTION);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">Map</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">result</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HashMap</span><span class=\"mtk1\">&lt;&gt;();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">result</span><span class=\"mtk1\">.</span><span class=\"mtk11\">put</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;status&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getAttribute</span><span class=\"mtk1\">(ERROR_STATUS_CODE));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">result</span><span class=\"mtk1\">.</span><span class=\"mtk11\">put</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;message&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">ex</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getMessage</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\"> </span><span class=\"mtk12\">statusCode</span><span class=\"mtk1\"> = (Integer) </span><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk12\">RequestDispatcher</span><span class=\"mtk1\">.</span><span class=\"mtk12\">ERROR_STATUS_CODE</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ResponseEntity</span><span class=\"mtk1\">(result, </span><span class=\"mtk12\">HttpStatus</span><span class=\"mtk1\">.</span><span class=\"mtk11\">valueOf</span><span class=\"mtk1\">(statusCode));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> }</span></span></span></code></pre>\n<p><code>@RequestMapping</code>에 produces 파라미터를 지정해 넘겨 HTTP Header의 Accept값이 application/json 일 때 메서드가 호출되게 수정</p>\n<p><code>ResponseEntity</code>를 사용해서 응답하기 때문에 <code>메시지 컨버터</code>가 동작하고 JSON 반환</p>\n<h4 id=\"스프링-부트-기본-오류-처리\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B6%80%ED%8A%B8-%EA%B8%B0%EB%B3%B8-%EC%98%A4%EB%A5%98-%EC%B2%98%EB%A6%AC\" aria-label=\"스프링 부트 기본 오류 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링 부트 기본 오류 처리</h4>\n<p><code>BasicErrorController</code>에 html, json 에러 처리가 되어있고, 확장해서 상황에 따라 에러처리 할 수 있지만 API오류 처리는 조건이 다양해 전부 확장하기엔 관리의 어려움이 있음</p>\n<p><strong><code>@ExceptionHandler</code>를 사용해 오류 처리 권장</strong></p>\n<h4 id=\"handlerexceptionresolver\" style=\"position:relative;\"><a href=\"#handlerexceptionresolver\" aria-label=\"handlerexceptionresolver permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HandlerExceptionResolver</h4>\n<blockquote>\n<p>예외 발생 시 동작을 새로 정의할 수 있는 방법</p>\n</blockquote>\n<p>적용 전 : 예외가 전달되서 500에러 발생</p>\n<p>적용 후 : 예외가 전달되면 ExceptionResolver가 호출되고 정상 처리</p>\n<p>ExceptionResolver로 예외</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"81967078205778000000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`//controller\r\n    @GetMapping(&quot;/api/members/{id}&quot;)\r\n    public MemberDto getMember(@PathVariable(&quot;id&quot;) String id) {\r\n        ...\r\n        if (id.equals(&quot;bad&quot;)) {\r\n            throw new IllegalArgumentException(&quot;잘못된 입력 값&quot;);\r\n        }\r\n        ...\r\n    }\r\n\r\n@Slf4j\r\npublic class MyHandlerExceptionResolver implements HandlerExceptionResolver {\r\n\r\n    @Override\r\n    public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) {\r\n\r\n        log.info(&quot;call resolver&quot;, ex);\r\n\r\n        try {\r\n            if (ex instanceof IllegalArgumentException) {\r\n                log.info(&quot;IllegalArgumentException resolver to 400&quot;);\r\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, ex.getMessage());\r\n                return new ModelAndView();\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            log.error(&quot;resolver ex&quot;, e);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\n// webconfig\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    ...\r\n\r\n    @Override\r\n    public void extendHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {\r\n        resolvers.add(new MyHandlerExceptionResolver());\r\n    }\r\n\r\n    ...\r\n}`, `81967078205778000000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"42\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">//controller</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">GetMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/api/members/{id}&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">MemberDto</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getMember</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">PathVariable</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">) </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> id) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">id</span><span class=\"mtk1\">.</span><span class=\"mtk11\">equals</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;bad&quot;</span><span class=\"mtk1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">IllegalArgumentException</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;잘못된 입력 값&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Slf4j</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">MyHandlerExceptionResolver</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HandlerExceptionResolver</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ModelAndView</span><span class=\"mtk1\"> </span><span class=\"mtk11\">resolveException</span><span class=\"mtk1\">(</span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">request</span><span class=\"mtk1\">, </span><span class=\"mtk10\">HttpServletResponse</span><span class=\"mtk1\"> </span><span class=\"mtk12\">response</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> </span><span class=\"mtk12\">handler</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ex</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;call resolver&quot;</span><span class=\"mtk1\">, ex);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">try</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (ex </span><span class=\"mtk4\">instanceof</span><span class=\"mtk1\"> IllegalArgumentException) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;IllegalArgumentException resolver to 400&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">response</span><span class=\"mtk1\">.</span><span class=\"mtk11\">sendError</span><span class=\"mtk1\">(</span><span class=\"mtk12\">HttpServletResponse</span><span class=\"mtk1\">.</span><span class=\"mtk12\">SC_BAD_REQUEST</span><span class=\"mtk1\">, </span><span class=\"mtk12\">ex</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getMessage</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ModelAndView</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        } </span><span class=\"mtk15\">catch</span><span class=\"mtk1\"> (</span><span class=\"mtk10\">IOException</span><span class=\"mtk1\"> </span><span class=\"mtk12\">e</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;resolver ex&quot;</span><span class=\"mtk1\">, e);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">null</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// webconfig</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebConfig</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">WebMvcConfigurer</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">extendHandlerExceptionResolvers</span><span class=\"mtk1\">(</span><span class=\"mtk10\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">HandlerExceptionResolver</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">resolvers</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">resolvers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">MyHandlerExceptionResolver</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>HandlerExceptionResolver를 상속해 MyHandlerExceptionResolver를 구현하고 webconfig에 HandlerExceptionResolvers에 등록시켜준다.</p>\n<p>반환값에 따른 동작은 3가지로 구분</p>\n<ol>\n<li><strong>빈 ModelAndView</strong>: <code>빈 </code>ModelAndView` 를 시 정상 흐름으로 서블릿이 리턴된다.</li>\n<li><strong>ModelAndView 지정</strong>: <code>ModelAndView</code> 에 <code>View</code> , <code>Model</code> 등의 정보를 지정해서 반환하면 뷰 렌더링</li>\n<li><strong>null</strong>: <code>null</code> 을 반환하면, 다음 <code>ExceptionResolver</code> 를 찾아서 실행한다. 만약 처리할 수 있는 <code>ExceptionResolver</code> 가 없으면 예외 처리가 안되고, 기존에 발생한 예외를 서블릿 밖으로 던진다.</li>\n</ol>\n<p>활용 방법 3가지</p>\n<ol>\n<li>예외를 <code>response.sendError(xxx)</code>로 변경해서 상태 코드에 따른 오류 처리 -> 스프링 부트에서 설정한 error 호출</li>\n<li>ModelAndView값을 만들어 제공</li>\n<li>response 응답 바디에 직접 데이터를 설정해 응답 처리 <code>response.getWriter()~~</code></li>\n</ol>\n<h4 id=\"활용\" style=\"position:relative;\"><a href=\"#%ED%99%9C%EC%9A%A9\" aria-label=\"활용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>활용</h4>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"22723888574148133000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`public class UserException extends RuntimeException {\r\n\r\n    public UserException() {\r\n        super();\r\n    }\r\n\r\n    public UserException(String message) {\r\n        super(message);\r\n    }\r\n\r\n    public UserException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n\r\n    public UserException(Throwable cause) {\r\n        super(cause);\r\n    }\r\n\r\n    protected UserException(String message, Throwable cause, boolean enableSuppression, boolean writableStackTrace) {\r\n        super(message, cause, enableSuppression, writableStackTrace);\r\n    }\r\n}\r\n\r\n//controller\r\n\r\n    @GetMapping(&quot;/api/members/{id}&quot;)\r\n    public MemberDto getMember(@PathVariable(&quot;id&quot;) String id) {\r\n        ...\r\n        if (id.equals(&quot;user-ex&quot;)) {\r\n            throw new UserException(&quot;사용자 오류&quot;);\r\n        }\r\n        ...\r\n    }\r\n\r\n// HandlerExceptionResolver\r\n@Slf4j\r\npublic class UserHandlerExceptionResolver implements HandlerExceptionResolver {\r\n\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @Override\r\n    public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) {\r\n\r\n        try {\r\n\r\n            if (ex instanceof UserException) {\r\n                log.info(&quot;UserException resolver to 400&quot;);\r\n                String acceptHeader = request.getHeader(&quot;accept&quot;);\r\n                response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n\r\n                if (&quot;application/json&quot;.equals(acceptHeader)) {\r\n                    Map<String, Object> errorResult = new HashMap<>();\r\n                    errorResult.put(&quot;ex&quot;, ex.getClass());\r\n                    errorResult.put(&quot;message&quot;, ex.getMessage());\r\n                    String result = objectMapper.writeValueAsString(errorResult);\r\n\r\n                    response.setContentType(&quot;application/json&quot;);\r\n                    response.setCharacterEncoding(&quot;utf-8&quot;);\r\n                    response.getWriter().write(result);\r\n                    return new ModelAndView();\r\n                } else {\r\n                    // TEXT/HTML\r\n                    return new ModelAndView(&quot;error/500&quot;);\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            log.error(&quot;resolver ex&quot;, e);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\n// webconfig\r\n    @Override\r\n    public void extendHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {\r\n        resolvers.add(new MyHandlerExceptionResolver());\r\n        resolvers.add(new UserHandlerExceptionResolver());\r\n    }`, `22723888574148133000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"43\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">UserException</span><span class=\"mtk1\"> </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk10\">RuntimeException</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserException</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">super</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserException</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">message</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">super</span><span class=\"mtk1\">(message);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserException</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">message</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Throwable</span><span class=\"mtk1\"> </span><span class=\"mtk12\">cause</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">super</span><span class=\"mtk1\">(message, cause);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserException</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Throwable</span><span class=\"mtk1\"> </span><span class=\"mtk12\">cause</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">super</span><span class=\"mtk1\">(cause);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">protected</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserException</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">message</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Throwable</span><span class=\"mtk1\"> </span><span class=\"mtk12\">cause</span><span class=\"mtk1\">, </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> </span><span class=\"mtk12\">enableSuppression</span><span class=\"mtk1\">, </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\"> </span><span class=\"mtk12\">writableStackTrace</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">super</span><span class=\"mtk1\">(message, cause, enableSuppression, writableStackTrace);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">//controller</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">GetMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/api/members/{id}&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">MemberDto</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getMember</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">PathVariable</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">) </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> id) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">id</span><span class=\"mtk1\">.</span><span class=\"mtk11\">equals</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;user-ex&quot;</span><span class=\"mtk1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserException</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;사용자 오류&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// HandlerExceptionResolver</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Slf4j</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">UserHandlerExceptionResolver</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HandlerExceptionResolver</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">final</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ObjectMapper</span><span class=\"mtk1\"> </span><span class=\"mtk12\">objectMapper</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ObjectMapper</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ModelAndView</span><span class=\"mtk1\"> </span><span class=\"mtk11\">resolveException</span><span class=\"mtk1\">(</span><span class=\"mtk10\">HttpServletRequest</span><span class=\"mtk1\"> </span><span class=\"mtk12\">request</span><span class=\"mtk1\">, </span><span class=\"mtk10\">HttpServletResponse</span><span class=\"mtk1\"> </span><span class=\"mtk12\">response</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\"> </span><span class=\"mtk12\">handler</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ex</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">try</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (ex </span><span class=\"mtk4\">instanceof</span><span class=\"mtk1\"> UserException) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;UserException resolver to 400&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">acceptHeader</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getHeader</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;accept&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk12\">response</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setStatus</span><span class=\"mtk1\">(</span><span class=\"mtk12\">HttpServletResponse</span><span class=\"mtk1\">.</span><span class=\"mtk12\">SC_BAD_REQUEST</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk8\">&quot;application/json&quot;</span><span class=\"mtk1\">.</span><span class=\"mtk11\">equals</span><span class=\"mtk1\">(acceptHeader)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk10\">Map</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">String</span><span class=\"mtk1\">, </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">errorResult</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HashMap</span><span class=\"mtk1\">&lt;&gt;();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk12\">errorResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">put</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;ex&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">ex</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getClass</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk12\">errorResult</span><span class=\"mtk1\">.</span><span class=\"mtk11\">put</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;message&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">ex</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getMessage</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">result</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">objectMapper</span><span class=\"mtk1\">.</span><span class=\"mtk11\">writeValueAsString</span><span class=\"mtk1\">(errorResult);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk12\">response</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setContentType</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;application/json&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk12\">response</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setCharacterEncoding</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;utf-8&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk12\">response</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getWriter</span><span class=\"mtk1\">().</span><span class=\"mtk11\">write</span><span class=\"mtk1\">(result);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ModelAndView</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                } </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk3\">// TEXT/HTML</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ModelAndView</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;error/500&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        } </span><span class=\"mtk15\">catch</span><span class=\"mtk1\"> (</span><span class=\"mtk10\">IOException</span><span class=\"mtk1\"> </span><span class=\"mtk12\">e</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;resolver ex&quot;</span><span class=\"mtk1\">, e);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">null</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// webconfig</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">extendHandlerExceptionResolvers</span><span class=\"mtk1\">(</span><span class=\"mtk10\">List</span><span class=\"mtk1\">&lt;HandlerExceptionResolver&gt; resolvers) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">resolvers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">MyHandlerExceptionResolver</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">resolvers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserHandlerExceptionResolver</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span></code></pre>\n<p>custom한 Exception을 만들어 추가 가능하다.</p>\n<h4 id=\"springboot의-exceptionresolver-처리\" style=\"position:relative;\"><a href=\"#springboot%EC%9D%98-exceptionresolver-%EC%B2%98%EB%A6%AC\" aria-label=\"springboot의 exceptionresolver 처리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SpringBoot의 ExceptionResolver 처리</h4>\n<p>스프링 부트가 등록해주는 ExceptionResolver는 다음과 같다.<br>\n(HandlerExceptionResolverComposite가 등록)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2a61c6229ceb3209c40261eb7396bff0/88aa2/HandlerExceptionResolverComposite.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.993865030674847%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGUlEQVR42mXQXU/CMBTG8X0VLzTupWv30o4NcCyoEA1hMMaCcOGNX8GIiZ/975HolRe/PO1pe3JSL0wytMsxI0daFhemHBGXJSoriNIRKi1I3ATj7ojzisA4URCKQDtu4x85vs7wbmY7VNNi5j1mMZA9DZjlgeDhRPh4IhD+/YF09cbi9YulmB3ONMdP5qcz9csHdvvOdXPkarrFi1SIShRRokV8SWVi4kTqKiAKfXzfR8WGoXtm6Dt2+z1930v29LJebzbk1l7ueVoaulRROIt1Jc4VWJtRVZZJlQuHzeUsz+i6tehoxeZXu+1YrVt589cwjkhlEmtCcqMw2pBqSZlIG/lf2UdRJHXNuG6opvU/43qGSRKCIOAbKH+p0+ZJUuEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2a61c6229ceb3209c40261eb7396bff0/a81b5/HandlerExceptionResolverComposite.webp 163w,\n/static/2a61c6229ceb3209c40261eb7396bff0/da3ef/HandlerExceptionResolverComposite.webp 325w,\n/static/2a61c6229ceb3209c40261eb7396bff0/309d5/HandlerExceptionResolverComposite.webp 650w,\n/static/2a61c6229ceb3209c40261eb7396bff0/78344/HandlerExceptionResolverComposite.webp 975w,\n/static/2a61c6229ceb3209c40261eb7396bff0/bdb72/HandlerExceptionResolverComposite.webp 1300w,\n/static/2a61c6229ceb3209c40261eb7396bff0/5a688/HandlerExceptionResolverComposite.webp 2010w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2a61c6229ceb3209c40261eb7396bff0/5e043/HandlerExceptionResolverComposite.png 163w,\n/static/2a61c6229ceb3209c40261eb7396bff0/e5cc6/HandlerExceptionResolverComposite.png 325w,\n/static/2a61c6229ceb3209c40261eb7396bff0/663f3/HandlerExceptionResolverComposite.png 650w,\n/static/2a61c6229ceb3209c40261eb7396bff0/d880f/HandlerExceptionResolverComposite.png 975w,\n/static/2a61c6229ceb3209c40261eb7396bff0/4c573/HandlerExceptionResolverComposite.png 1300w,\n/static/2a61c6229ceb3209c40261eb7396bff0/88aa2/HandlerExceptionResolverComposite.png 2010w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2a61c6229ceb3209c40261eb7396bff0/663f3/HandlerExceptionResolverComposite.png\"\n            alt=\"HandlerExceptionResolverComposite\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>각각 resolver가 하는 역할을 살펴보면</p>\n<ol>\n<li><code>ExceptionHandlerExceptionResolver</code></li>\n</ol>\n<p><code>@ExceptionHandler</code> 처리</p>\n<ol start=\"2\">\n<li><code>ResponseStatusExceptionResolver</code></li>\n</ol>\n<p><code>ResponseStatusExceptionResolver</code>를 확인해보면 @ResponseStatus의 code값과 reason값을 <code>response.sendError</code>를 호출해 처리</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"97843612055861070000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@ResponseStatus(code = HttpStatus.BAD_REQUEST, reason = &quot;잘못된 요청 오류&quot;) public class BadRequestException extends RuntimeException {\r\n}`, `97843612055861070000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"44\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">ResponseStatus</span><span class=\"mtk1\">(code = </span><span class=\"mtk12\">HttpStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">BAD_REQUEST</span><span class=\"mtk1\">, reason = </span><span class=\"mtk8\">&quot;잘못된 요청 오류&quot;</span><span class=\"mtk1\">) </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">BadRequestException</span><span class=\"mtk1\"> </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk10\">RuntimeException</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><code>ResponseStatusExceptionResolver</code>를 사용해 에러처리하면 <code>ResponseStatusException</code>를 활용해 조건에 따라 exception처리</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"75288820309596290000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@GetMapping(&quot;/api/response-status-ex2&quot;)\r\n public String responseStatusEx2() {\r\n     throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;error.bad&quot;, new\r\n IllegalArgumentException());\r\n}`, `75288820309596290000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"45\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">GetMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/api/response-status-ex2&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">responseStatusEx2</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">     </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ResponseStatusException</span><span class=\"mtk1\">(</span><span class=\"mtk12\">HttpStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">NOT_FOUND</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;error.bad&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk15\">new</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk11\">IllegalArgumentException</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ol start=\"3\">\n<li><code>DefaultHandlerExceptionResolver</code></li>\n</ol>\n<p><code>DefaultHandlerExceptionResolver</code> 는 스프링 내부에서 발생하는 스프링 예외를 해결 -> 500에러가 아닌 400으로 반환 (ex - TypeMismatchExcpetion)</p>\n<h2 id=\"exceptionhandler\" style=\"position:relative;\"><a href=\"#exceptionhandler\" aria-label=\"exceptionhandler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@ExceptionHandler</h2>\n<p><code>BasicErrorController</code>와 <code>HandlerExceptionResolver</code>를 전부 확장해서 구현하는 방법보다 간단히 <code>@ExceptionHandler</code> 활용</p>\n<p><code>@ExceptionHandler</code> 애노테이션을 적용하고 싶은 컨트롤러에서 예외를 지정<br>\n-> 컨트롤러에서 예외 발생 시 메서도 호출<br>\n-> 예외를 상속받은 자식 클래스까지 모두 처리<br>\n-> 추가로 해당 컨트롤러 적용 시 200을 반환하는데 status를 변경하고 싶으면 <code>@ResponseStatus</code>를 추가한다.</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"21253622168905940000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@Slf4j\r\n@RestController\r\npublic class ApiExceptionV2Controller {\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ExceptionHandler(IllegalArgumentException.class)\r\n    public ErrorResult illegalExHandle(IllegalArgumentException e) {\r\n        log.error(&quot;[exceptionHandle] ex&quot;, e);\r\n        return new ErrorResult(&quot;BAD&quot;, e.getMessage());\r\n    }\r\n\r\n    @ExceptionHandler\r\n    public ResponseEntity<ErrorResult> userExHandle(UserException e) {\r\n        log.error(&quot;[exceptionHandle] ex&quot;, e);\r\n        ErrorResult errorResult = new ErrorResult(&quot;USER-EX&quot;, e.getMessage());\r\n        return new ResponseEntity<>(errorResult, HttpStatus.BAD_REQUEST)\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    @ExceptionHandler\r\n    public ErrorResult exHandle(Exception e) {\r\n        log.error(&quot;[exceptionHandle] ex&quot;, e);\r\n        return new ErrorResult(&quot;EX&quot;, &quot;내부 오류&quot;);\r\n    }\r\n\r\n    @GetMapping(&quot;/api2/members/{id}&quot;)\r\n    public MemberDto getMember(@PathVariable(&quot;id&quot;) String id) {\r\n        if (id.equals(&quot;ex&quot;)) {\r\n            throw new RuntimeException(&quot;잘못된 사용자&quot;);\r\n        }\r\n        if (id.equals(&quot;bad&quot;)) {\r\n            throw new IllegalArgumentException(&quot;잘못된 입력 값&quot;);\r\n        }\r\n        if (id.equals(&quot;user-ex&quot;)) {\r\n            throw new UserException(&quot;사용자 오류&quot;);\r\n        }\r\n        return new MemberDto(id, &quot;hello &quot; + id);\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    static class MemberDto {\r\n        private String memberId;\r\n        private String name;\r\n    }\r\n}\r\n\r\n// 여러 익센셥 처리\r\n@ExceptionHandler({AException.class, BException.class})\r\npublic String ex(Exception e) {\r\n    log.info(&quot;exception e&quot;, e);\r\n}\r\n\r\n// HTML리턴\r\n@ExceptionHandler(ViewException.class)\r\npublic ModelAndView ex(ViewException e) {\r\n    log.info(&quot;exception e&quot;, e);\r\n    return new ModelAndView(&quot;error&quot;);\r\n}`, `21253622168905940000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"46\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Slf4j</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">RestController</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ApiExceptionV2Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">ResponseStatus</span><span class=\"mtk1\">(</span><span class=\"mtk12\">HttpStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">BAD_REQUEST</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">ExceptionHandler</span><span class=\"mtk1\">(</span><span class=\"mtk12\">IllegalArgumentException</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ErrorResult</span><span class=\"mtk1\"> </span><span class=\"mtk11\">illegalExHandle</span><span class=\"mtk1\">(</span><span class=\"mtk10\">IllegalArgumentException</span><span class=\"mtk1\"> </span><span class=\"mtk12\">e</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;[exceptionHandle] ex&quot;</span><span class=\"mtk1\">, e);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ErrorResult</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;BAD&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">e</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getMessage</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">ExceptionHandler</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ResponseEntity</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">ErrorResult</span><span class=\"mtk1\">&gt; </span><span class=\"mtk11\">userExHandle</span><span class=\"mtk1\">(</span><span class=\"mtk10\">UserException</span><span class=\"mtk1\"> </span><span class=\"mtk12\">e</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;[exceptionHandle] ex&quot;</span><span class=\"mtk1\">, e);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">ErrorResult</span><span class=\"mtk1\"> </span><span class=\"mtk12\">errorResult</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ErrorResult</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;USER-EX&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">e</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getMessage</span><span class=\"mtk1\">());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ResponseEntity</span><span class=\"mtk1\">&lt;&gt;(errorResult, </span><span class=\"mtk12\">HttpStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">BAD_REQUEST</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">ResponseStatus</span><span class=\"mtk1\">(</span><span class=\"mtk12\">HttpStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">INTERNAL_SERVER_ERROR</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">ExceptionHandler</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ErrorResult</span><span class=\"mtk1\"> </span><span class=\"mtk11\">exHandle</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> </span><span class=\"mtk12\">e</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;[exceptionHandle] ex&quot;</span><span class=\"mtk1\">, e);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ErrorResult</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;EX&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;내부 오류&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">GetMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/api2/members/{id}&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">MemberDto</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getMember</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">PathVariable</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;id&quot;</span><span class=\"mtk1\">) </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">id</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">id</span><span class=\"mtk1\">.</span><span class=\"mtk11\">equals</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;ex&quot;</span><span class=\"mtk1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">RuntimeException</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;잘못된 사용자&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">id</span><span class=\"mtk1\">.</span><span class=\"mtk11\">equals</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;bad&quot;</span><span class=\"mtk1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">IllegalArgumentException</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;잘못된 입력 값&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">id</span><span class=\"mtk1\">.</span><span class=\"mtk11\">equals</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;user-ex&quot;</span><span class=\"mtk1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">UserException</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;사용자 오류&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">MemberDto</span><span class=\"mtk1\">(id, </span><span class=\"mtk8\">&quot;hello &quot;</span><span class=\"mtk1\"> + id);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">Data</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">AllArgsConstructor</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">MemberDto</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">memberId</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 여러 익센셥 처리</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">ExceptionHandler</span><span class=\"mtk1\">({</span><span class=\"mtk12\">AException</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">, </span><span class=\"mtk12\">BException</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ex</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Exception</span><span class=\"mtk1\"> e) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;exception e&quot;</span><span class=\"mtk1\">, e);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// HTML리턴</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">ExceptionHandler</span><span class=\"mtk1\">(</span><span class=\"mtk12\">ViewException</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ModelAndView</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ex</span><span class=\"mtk1\">(</span><span class=\"mtk10\">ViewException</span><span class=\"mtk1\"> e) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">log</span><span class=\"mtk1\">.</span><span class=\"mtk11\">info</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;exception e&quot;</span><span class=\"mtk1\">, e);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ModelAndView</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;error&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-exceptionhandler.html#mvc-ann-exceptionhandler-args\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">SpringBoot exception 문서</a></p>\n<p>흐름을 간단히 정리하면</p>\n<ol>\n<li>Exception시 컨트롤 밖으로 던져진다.</li>\n<li>우선 순위대로 ExceptionResolver 실행</li>\n<li>처리할 수 있는 Handler 확인</li>\n<li>Handler가 처리, @RestController가 컨트롤러에 있어 @ResponseBody 적용 -> JSON으로 반환</li>\n</ol>\n<h2 id=\"advice\" style=\"position:relative;\"><a href=\"#advice\" aria-label=\"advice permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Advice</h2>\n<p>AOP활용</p>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<ol>\n<li>ExceptionHandlerExceptionResolver\r\n-> Exception을 처리 할 Handler 추가</li>\n<li>ResponseStatusExceptionResolver\r\n-> HTTP 응답 코드 변경</li>\n<li>DEfaultHandlerExceptionResolver\r\n-> 스프링 내부 예외 처리</li>\n</ol>\n<p>best 적용 방법</p>\n<ol>\n<li>Controller에서 상황에 맞춰 처리 할 exception으로 반환</li>\n<li><code>RestControllerAdvice</code>에서 exception마다 처리 방법 구현 -> 구현 시 <code>@ExceptionHandle</code> 활용</li>\n<li><code>RestcontrollerAdvice</code>에서 적용 할 메서드 지정</li>\n</ol>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"58350531929579370000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`// Target all Controllers annotated with @RestController\r\n @ControllerAdvice(annotations = RestController.class)\r\n public class ExampleAdvice1 {}\r\n // Target all Controllers within specific packages\r\n @ControllerAdvice(&quot;org.example.controllers&quot;)\r\n public class ExampleAdvice2 {}\r\n // Target all Controllers assignable to specific classes\r\n @ControllerAdvice(assignableTypes = {ControllerInterface.class,\r\n AbstractController.class})\r\npublic class ExampleAdvice3 {}`, `58350531929579370000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"47\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Target all Controllers annotated with @RestController</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> @</span><span class=\"mtk10\">ControllerAdvice</span><span class=\"mtk1\">(annotations = </span><span class=\"mtk12\">RestController</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ExampleAdvice1</span><span class=\"mtk1\"> {}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk3\">// Target all Controllers within specific packages</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> @</span><span class=\"mtk10\">ControllerAdvice</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;org.example.controllers&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ExampleAdvice2</span><span class=\"mtk1\"> {}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk3\">// Target all Controllers assignable to specific classes</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> @</span><span class=\"mtk10\">ControllerAdvice</span><span class=\"mtk1\">(assignableTypes = {</span><span class=\"mtk12\">ControllerInterface</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk12\">AbstractController</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ExampleAdvice3</span><span class=\"mtk1\"> {}</span></span></span></code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-advice.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring controller advice 문서</a></p>\n<h1 id=\"10-스프링-타입-컨버터\" style=\"position:relative;\"><a href=\"#10-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%83%80%EC%9E%85-%EC%BB%A8%EB%B2%84%ED%84%B0\" aria-label=\"10 스프링 타입 컨버터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10. 스프링 타입 컨버터</h1>\n<p>Request(필요한 값을 담아) -> 서버에서 처리 -> Response(필요한 값 담아) -> 클라이언트 처리</p>\n<p>request는 요청 파라미터가 모두 문자로 처리되는데 보통 입력받을 때 사용하는 <code>@RequestParam</code>, <code>@ModelAttribute</code>, <code>@PathVariable</code>는 Spring이 적용해준다.</p>\n<p>입력값을 custom할 때 사용하는 기능이 <code>Converter</code>다.</p>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"21049828404507530000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`package org.springframework.core.convert.converter;\r\n\r\npublic interface Converter<S, T> {\r\n  T convert(S source);\r\n}`, `21049828404507530000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"48\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">package</span><span class=\"mtk1\"> org.springframework.core.convert.converter;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Converter</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">S</span><span class=\"mtk1\">, </span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">T</span><span class=\"mtk1\"> </span><span class=\"mtk11\">convert</span><span class=\"mtk1\">(</span><span class=\"mtk10\">S</span><span class=\"mtk1\"> </span><span class=\"mtk12\">source</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Converter : 범용 (객체 -> 객체)<br>\nFormatter : 문자체 특화(객체 -> 문자, 문자 -> 객체) + 현지화(Locale)</p>\n<p>추가로</p>\n<p>컨버전은 <code>@RequestParam</code> , <code>@ModelAttribute</code> , <code>@PathVariable</code> , 뷰 템플릿 등에서 사용가능 하지만</p>\n<p>메세지 컨버터(HttpMessageConverter)에는 컨버전 서비스가 적용X</p>\n<p>메시지 컨버터는 내부에서 <code>Jackson</code>같은 라이브러리를 사용<br>\n-> JSON 결과로 만들어지는 숫자나 날짜 포맷을 변경하고 싶으면 라이브러리가 제공하는 설정을 통해 포맷 지정</p>\n<!-- # 11. 파일 업로드 -->\n<!-- TODO: 파일 업로드 로깅 기능 만들 때 이부분 고려해야 한다 -->\n<!-- https://parkmuhyeun.github.io/woowacourse/2023-05-05-Filter-Interceptor/ -->\n<h1 id=\"추가-tip\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80-tip\" aria-label=\"추가 tip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가 Tip!</h1>\n<ul>\n<li>요청마다 로그 찍는 설정</li>\n</ul>\n<div\n              class=\"gatsby-code-button-container copyButtonContainer\"\n              data-toaster-id=\"19938511566052240000\"\n              data-toaster-class=\"gatsby-code-button-toaster copyButtonToaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text copyButtonToasterText\"\n              data-toaster-text=\"복사 되었습니다!\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`logging.level.org.apache.coyote.http11=debug`, `19938511566052240000`)\"\n            >\n              <div\n                class=\"gatsby-code-button copyButtonClass\"\n                data-tooltip=\"\"\n              >\n                복사<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<pre class=\"grvsc-container default-dark\" data-language=\"java\" data-index=\"49\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk12\">logging</span><span class=\"mtk1\">.</span><span class=\"mtk12\">level</span><span class=\"mtk1\">.</span><span class=\"mtk12\">org</span><span class=\"mtk1\">.</span><span class=\"mtk12\">apache</span><span class=\"mtk1\">.</span><span class=\"mtk12\">coyote</span><span class=\"mtk1\">.</span><span class=\"mtk12\">http11</span><span class=\"mtk1\">=debug</span></span></span></code></pre>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<p><a href=\"https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">김영한 스프링 MVC 2 강의</a>\r\n<a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Thymeleaf Document</a>\r\n<a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/thymeleafspring.html#validation-and-error-messages\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Thymeleaf + Spring Document</a><br>\n<a href=\"https://pomo0703.tistory.com/65\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[level2. 협업 미션]Interceptor와 Argument Resolver - 포모</a><br>\n<a href=\"https://hudi.blog/spring-argument-resolver/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">스프링에서 Argument Resolver 사용하기 - Hudi</a>\r\n<a href=\"https://parkmuhyeun.github.io/woowacourse/2023-05-05-Filter-Interceptor/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">공통 인증 로직 어디서 처리 할 수 있을까?(feat. Interceptor, Filter, Resolver) - 애송이 개발자 블로그</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-thymeleaf\">1. Thymeleaf</a></p>\n<ul>\n<li><a href=\"#11-%EA%B8%B0%EB%B3%B8-%EA%B8%B0%EB%8A%A5\">1.1 기본 기능</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-thymeleaf--spring\">2. Thymeleaf + Spring</a></p>\n</li>\n<li>\n<p><a href=\"#3-%EB%A9%94%EC%84%B8%EC%A7%80-%EA%B5%AD%EC%A0%9C%ED%99%94\">3. 메세지 국제화</a></p>\n</li>\n<li>\n<p><a href=\"#4-validation\">4. Validation</a></p>\n<ul>\n<li><a href=\"#41-binding-result\">4.1 Binding Result</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5-bean-validation\">5. Bean Validation</a></p>\n</li>\n<li>\n<p><a href=\"#6-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%B2%98%EB%A6%AC-1-%EC%BF%A0%ED%82%A4-%EC%84%B8%EC%85%98\">6. 로그인 처리 1 (쿠키, 세션)</a></p>\n</li>\n<li>\n<p><a href=\"#7-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EC%B2%98%EB%A6%AC-2-%ED%95%84%ED%84%B0-%EC%9D%B8%ED%84%B0%EC%85%89%ED%84%B0\">7. 로그인 처리 2 (필터, 인터셉터)</a></p>\n<ul>\n<li><a href=\"#71-%EC%84%9C%EB%B8%94%EB%A6%BF-%ED%95%84%ED%84%B0\">7.1 서블릿 필터</a></li>\n<li><a href=\"#72-%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9D%B8%ED%84%B0%EC%85%89%ED%84%B0\">7.2 스프링 인터셉터</a></li>\n<li><a href=\"#73-argumentresolver-%ED%99%9C%EC%9A%A9\">7.3 Argumentresolver 활용</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#8-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC%EC%99%80-%EC%98%A4%EB%A5%98-%ED%8E%98%EC%9D%B4%EC%A7%80\">8. 예외 처리와 오류 페이지</a></p>\n<ul>\n<li><a href=\"#81-%EC%84%9C%EB%B8%94%EB%A6%BF-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%9D%98-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC\">8.1 서블릿 컨테이너의 예외 처리</a></li>\n<li><a href=\"#82-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B6%80%ED%8A%B8-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC-%ED%8E%98%EC%9D%B4%EC%A7%80\">8.2 스프링 부트 예외 처리 페이지</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#9-api-%EC%98%88%EC%99%B8-%EC%B2%98%EB%A6%AC\">9. API 예외 처리</a></p>\n<ul>\n<li><a href=\"#exceptionhandler\">@ExceptionHandler</a></li>\n<li><a href=\"#advice\">Advice</a></li>\n<li><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#10-%EC%8A%A4%ED%94%84%EB%A7%81-%ED%83%80%EC%9E%85-%EC%BB%A8%EB%B2%84%ED%84%B0\">10. 스프링 타입 컨버터</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%B6%94%EA%B0%80-tip\">추가 Tip!</a></p>\n</li>\n<li>\n<p><a href=\"#reference\">Reference</a></p>\n</li>\n</ul>","frontmatter":{"title":"스프링 MVC 2 강의 정리 - 김영한","summary":["스프링 MVC 2 강의 정리한다"],"date":"2024.01.12.","update":"2024.01.13.","category":["Spring"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADbklEQVR42nVUSWgUQRTtROOGoiJxS6aqe2ZU0INKRFBQRLx4VYSIuB4iioqamV5mknTE5SYeBDF4EATB5GTArN09PZmMUckkKlFEL3pyP3hRQZMp3+9Jtz0hafjU76r/339/qZKkKZ8QUgVJ8C9JFeZdPs90+byy/bBdaH9GMM2RN6oWu5q0eL9q8deqzd5AXM1iN3C20zSlSrIzBdZJvezzDYzueDUA7mgO+2M+VUTzY1mkBkrSlJdFC/b0DC8iWJc2GGUpu7YmabFDYYxA0Xtr45rDx8xnisA6odl8XLWxWrxIQjqCjdNZyxPP5iPAroB1UzK/bpEUzl+3Vi8zXP6CDOH0F2BiOsHZBIDHmwZlYWTl341WzS6tj+1OuHxTObsMu9UKZmp/CcxjZntshE6S4QIBUQKl2Dwkw46NptzIFvJNZmvWJDJsf1A/I8fWw/gnOXqpQZryimgZQr08cPYH4L9Qt29Irx82JxoKqxb4/vogW2rkeH0AmM7ylOmxY38BWkwjHTgPAOiMbrE9el+sTreUtebzjUvM/x2taCtIVear9XM8UJcf1Kzo4hJDlz9sBhtK0chSmvJZaYaPxqpDSLP8iaBAHqDDDifzkdXeHIHVcGksFKrXJTLo6JBmma40mxh5szllqGlFnevRjJWlHshHVTdeKx2AI+pU8Bg67LNhKyvCTjOxQ/OOa07kiH+mufwYzWQp5QzvvDwapc5a06VJLImxz1LNsHM0/HQt6Z9IpQfkk0EN01m55crLKM2Y7QN46YrJBkwCmX3R5WjUA1zHR6fd6oVBl3tjcTQ0ETDADNahSxNI+Qeoy+H5bCvUVam2shUgN1WUBDW+fbY7PpeCNbRJVZ6/zdNqH99bVmCkfe/aWEykstxqtPguBGnQbHYfnX8H5t+g9yZtZYfv4wfETJ6CTbs0tWOYt6juyKM4bMTtGMGNoCEfgd6qZfnmBjClMhi5ldVqT2QDmrIPGfUg0KeEE4mVPQ5BsdH2i72xSDonj9BVw3B/QM3eI8gXNOw79K/earHf1MR0Xv50vqt0/YJ6T32+Et2RGFLspJpeKkQFPWH0bHlPFx6O1mFFGBm5iFemXe3G3JUxm2bOfB0N2I50rkOyqsPfgtlb0mlPt/g2//rNCBYGDRuZwqy8MFQ7n4T0cEbTDf8/bs8FuH++Hz4AAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/daf23c051d1970bd74a5bdb9fe7de872/5f2c3/thumbnail.png","srcSet":"/static/daf23c051d1970bd74a5bdb9fe7de872/90cd3/thumbnail.png 100w,\n/static/daf23c051d1970bd74a5bdb9fe7de872/614dc/thumbnail.png 200w,\n/static/daf23c051d1970bd74a5bdb9fe7de872/5f2c3/thumbnail.png 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[{"srcSet":"/static/daf23c051d1970bd74a5bdb9fe7de872/e64f1/thumbnail.webp 100w,\n/static/daf23c051d1970bd74a5bdb9fe7de872/8b00d/thumbnail.webp 200w,\n/static/daf23c051d1970bd74a5bdb9fe7de872/9c0a1/thumbnail.webp 400w","type":"image/webp","sizes":"(min-width: 400px) 400px, 100vw"}]},"width":400,"height":400}},"publicURL":"/static/daf23c051d1970bd74a5bdb9fe7de872/thumbnail.png"}}}}]}},"pageContext":{"slug":"/SpringStudy_4/","series":[{"slug":"/SpringStudy_1/","title":"스프링 입문 강의 정리 - 김영한","num":1,"current":false},{"slug":"/SpringStudy_2/","title":"스프링 핵심 원리 강의 정리 - 김영한","num":2,"current":false},{"slug":"/SpringStudy_3/","title":"스프링 MVC 1 강의 정리 - 김영한","num":3,"current":false},{"slug":"/SpringStudy_4/","title":"스프링 MVC 2 강의 정리 - 김영한","num":4,"current":true}],"lastmod":"2024.01.13.","prev":{"fields":{"slug":"/gatsbyBlog_2/"},"frontmatter":{"title":"Gatsby Blog Theme 제작기 2","date":"2023.08.17.","update":"2023.08.17.","category":["Gatsby"],"tags":["React","Gatsby"],"summary":["Gatsby Blog 구현 (Project structure & Page work)"]}},"next":{"fields":{"slug":"/CMakeMakefile/"},"frontmatter":{"title":"CMake, Makefile에 대해 알아보자","date":"2024.03.17.","update":"2024.03.17.","category":["C"],"tags":["C"],"summary":["CMake와 Makefile에 대해 알아보자"]}}}},"staticQueryHashes":["427104293"],"slicesMap":{}}